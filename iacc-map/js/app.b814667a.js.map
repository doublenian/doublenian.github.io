{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/template/marker.hbs","webpack:///./src/template/tips.hbs","webpack:///./src/template/older-info.hbs","webpack:///./src/template/alarm.hbs","webpack:///./src/template/monitor.hbs","webpack:///./src/utils/eventbus.js","webpack:///./src/scripts/startup.js","webpack:///./src/scripts/globalMapEvent.js","webpack:///./src/utils/index.js","webpack:///./src/scripts/track.js","webpack:///./src/scripts/curveLine.js","webpack:///./src/utils/position.js","webpack:///./src/scripts/point.js","webpack:///./src/scripts/orgMarker.js","webpack:///./src/scripts/gaodeCircle.js","webpack:///./src/scripts/alarmCircle.js","webpack:///./src/scripts/orgPoint.js","webpack:///./src/scripts/storyboard.js","webpack:///./src/utils/assets.js","webpack:///./src/scripts/threeDModel.js","webpack:///./src/scripts/markerPoint.js","webpack:///./src/scripts/routeLine.js","webpack:///./src/scripts/community.js","webpack:///./src/scripts/l7Map.js","webpack:///./src/scripts/domEventsHandler.js","webpack:///./src/scripts/index.js","webpack:///./src/data/org-data.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Handlebars","template","container","depth0","helpers","partials","helper","escapeExpression","hooks","helperMissing","nullContext","tips","url","EventEmitter","require","EventBus","this","emitter","instance","StartUp","map","scene","getInstance","request","start","zoom","draw","setRotation","cancelAnimationFrame","emit","interval","setInterval","setZoom","clearInterval","animate","requestAnimationFrame","GlobalMapEvent","initMapEvent","initSceneEvent","on","e","document","querySelector","innerText","lnglat","getLng","getLat","getPitch","getZoom","parseRouteToPath","route","path","steps","step","delay","Promise","resolve","setTimeout","pointOnCircle","coordinates","angle","radius","beta","parseFloat","Math","cos","sin","getRandomInt","min","max","floor","random","getRandomAngle","amount","arr","Set","get3PointAroundCenter","remainOrgs","threePoint","orgNames","forEach","index","includes","filter","combileTwoPoint","coord1","coord2","lng1","lat1","lng2","lat2","AiZhaohu","lng","lat","coord","Track","startPosition","endPosition","driving","AMap","Driving","policy","DrivingPolicy","LEAST_TIME","ferry","province","_route","search","LngLat","status","routes","drawRoute","console","error","dataGeo","type","crs","properties","features","Id","经济带名称","经济带分类","geometry","LineLayer","zIndex","source","color","size","shape","style","lineType","enable","duration","trailLength","render","removeLayer","CurveLine","_curveLine","parser","x","y","x1","y1","opacity","undefined","cameraMove","end","fiveRoutePoint","randomPoint","alarmPoint","Point","position","_pointLayer","PointLayer","active","markerTemp","OrgMarker","mapinstance","item","animation","godMode","_marker","markerHtml","Marker","anchor","content","clickable","offset","Pixel","remove","GaodeCircle","alarmCircle1","alarmCircle2","anime","Circle","center","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","strokeStyle","startAnimate","myObject","radius1","radius2","self","targets","loop","easing","update","v","setRadius","setOptions","loopComplete","anim","pause","setMap","AlarmCircle","weight","OrgPoint","ratio","layerGroup","OverlayGroup","addOverlay","clearOverlays","tipsTemp","Storyboard","_godStoryLayerObj","orgMarker","curveLine","orgPoint","_huangpuStoryLayerObj","point","track","alarm","markerAudio","setCenter","then","ret","play","startPoint","panTo","setZoomAndCenter","destroy","huangPuAudio","clearGodStory","setStatus","scrollWheel","setPitch","prop1","Array","from","combile","round","panBy","endDelay","complete","stop","body","insertAdjacentHTML","baseUrl","location","href","ModelEnum","headquarters","normalOrg","AudioEnum","marker","waitan","warning","detail","ImageEnum","head","AvatarEnum","threeDModel","object3Dlayer","model","options","_gltfObj","GltfLoader","load","gltfObj","setOption","scale","height","rotateX","rotateY","rotateZ","add","olderInfo","markerPoint","Howl","src","preload","image","icon","autoRotation","bubble","label","ev","html","setLabel","direction","setIcon","off","RouteLine","endPoint","polyline","passedPolyline","timer","Walking","Polyline","isOutline","lineJoin","currentCount","count","setPath","passedPath","moveAlong","alarmTemp","Community","_olderIcon","createIcon","_staffIcon","routeLine","oldersPoint","staffPoint","orderIndex","heatmap","isRunning","showHeatMap","isDisplayAvatar","alarmAudio","alarmHtml","Icon","Size","imageSize","addEventListener","setFeatures","MarkerPoint","createHeatMap","heatPoints","older","getRandomAnglefrom360","Heatmap","gradient","0.5","0.65","0.7","0.9","1","setDataSet","monitorTemp","minPoint","pointArr","distancesPoint","GeometryUtil","distance","find","getMinDistancePoint","startRouting","circle","clearCommunity","urlIndex","setAvatar","alert","startCoord","endCoord","L7Map","hasStartup","Map","resizeEnable","rotateEnable","pitchEnable","pitch","viewMode","rotation","maxZoom","minZoom","animateEnable","mapStyle","Object3DLayer","headquarters3D","ThreeDModel","L7","Scene","zoomControl","scaleControl","attributionControl","onSceneLoaded","initEvent","storyboard","addToLayer","returnToGodStory","addAudioAssets","addLocalImageToScene","init","async","startGodStory","startHuangpuStory","clearHuangpuStory","autoplay","Howler","volume","addImage","simulateAlarm","goBack","turnOnHeatMap","displayAvatar","closeMonitor","orgList","address","goNext"],"mappings":"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H,KAAM,cACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,cACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAIT,CACErH,KAAM,gBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAIT,CACErH,KAAM,WACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,aACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,cAGT,CACErH,KAAM,cACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,eACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,aACNia,QAAS,CACP3S,IAAK,UACLD,IAAK,cAGT,CACErH,KAAM,YACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,SACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,aACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,kBACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,eAGT,CACErH,KAAM,YACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,YACNia,QAAS,CACP3S,IAAK,UACLD,IAAK,cAGT,CACErH,KAAM,gBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,gBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,YACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,eAGT,CACErH,KAAM,SACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,SACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,SACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,SACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,SACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,mBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,iBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,aAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,WACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,cAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,cAGT,CACErH,KAAM,gBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,oBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,cAGT,CACErH,KAAM,UACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,aACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,YACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,kBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,iBACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,eAGT,CACErH,KAAM,iBACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,cAGT,CACErH,KAAM,iBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,WACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,cACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,WACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,cAGT,CACErH,KAAM,mBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,cAGT,CACErH,KAAM,qBACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,aACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,YACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,aACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,cAGT,CACErH,KAAM,aACNia,QAAS,CACP3S,IAAK,WACLD,IAAK,eAGT,CACErH,KAAM,cACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,eAGT,CACErH,KAAM,WACNia,QAAS,CACP3S,IAAK,YACLD,IAAK,gBDpfWxE,KAAI,SAAC/C,GACzB,MAAO,CACLuH,IAAKvH,EAAEma,QAAQ5S,KAAO,GACtBC,IAAKxH,EAAEma,QAAQ3S,KAAO,GACtBtH,KAAMF,EAAEE,KACRuH,MAAO,CAACzH,EAAEma,QAAQ5S,IAAKvH,EAAEma,QAAQ3S,SAElCV,QACD,SAAC9G,GAAD,OAAOA,EAAEuH,KAAOvH,EAAEwH,KAAiB,cAAVxH,EAAEuH,KAAiC,cAAVvH,EAAEwH,OAEhD4S,GAAS,SAAC3C,GACd,IAAID,GAAM0C,GAASzC,IAErBrT,SAASC,cAAc,gBAAgBoR,iBAAiB,SAAS,WAC/DrR,SAASC,cAAc,cAAc+H,SACrCgO,IAAO,MAEThW,SACGC,cAAc,mBACdoR,iBAAiB,SAAS,WACzB2E,IAAO,GACPhW,SAASC,cAAc,iBAAiB+H","file":"js/app.b814667a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([164,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"marker-wrapper\\\">\\n  <div class=\\\"red-line\\\"></div>\\n  <p>\"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":5},\"end\":{\"line\":3,\"column\":13}}}) : helper)))\n    + \"</p>\\n  <div class=\\\"red-line\\\"></div>\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"tips-wrapper\\\">\\n  \"\n    + container.escapeExpression(((helper = (helper = helpers.tips || (depth0 != null ? depth0.tips : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"tips\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":2,\"column\":10}}}) : helper)))\n    + \"\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"community-older-info\\\">\\n  <div class=\\\"title\\\">信息</div>\\n  <div class=\\\"personal-info-wrapper\\\">\\n    <div class=\\\"avatar-wrapper\\\">\\n      <img src=\\\"public/image/avatar/old3.png\\\" alt=\\\"\\\">\\n    </div>\\n    <ul>\\n      <li>\\n        <div class=\\\"block-dot\\\"> </div> 王叔叔\\n      </li>\\n      <li>\\n        <div class=\\\"block-dot\\\"> </div> 男性\\n      </li>\\n      <li>\\n        <div class=\\\"block-dot\\\"> </div> 上海\\n      </li>\\n      <li>\\n        <div class=\\\"block-dot\\\"> </div> 79岁\\n      </li>\\n      <li>\\n        <div class=\\\"block-dot\\\"></div>认知障碍\\n      </li>\\n    </ul>\\n  </div>\\n  <div class=\\\"service-wrapper\\\">\\n    <div class=\\\"service-item\\\">\\n      <div>\\n        套餐\\n      </div>\\n      <p>EH2</p>\\n    </div>\\n    <div class=\\\"service-item\\\">\\n      <div>\\n        喜好\\n      </div>\\n      <p>看报纸、电视</p>\\n    </div>\\n    <div class=\\\"service-item\\\">\\n      <div>\\n        电话\\n      </div>\\n      <p>17602109258</p>\\n    </div>\\n  </div>\\n  <div class=\\\"bottom-decorate\\\"></div>\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"alarm-button-group\\\">\\n  <a onclick=\\\"displayAvatar()\\\">头像</a>\\n  <a onclick=\\\"turnOnHeatMap()\\\">热力图</a>\\n  <a onclick=\\\"simulateAlarm()\\\">模拟报警</a>\\n  <a onclick=\\\"goBack()\\\">返回</a>\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"org-monitor-wrapper\\\">\\n  <div class=\\\"title\\\">\\n    养老院实时监控视频\\n    <img src=\\\"public/image/close-icon.png\\\" class=\\\"close-icon\\\" onclick=\\\"closeMonitor()\\\" alt=\\\"\\\" />\\n  </div>\\n  <iframe\\n    src=\"\n    + container.escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":8},\"end\":{\"line\":7,\"column\":15}}}) : helper)))\n    + \"\\n    width=\\\"700\\\" height=\\\"560\\\" id=\\\"ysOpenDevice\\\" allowfullscreen>\\n  </iframe>\\n</div>\";\n},\"useData\":true});","const EventEmitter = require('eventemitter3')\nexport default class EventBus {\n  constructor() {\n    this.emitter = new EventEmitter()\n  }\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new EventBus()\n    }\n    return this.instance\n  }\n}\n","import EventBus from '~/utils/eventbus'\nexport default class StartUp {\n  constructor(map, scene) {\n    this.map = map\n    this.scene = scene\n    this.emitter = EventBus.getInstance().emitter\n  }\n  init() {\n    let request,\n      start = 0,\n      end = 360,\n      zoom = 3\n    let onRotationEnd = () => {\n      cancelAnimationFrame(request)\n      this.emitter.emit('rotationEnd')\n    }\n    let draw = () => {\n      start += 4\n      this.scene.setRotation(start)\n      if (start >= end) {\n        onRotationEnd()\n      }\n    }\n    const animate = () => {\n      request = requestAnimationFrame(animate)\n      draw()\n    }\n    let interval = setInterval(() => {\n      zoom += 1.01\n      if (zoom <= 16.1) {\n        this.scene.setZoom(zoom)\n      } else {\n        this.emitter.emit('zoomEnd')\n        clearInterval(interval)\n      }\n    }, 200)\n    animate()\n  }\n}\n","export default class GlobalMapEvent {\n  constructor(scene, map) {\n    this.scene = scene\n    this.map = map\n  }\n  initEvent() {\n    this.initMapEvent()\n    this.initSceneEvent()\n  }\n  initMapEvent() {\n    this.map.on('click', e => {\n      document.querySelector('#map-center').innerText =\n        e.lnglat.getLng() + ',' + e.lnglat.getLat()\n      document.querySelector('#map-pitch').innerText = this.map.getPitch()\n    })\n    this.map.on('zoomend', () => {\n      //document.querySelector('#map-zoom').innerText = this.map.getZoom()\n    })\n    this.map.on('zoomchange', () => {\n      document.querySelector('#map-zoom').innerText = this.map.getZoom()\n    })\n  }\n  initSceneEvent() {\n    // this.scene.on('zoomend', ev => {\n    //   console.log('====zoom changed======')\n    // })\n  }\n}\n","export function parseRouteToPath(route) {\n  var path = []\n\n  for (var i = 0, l = route.steps.length; i < l; i++) {\n    var step = route.steps[i]\n\n    for (var j = 0, n = step.path.length; j < n; j++) {\n      path.push(step.path[j])\n    }\n  }\n  return path\n}\n\nexport function parseRideRouteToPath(route) {\n  var path = []\n\n  for (var i = 0, l = route.rides.length; i < l; i++) {\n    var step = route.rides[i]\n    for (var j = 0, n = step.path.length; j < n; j++) {\n      path.push(step.path[j])\n    }\n  }\n  return path\n}\n\nexport function delay(s) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve()\n    }, s * 1000)\n  })\n}\n\nexport function pointOnCoord(coordinates) {\n  return {\n    type: 'FeatureCollection',\n    features: [\n      {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n          type: 'Point',\n          coordinates: coordinates,\n        },\n      },\n    ],\n  }\n}\n\nexport function pointOnCircle(coordinates, angle, radius = 0.004, beta = 0) {\n  return [\n    parseFloat(coordinates[0]) + Math.cos(angle) * radius,\n    parseFloat(coordinates[1]) + Math.sin(angle) * radius + beta,\n  ]\n}\n\n/**\n * Get a random integer between `min` and `max`.\n *\n * @param {number} min - min number\n * @param {number} max - max number\n * @return {number} a random integer\n */\nexport function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\nexport function getRandomAngle(amount) {\n  const angle = [0, 30, 50, 80, 110, 140, 160, 180, 240, 270, 300, 330, 350]\n  const arr = []\n  for (let i = 0; i < amount; i++) {\n    arr.push(angle[getRandomInt(0, angle.length - 1)])\n  }\n  //去重\n  return [...new Set(arr)]\n}\n\nexport function getRandomAnglefrom360(amount) {\n  let arr = []\n  for (let i = 0; i < amount; i++) {\n    arr.push(getRandomInt(60, 90))\n  }\n  return arr\n}\n\n/**\n * 获取总部周围的3个机构\n * @param {*} data\n */\nexport function get3PointAroundCenter(data) {\n  let d = [...data]\n  let threePoint = [],\n    remainOrgs = []\n  const orgNames = [\n    '上海曹杨社区长者照护之家',\n    '上海普陀区石泉街道爱照护长者照护之家',\n    '上海普陀区忆桃园长者照护之家',\n  ]\n  d.forEach((c, index) => {\n    orgNames.includes(c.name) && threePoint.push(c)\n  })\n  remainOrgs = d.filter((c) => !orgNames.includes(c.name))\n  return {\n    threePoint,\n    remainOrgs,\n  }\n}\n\nexport function combileTwoPoint(coord1, coord2) {\n  return [\n    {\n      lng1: coord1[0],\n      lat1: coord1[1],\n      lng2: coord2[0],\n      lat2: coord2[1],\n    },\n  ]\n}\n//从 A 到 B\n\nexport function centerToAll(center, orgs) {\n  return orgs.map((c) => {\n    return {\n      lng1: center.lng,\n      lat1: center.lat,\n      lng2: c.lng,\n      lat2: c.lat,\n    }\n  })\n}\n\n//计算 一组点中，距离离point 最近的那个点\nexport function getMinDistancePoint(point, pointArr) {\n  let distancesPoint = []\n  pointArr.forEach((c) => {\n    let d = AMap.GeometryUtil.distance(point.position, c.position)\n    distancesPoint.push({\n      point: c,\n      distance: d,\n    })\n  })\n  let min = Math.min(...distancesPoint.map((c) => c.distance))\n  let minPoint = distancesPoint.find((c) => c.distance === min)\n  return minPoint.point\n}\n\nexport const AiZhaohu = {\n  lng: '121.421939',\n  lat: '31.256198',\n  name: '总部',\n  coord: ['121.421939', '31.256198'],\n}\n","import { parseRouteToPath } from '~/utils'\nexport default class Track {\n  constructor(scene, startPosition, endPosition) {\n    this.startPosition = startPosition\n    this.endPosition = endPosition\n    this.scene = scene\n    this.driving = new AMap.Driving({\n      policy: AMap.DrivingPolicy.LEAST_TIME, // 其它policy参数请参考 https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingPolicy\n      ferry: 1, // 是否可以使用轮渡\n      province: '沪' // 车牌省份的汉字缩写\n    })\n    this._route = null\n  }\n  create() {\n    // 根据起终点经纬度规划驾车导航路线\n    this.driving.search(\n      new AMap.LngLat(this.startPosition.lng, this.startPosition.lat),\n      new AMap.LngLat(this.endPosition.lng, this.endPosition.lat),\n      (status, result) => {\n        if (status === 'complete') {\n          if (result.routes && result.routes.length) {\n            this.drawRoute(parseRouteToPath(result.routes[0]))\n            // this.drawRouteByGaoDe(parseRouteToPath(result.routes[0]))\n          }\n        } else {\n          console.error('获取驾车数据失败：' + result)\n        }\n      }\n    )\n    return this\n  }\n  drawRoute(data) {\n    let gpsData = data.map(c => {\n      return [c.lng, c.lat]\n    })\n    let dataGeo = {\n      type: 'FeatureCollection',\n      crs: {\n        type: 'name',\n        properties: { name: 'urn:ogc:def:crs:OGC:1.3:CRS84' }\n      },\n      features: [\n        {\n          type: 'Feature',\n          properties: {\n            Id: 0,\n            经济带名称: '',\n            经济带分类: '海上丝绸之路'\n          },\n          geometry: { type: 'LineString', coordinates: gpsData }\n        }\n      ]\n    }\n    this._route = this.scene\n      .LineLayer({\n        zIndex: 3\n      })\n      .source(dataGeo)\n      .color('rgb(80,148,246)')\n      .size(6)\n      .shape('line')\n      .style({\n        lineType: 'solid'\n      })\n      .animate({\n        enable: true,\n        duration: 3, // 动画时间\n        interval: 0.5,\n        trailLength: 0.8\n      })\n      .render()\n  }\n  destroy() {\n    this._route && this.scene.removeLayer(this._route)\n  }\n}\n","export default class CurveLine {\n  constructor(scene, data) {\n    this.scene = scene\n    this.data = data\n    this._curveLine = null\n  }\n  create() {\n    this._curveLine = this.scene\n      .LineLayer({\n        zIndex: 1\n      })\n      .source(this.data, {\n        parser: {\n          type: 'json',\n          x: 'lng1',\n          y: 'lat1',\n          x1: 'lng2',\n          y1: 'lat2'\n        }\n      })\n      // .shape('greatCircle')\n      .shape('arc')\n      .size(1)\n      .color('rgb(60,255,255)')\n      .style({\n        opacity: 1\n      })\n      .animate({\n        enable: true,\n        interval: 0.1,\n        duration: 1,\n        trailLength: 0.05\n      })\n      .render()\n    return this\n  }\n  destroy() {\n    this._curveLine && this.scene.removeLayer(this._curveLine)\n    this._curveLine = undefined\n  }\n}\n","export const cameraMove = {\n  start: ['121.494278', '31.22232'],\n  end: ['121.507043', '31.264138']\n}\n\nexport const fiveRoutePoint = [\n  ['121.50709', '31.232342'],\n  ['121.487612', '31.226219'],\n  ['121.4442', '31.254823'],\n  ['121.512674', '31.298841'],\n  ['121.490284', '31.24591']\n]\n\n/**\n * 黄浦江数据\n */\nexport const randomPoint = [\n  [121.492194, 31.223243],\n  [121.493447, 31.225991],\n  [121.490614, 31.228021],\n  [121.493348, 31.230312],\n  [121.494762, 31.227324], //初始点\n\n  [121.499077, 31.238828],\n  [121.499426, 31.241159],\n  [121.500972, 31.23697],\n  [121.503185, 31.240124], //中间\n\n  [121.505603, 31.262155],\n  [121.507822, 31.26076],\n  [121.503254, 31.261694],\n  [121.507355, 31.259496],\n  [121.5096, 31.260547]\n]\n\nexport const alarmPoint = [\n  [121.493265, 31.224081],\n  [121.501204, 31.238447],\n  [121.503334, 31.251916],\n  [121.508311, 31.263433]\n]\n","import { pointOnCoord } from '~/utils'\n\nexport default class Point {\n  constructor(scene, position, shape) {\n    this.scene = scene\n    this.position = position\n    this.shape = shape\n    this._pointLayer = null\n  }\n  create() {\n    this._pointLayer = this.scene\n      .PointLayer({\n        zIndex: 0\n      })\n      .source(pointOnCoord(this.position))\n      .shape(this.shape)\n      .size(30)\n      .active(true)\n      .render()\n    return this\n  }\n  destroy() {\n    this._pointLayer && this.scene.removeLayer(this._pointLayer)\n  }\n}\n","let markerTemp = require('~/template/marker.hbs')\nimport EventBus from '~/utils/eventbus'\nexport default class OrgMarker {\n  constructor(mapinstance, item, animation = false, godMode = true) {\n    this.mapinstance = mapinstance\n    this.item = item\n    this._marker = null\n    this.animation = animation\n    this.godMode = godMode\n    this.emitter = EventBus.getInstance().emitter\n  }\n  create() {\n    let markerHtml = markerTemp({\n      name: this.item.name\n    })\n    this._marker = new AMap.Marker({\n      map: this.mapinstance,\n      position: new AMap.LngLat(this.item.lng, this.item.lat),\n      anchor: 'top-left',\n      content: markerHtml,\n      animation: this.animation ? 'AMAP_ANIMATION_DROP' : 'AMAP_ANIMATION_NONE',\n      clickable: true,\n      offset: new AMap.Pixel(20, -84)\n    })\n    if (this.godMode) {\n      this._marker.on('click', () => {\n        this.emitter.emit('orgMarkerClicked', {\n          item: this.item\n        })\n      })\n    } else {\n      this._marker.on('click', () => {\n        this.emitter.emit('CommunityOrgMarkerClicked', {\n          item: this.item\n        })\n      })\n    }\n\n    return this\n  }\n  destroy() {\n    this._marker && this.mapinstance.remove(this._marker)\n  }\n}\n","import anime from 'animejs/lib/anime.es'\nconst strokeWeight = 80\nexport default class GaodeCircle {\n  constructor(map, position) {\n    this.map = map\n    this.position = position\n    this.alarmCircle1 = null\n    this.alarmCircle2 = null\n    this.anime = null\n  }\n  create() {\n    this.alarmCircle1 = new AMap.Circle({\n      map: this.map,\n      center: new AMap.LngLat(this.position.lng, this.position.lat),\n      radius: 0,\n      strokeColor: '#3ea0fb',\n      strokeOpacity: 1,\n      strokeWeight: 3,\n      fillColor: '#fff',\n      fillOpacity: 0,\n      strokeStyle: 'solid'\n    })\n    this.alarmCircle2 = new AMap.Circle({\n      map: this.map,\n      center: new AMap.LngLat(this.position.lng, this.position.lat),\n      radius: 0,\n      strokeColor: '#3ea0fb',\n      strokeOpacity: 0.56,\n      strokeWeight: 3,\n      fillColor: '#fff',\n      fillOpacity: 0,\n      strokeStyle: 'solid'\n    })\n    this.startAnimate()\n    return this\n  }\n  startAnimate() {\n    var myObject = {\n      radius1: 0,\n      radius2: strokeWeight,\n      strokeOpacity: 10\n    }\n    let self = this\n    this.anime = anime({\n      targets: myObject,\n      radius1: strokeWeight,\n      radius2: strokeWeight * 2,\n      strokeOpacity: 56,\n      duration: 1 * 1000,\n      loop: true,\n      easing: 'cubicBezier(.5, .05, .1, .3)',\n      update(v) {\n        self.alarmCircle1.setRadius(myObject.radius1)\n        self.alarmCircle2.setRadius(myObject.radius2)\n        let weight = strokeWeight - myObject.strokeWeight\n        let opacity = (100 - myObject.strokeOpacity) / 100\n        self.alarmCircle2.setOptions({\n          strokeOpacity: opacity\n        })\n      },\n      loopComplete: function(anim) {\n        self.alarmCircle1.setRadius(0)\n        self.alarmCircle2.setRadius(strokeWeight)\n      }\n    })\n  }\n  destroy() {\n    this.anime.pause()\n    this.alarmCircle1.setMap(null)\n    this.alarmCircle2.setMap(null)\n    this.anime = undefined\n    this.alarmCircle1 = undefined\n    this.alarmCircle2 = undefined\n  }\n}\n","import anime from 'animejs/lib/anime.es'\n\nconst strokeWeight = 30\n\nexport default class AlarmCircle {\n  constructor(map, position, radius = 200) {\n    this.map = map\n    this.position = position\n    this.alarmCircle1 = null\n    this.anime = null\n    this.radius = radius\n  }\n  create() {\n    this.alarmCircle1 = new AMap.Circle({\n      map: this.map,\n      center: new AMap.LngLat(this.position[0], this.position[1]),\n      radius: 0,\n      strokeColor: '#F59F23',\n      strokeOpacity: 1,\n      strokeWeight: 0,\n      fillColor: '#fff',\n      fillOpacity: 0,\n      strokeStyle: 'solid'\n    })\n    this.startAnimate()\n    return this\n  }\n  startAnimate() {\n    var myObject = {\n      radius1: 0,\n      strokeWeight: 0,\n      strokeOpacity: 0.1\n    }\n    let self = this\n    this.anime = anime({\n      targets: myObject,\n      radius1: this.radius,\n      strokeOpacity: 100,\n      strokeWeight: 30,\n      duration: 1.5 * 1000,\n      loop: true,\n      easing: 'cubicBezier(.5, .05, .1, .3)',\n      update(v) {\n        self.alarmCircle1.setRadius(myObject.radius1)\n        let weight = strokeWeight - myObject.strokeWeight\n        let opacity = (100 - myObject.strokeOpacity) / 100\n        self.alarmCircle1.setOptions({\n          strokeOpacity: opacity,\n          strokeWeight: weight\n        })\n      },\n      loopComplete: function(anim) {\n        self.alarmCircle1.setRadius(0)\n      }\n    })\n  }\n  destroy() {\n    this.anime.pause()\n    this.alarmCircle1.setMap(null)\n  }\n}\n","export default class OrgPoint {\n  constructor(map, position, ratio = 1) {\n    this.map = map\n    this.position = position\n    this.layerGroup = null\n    this.ratio = ratio\n  }\n  create() {\n    this.layerGroup = new AMap.OverlayGroup()\n    this.layerGroup.addOverlay(\n      new AMap.Circle({\n        center: new AMap.LngLat(this.position.lng, this.position.lat),\n        radius: 40 / this.ratio,\n        fillColor: '#38A5FF',\n        fillOpacity: 1,\n        strokeStyle: 'solid',\n        strokeOpacity: 0\n      })\n    )\n    this.layerGroup.addOverlay(\n      new AMap.Circle({\n        center: new AMap.LngLat(this.position.lng, this.position.lat),\n        radius: 100 / this.ratio,\n        fillColor: '#38A5FF',\n        fillOpacity: 0.64,\n        strokeStyle: 'solid',\n        strokeOpacity: 0\n      })\n    )\n\n    this.layerGroup.addOverlay(\n      new AMap.Circle({\n        center: new AMap.LngLat(this.position.lng, this.position.lat),\n        radius: 160 / this.ratio,\n        fillColor: '#38A5FF',\n        fillOpacity: 0.4,\n        strokeStyle: 'solid',\n        strokeOpacity: 0\n      })\n    )\n    this.layerGroup.setMap(this.map)\n    return this\n  }\n  destroy() {\n    this.layerGroup.clearOverlays()\n    this.layerGroup.setMap(null)\n  }\n}\n","// import GaodeCircle from './GaodeCircle'\nimport Track from './track'\nimport CurveLine from './curveLine'\nimport { Howl, Howler } from 'howler'\nimport {\n  fiveRoutePoint,\n  cameraMove,\n  randomPoint,\n  alarmPoint\n} from '~/utils/position'\nimport anime from 'animejs/lib/anime.es'\nimport Point from './point'\nimport OrgMarker from './orgMarker'\nimport EventBus from '~/utils/eventbus'\nimport GaodeCircle from './gaodeCircle'\nimport AlarmCircle from './alarmCircle'\nimport OrgPoint from './orgPoint'\nlet tipsTemp = require('~/template/tips.hbs')\n\nimport {\n  getRandomAngle,\n  pointOnCircle,\n  get3PointAroundCenter,\n  AiZhaohu,\n  combileTwoPoint,\n  delay\n} from '~/utils'\nexport default class Storyboard {\n  constructor(scene, map, data) {\n    this.scene = scene\n    this.mapinstance = map\n    this.data = data\n    this.emitter = EventBus.getInstance().emitter\n    this._godStoryLayerObj = {\n      orgMarker: [],\n      curveLine: [],\n      GaodeCircle: [],\n      orgPoint: []\n    }\n    this._huangpuStoryLayerObj = {\n      point: [],\n      track: [],\n      alarm: []\n    }\n  }\n  //开始进入的上帝视角\n  async startGodStory(markerAudio) {\n    this.mapinstance.setCenter(new AMap.LngLat(AiZhaohu.lng, AiZhaohu.lat))\n\n    //创建总部Marker\n    this._godStoryLayerObj.orgMarker.push(\n      new OrgMarker(this.mapinstance, AiZhaohu).create()\n    )\n    delay(1).then(ret => {\n      markerAudio.play()\n    })\n    //创建总部圈圈\n    this._godStoryLayerObj.GaodeCircle.push(\n      new GaodeCircle(this.mapinstance, {\n        lng: AiZhaohu.lng,\n        lat: AiZhaohu.lat\n      }).create()\n    )\n    let { threePoint, remainOrgs } = get3PointAroundCenter(this.data)\n    let startPoint = AiZhaohu\n    //开场 创建旁边三个机构，圈圈以及射线分别射向他们\n    for (let i = 0; i < threePoint.length; i++) {\n      await delay(4)\n      this._godStoryLayerObj.GaodeCircle.push(\n        new GaodeCircle(this.mapinstance, {\n          lng: threePoint[i].lng,\n          lat: threePoint[i].lat\n        }).create()\n      )\n      this._godStoryLayerObj.orgMarker.push(\n        new OrgMarker(this.mapinstance, threePoint[i]).create()\n      )\n      delay(1).then(ret => {\n        markerAudio.play()\n      })\n      this._godStoryLayerObj.curveLine.push(\n        new CurveLine(\n          this.scene,\n          combileTwoPoint(startPoint.coord, threePoint[i].coord)\n        ).create()\n      )\n      this.scene.panTo(threePoint[i].coord)\n    }\n    await delay(3)\n    this.scene.setZoomAndCenter(14.2, AiZhaohu.coord)\n    remainOrgs.forEach(c => {\n      this._godStoryLayerObj.orgMarker.push(\n        new OrgMarker(this.mapinstance, c).create()\n      )\n      this._godStoryLayerObj.GaodeCircle.push(\n        new GaodeCircle(this.mapinstance, {\n          lng: c.lng,\n          lat: c.lat\n        }).create()\n      )\n      this._godStoryLayerObj.curveLine.push(\n        new CurveLine(\n          this.scene,\n          combileTwoPoint(startPoint.coord, c.coord)\n        ).create()\n      )\n    })\n    await delay(5)\n  }\n  clearGodStory() {\n    this._godStoryLayerObj.curveLine.forEach(c => {\n      c.destroy()\n    })\n    this._godStoryLayerObj.GaodeCircle.forEach(c => {\n      c.destroy()\n    })\n    this._godStoryLayerObj.orgMarker.forEach(c => {\n      c.destroy()\n    })\n    this._godStoryLayerObj.orgPoint.forEach(c => {\n      c.destroy()\n    })\n    this._godStoryLayerObj.curveLine = []\n    this._godStoryLayerObj.GaodeCircle = []\n    this._godStoryLayerObj.orgMarker = []\n    this._godStoryLayerObj.orgPoint = []\n  }\n  //黄浦江视角\n  async startHuangpuStory(huangPuAudio) {\n    this.clearGodStory()\n    this.mapinstance.setStatus({\n      scrollWheel: false\n    })\n    this.scene.setCenter(cameraMove.start)\n    this._huangpuStoryLayerObj.point.push(\n      new Point(this.scene, cameraMove.start, 'yellow-point').create()\n    )\n    this._huangpuStoryLayerObj.point.push(\n      new Point(this.scene, cameraMove.end, 'green-point').create()\n    )\n\n    this.scene.setZoom(17)\n    this.scene.setRotation(40)\n    let rotate = 0\n    this.scene.setPitch(60)\n    this.scene.panTo(cameraMove.start)\n    var myObject = {\n      prop1: 0\n    }\n    let self = this\n    Array.from([cameraMove.start, cameraMove.end]).forEach(item => {\n      fiveRoutePoint.forEach(c => {\n        let combile = combileTwoPoint(item, c)[0]\n        this._huangpuStoryLayerObj.track.push(\n          new Track(\n            this.scene,\n            {\n              lng: combile.lng1,\n              lat: combile.lat1\n            },\n            {\n              lng: combile.lng2,\n              lat: combile.lat2\n            }\n          ).create()\n        )\n      })\n    })\n    randomPoint.forEach((c, index) => {\n      if (index % 3 == 0) {\n        this._huangpuStoryLayerObj.point.push(\n          new Point(this.scene, c, 'yellow-point').create()\n        )\n      } else {\n        this._huangpuStoryLayerObj.point.push(\n          new Point(this.scene, c, 'green-point').create()\n        )\n      }\n    })\n    alarmPoint.forEach(c => {\n      this._huangpuStoryLayerObj.alarm.push(\n        new AlarmCircle(this.mapinstance, c, 500).create()\n      )\n    })\n    await delay(2)\n    huangPuAudio.play()\n    anime({\n      targets: myObject,\n      prop1: 40,\n      easing: 'linear',\n      duration: 25 * 1000,\n      round: 1,\n      update(v) {\n        self.mapinstance.panBy(-5, 4)\n        // self.scene.panBy(-5, 4)\n      },\n      endDelay: 0,\n      complete() {\n        // self.scene.setCenter([121.487918, 31.24109])\n        // self.scene.setZoom(14.03)\n        huangPuAudio.stop()\n        self.emitter.emit('huangpuStoryEnd')\n      }\n    })\n  }\n  returnToGodStory() {\n    document.body.insertAdjacentHTML(\n      'beforeend',\n      tipsTemp({\n        tips: '点击机构名进入社区模式'\n      })\n    )\n    this.mapinstance.setCenter(new AMap.LngLat(AiZhaohu.lng, AiZhaohu.lat))\n    this.scene.setPitch(40)\n    this.scene.setZoom(14.2)\n    let startPoint = AiZhaohu\n\n    this.data.forEach(c => {\n      this._godStoryLayerObj.orgMarker.push(\n        new OrgMarker(this.mapinstance, c).create()\n      )\n      this._godStoryLayerObj.orgPoint.push(\n        new OrgPoint(this.mapinstance, {\n          lng: c.lng,\n          lat: c.lat\n        }).create()\n      )\n      this._godStoryLayerObj.curveLine.push(\n        new CurveLine(\n          this.scene,\n          combileTwoPoint(startPoint.coord, c.coord)\n        ).create()\n      )\n    })\n  }\n  clearHuangpuStory() {\n    this._huangpuStoryLayerObj.point.forEach(c => {\n      c.destroy()\n    })\n    this._huangpuStoryLayerObj.track.forEach(c => {\n      c.destroy()\n    })\n    this._huangpuStoryLayerObj.alarm.forEach(c => {\n      c.destroy()\n    })\n    this._huangpuStoryLayerObj.point = []\n    this._huangpuStoryLayerObj.track = []\n    this._huangpuStoryLayerObj.alarm = []\n    this.mapinstance.setStatus({\n      scrollWheel: true\n    })\n  }\n  //创建机构的名字Marker\n  addMarker(item) {\n    let markerHtml = markerTemp({\n      name: item.name\n    })\n    new AMap.Marker({\n      map: this.mapinstance,\n      position: new AMap.LngLat(item.lng, item.lat),\n      anchor: 'top-left',\n      content: markerHtml,\n      animation: 'AMAP_ANIMATION_NONE',\n      offset: new AMap.Pixel(20, -84)\n    })\n  }\n}\n","const baseUrl = window.location.href\n\n//3D 模型资源\nexport const ModelEnum = {\n  headquarters: baseUrl + 'public/3d/big-building/scene.gltf',\n  normalOrg: baseUrl + 'public/3d/small-building/scene.gltf'\n}\n\n//声音资源\nexport const AudioEnum = {\n  marker: baseUrl + 'public/sound/marker.mp3',\n  waitan: baseUrl + 'public/sound/waitan.mp3',\n  warning: baseUrl + 'public/sound/warning1.mp3',\n  detail: baseUrl + 'public/sound/info-detail.mp3'\n}\n\n//图片资源\n\nexport const ImageEnum = {\n  head: baseUrl + 'public/image/navigator.png',\n  'green-point': baseUrl + 'public/image/green-point.png',\n  'yellow-point': baseUrl + 'public/image/yellow-point.png'\n}\n\n//头像资源\n\nexport const AvatarEnum = {\n  older: baseUrl + 'public/image/avatar/old',\n  staff: baseUrl + 'public/image/avatar/staff'\n}\n","export default class threeDModel {\n  /**\n   * @param {*} object3Dlayer\n   * @param {*} model\n   * @param {*} options 3D loader的options,如 scale,height,scene\n   * @param {*} position\n   */\n  constructor(object3Dlayer, model, options, position) {\n    this.object3Dlayer = object3Dlayer\n    this.model = model\n    this.options = options\n    this.position = position\n    this._gltfObj = null\n  }\n  create() {\n    let gltfLoader = new AMap.GltfLoader()\n    gltfLoader.load(this.model, gltfObj => {\n      this._gltfObj = gltfObj\n      gltfObj.setOption({\n        position: new AMap.LngLat(this.position.lng, this.position.lat), // 必须\n        scale: this.options.scale || 1, // 非必须，默认1\n        height: this.options.height || 0, // 非必须，默认0\n        scene: this.options.scene || 0 // 非必须，默认0\n      })\n      gltfObj.rotateX(this.options.rotateX || 0)\n      gltfObj.rotateY(this.options.rotateY || 0)\n      gltfObj.rotateZ(this.options.rotateZ || 0)\n      this.object3Dlayer.add(gltfObj)\n    })\n    return this\n  }\n  addToLayer() {\n    this.object3Dlayer.add(this._gltfObj)\n  }\n  destroy() {\n    this._gltfObj && this.object3Dlayer.remove(this._gltfObj)\n  }\n}\n","let olderInfo = require('~/template/older-info.hbs')\nimport { Howl, Howler } from 'howler'\nimport { AudioEnum } from '~/utils/assets'\nconst detailAudio = new Howl({\n  src: [AudioEnum.detail],\n  preload: true,\n  loop: false\n})\nexport default class markerPoint {\n  constructor(map, position, image) {\n    this.map = map\n    this.position = position\n    this.image = image\n    this.marker = null\n  }\n  create() {\n    this.marker = new AMap.Marker({\n      map: this.map,\n      position: this.position, //[116.478935, 39.997761]\n      icon: this.image,\n      offset: new AMap.Pixel(-26, -18),\n      autoRotation: false,\n      zIndex: 0,\n      bubble: false,\n      label: null\n    })\n    this.marker.on('mouseover', ev => {\n      let html = olderInfo()\n      this.marker.setLabel({\n        content: html,\n        direction: 'right'\n      })\n      // detailAudio.play()\n    })\n    this.marker.on('mouseout', () => {\n      this.marker.setLabel(undefined)\n    })\n    return this\n  }\n  setAvatar(icon) {\n    this.marker.setIcon(icon)\n  }\n  destroy() {\n    this.marker && this.map.remove(this.marker)\n    this.marker.off('mouseover')\n    this.marker.off('mouseout')\n    this.marker = undefined\n  }\n}\n","import { parseRouteToPath } from '~/utils'\nimport EventBus from '~/utils/eventbus'\nexport default class RouteLine {\n  constructor(scene, map, markerPoint, endPoint, startPosition, endPosition) {\n    this.map = map\n    this.scene = scene\n    //移动到endPosition的位置\n    this.startPosition = startPosition\n    this.endPosition = endPosition\n    this.markerPoint = markerPoint\n    this.endPoint = endPoint\n    this.polyline = null\n    this.passedPolyline = null\n    this.timer = null\n    this.emitter = EventBus.getInstance().emitter\n    //https://lbs.amap.com/api/javascript-api/reference/route-search#AMap.Riding\n    this.driving = new AMap.Walking({\n      // policy: AMap.DrivingPolicy.LEAST_DISTANCE, // 其它policy参数请参考 https://lbs.amap.com/api/javascript-api/reference/route-search#m_DrivingPolicy\n      // ferry: 1, // 是否可以使用轮渡\n      // province: '沪', // 车牌省份的汉字缩写\n      // autoFitView:true\n    })\n  }\n  create() {\n    this.scene.panTo([this.endPosition.lng, this.endPosition.lat])\n    // 根据起终点经纬度规划自行车导航路线\n    this.driving.search(\n      new AMap.LngLat(this.startPosition.lng, this.startPosition.lat),\n      new AMap.LngLat(this.endPosition.lng, this.endPosition.lat),\n      (status, result) => {\n        if (status === 'complete') {\n          if (result.routes && result.routes.length) {\n            let data = parseRouteToPath(result.routes[0]).map(c => [\n              c.lng,\n              c.lat\n            ])\n            this.drawRoute(data)\n          }\n        } else {\n          console.error('获取驾车数据失败：' + result)\n        }\n      }\n    )\n    return this\n  }\n  drawRoute(data) {\n    //绘制轨迹\n    this.polyline = new AMap.Polyline({\n      map: this.map,\n      path: data,\n      isOutline: true,\n      lineJoin: 'round',\n      strokeColor: '#2979ff', //线颜色\n      strokeOpacity: 1, //线透明度\n      strokeWeight: 10, //线宽\n      strokeStyle: 'solid' //线样式\n    })\n    this.passedPolyline = new AMap.Polyline({\n      map: this.map,\n      lineJoin: 'round',\n      strokeColor: '#607d8b', //线颜色\n      strokeOpacity: 1, //线透明度\n      strokeWeight: 10, //线宽\n      strokeStyle: 'solid' //线样式\n    })\n    let self = this,\n      count = 0,\n      currentCount\n    this.markerPoint.marker.on('moving', e => {\n      count++\n      self.passedPolyline.setPath(e.passedPath)\n    })\n    this.markerPoint.marker.moveAlong(data, 60)\n    this.timer = setInterval(() => {\n      if (currentCount === count) {\n        self.destroy()\n        self.emitter.emit('routeLineMoveEnd', this.endPoint)\n      } else {\n        currentCount = count\n      }\n    }, 1 * 1000)\n    return this\n  }\n  destroy() {\n    this.timer && clearInterval(this.timer)\n    this.map.remove([this.polyline, this.passedPolyline])\n  }\n}\n","import {\n  pointOnCircle,\n  delay,\n  getRandomAngle,\n  getRandomAnglefrom360,\n  getMinDistancePoint,\n  getRandomInt,\n} from '~/utils'\nimport OrgMarker from './orgMarker'\nimport MarkerPoint from './markerPoint'\nimport { ImageEnum, AvatarEnum, AudioEnum } from '~/utils/assets'\nimport EventBus from '~/utils/eventbus'\nimport RouteLine from './routeLine'\nimport AlarmCircle from './alarmCircle'\nimport { Howl, Howler } from 'howler'\nimport OrgPoint from './orgPoint'\n\nlet alarmTemp = require('~/template/alarm.hbs')\nconst monitorUrl = 'ezopen://open.ys7.com/203751922/1.hd.live'\nconst accessToken = 'xx'\nexport default class Community {\n  constructor(scene, map, data) {\n    this.scene = scene\n    this.map = map\n    this.data = data\n    this._olderIcon = this.createIcon(ImageEnum['yellow-point'])\n    this._staffIcon = this.createIcon(ImageEnum['green-point'])\n    this.routeLine = null\n    this.oldersPoint = []\n    this.staffPoint = []\n    this.orderIndex = 0\n    this.OrgMarker = null\n    this.OrgPoint = null\n    this.emitter = EventBus.getInstance().emitter\n    this.heatmap = null\n    this.isRunning = false //照护员是否在行经中\n    this.showHeatMap = false //是否show 热力图\n    this.isDisplayAvatar = false //是否显示头像\n    this.alarmAudio = new Howl({\n      src: [AudioEnum.warning],\n      preload: true,\n      loop: false,\n    })\n\n    let alarmHtml = alarmTemp()\n    document.body.insertAdjacentHTML('beforeend', alarmHtml)\n  }\n  createIcon(image) {\n    return new AMap.Icon({\n      size: new AMap.Size(30, 30),\n      image: image,\n      // 图标所用图片大小\n      imageSize: new AMap.Size(30, 30),\n      // 图标取图偏移量\n    })\n  }\n  async create() {\n    this.addEventListener()\n    this.OrgMarker = new OrgMarker(this.map, this.data, true, false).create()\n    this.OrgPoint = new OrgPoint(\n      this.map,\n      {\n        lng: this.data.lng,\n        lat: this.data.lat,\n      },\n      5\n    ).create()\n    this.map.setFeatures(['bg', 'road', 'building', 'point'])\n    this.map.setStatus({\n      scrollWheel: false,\n    })\n    getRandomAngle(20).forEach((item) => {\n      let coord = pointOnCircle(this.data.coord, item, 0.004)\n      this.oldersPoint.push(\n        new MarkerPoint(this.map, coord, this._olderIcon).create()\n      )\n    })\n    getRandomAngle(14).forEach((item) => {\n      let coord = pointOnCircle(this.data.coord, item, 0.001)\n      this.staffPoint.push(\n        new MarkerPoint(this.map, coord, this._staffIcon).create()\n      )\n    })\n    this.createHeatMap()\n  }\n  createHeatMap() {\n    let heatPoints = []\n    this.oldersPoint.forEach((older, index) => {\n      if (index === 0) {\n        getRandomAnglefrom360(90).forEach((item) => {\n          let coord = pointOnCircle(older.position, item, 0.004, 0.001)\n          if (item % 2 === 0) {\n            heatPoints.push({\n              lng: coord[0],\n              lat: coord[1],\n              count: getRandomInt(1, 100),\n            })\n          }\n        })\n      }\n    })\n    //初始化heatmap对象\n    this.heatmap = new AMap.Heatmap(null, {\n      radius: 180, //给定半径\n      opacity: [0, 0.8],\n      gradient: {\n        0.5: 'blue',\n        0.65: 'rgb(117,211,248)',\n        0.7: 'rgb(0, 255, 0)',\n        0.9: '#ffea00',\n        1.0: 'red',\n      },\n    })\n    this.heatmap.setDataSet({\n      data: heatPoints,\n      max: 100,\n    })\n  }\n  addEventListener() {\n    this.emitter.on('CommunityOrgMarkerClicked', () => {\n      let url = `https://open.ys7.com/ezopen/h5/iframe?url=${monitorUrl}&autoplay=1&accessToken=${accessToken}&audio=1`\n      let monitorTemp = require('~/template/monitor.hbs')({\n        url: url,\n      })\n      document.body.insertAdjacentHTML('beforeend', monitorTemp)\n    })\n    this.emitter.on('closeMonitor', () => {\n      document.querySelector('.org-monitor-wrapper').remove()\n    })\n    this.emitter.on('simulateAlarm', () => {\n      this.isRunning = true\n      let minPoint = getMinDistancePoint(\n        this.oldersPoint[this.orderIndex],\n        this.staffPoint\n      )\n      this.startRouting(minPoint, this.oldersPoint[this.orderIndex])\n      this.oldersPoint[this.orderIndex].circle = new AlarmCircle(\n        this.map,\n        this.oldersPoint[this.orderIndex].position\n      ).create()\n      this.alarmAudio.play()\n      this.orderIndex++\n      if (this.orderIndex === this.oldersPoint.length) {\n        this.orderIndex = 0\n      }\n      this.emitter.on('routeLineMoveEnd', (point) => {\n        this.isRunning = false\n        //路径结束后 回到初始位置\n        this.scene.setCenter(this.data.coord)\n        this.alarmAudio.stop()\n        point.circle && point.circle.destroy()\n      })\n    })\n    this.emitter.on('turnOnHeatMap', () => {\n      this.showHeatMap = !this.showHeatMap\n      this.showHeatMap\n        ? this.heatmap.setMap(this.map)\n        : this.heatmap.setMap(null)\n    })\n    this.emitter.on('goback', () => {\n      this.clearCommunity()\n    })\n    this.emitter.on('displayAvatar', () => {\n      this.isDisplayAvatar = !this.isDisplayAvatar\n      if (this.isDisplayAvatar) {\n        this.staffPoint.forEach((item, index) => {\n          let urlIndex = index >= 4 ? index % 4 : index\n          item.setAvatar(this.createIcon(AvatarEnum.staff + urlIndex + '.png'))\n        })\n        this.oldersPoint.forEach((item, index) => {\n          let urlIndex = index >= 4 ? index % 4 : index\n          item.setAvatar(this.createIcon(AvatarEnum.older + urlIndex + '.png'))\n        })\n      } else {\n        this.staffPoint.forEach((item) => {\n          item.setAvatar(this._staffIcon)\n        })\n        this.oldersPoint.forEach((item) => {\n          item.setAvatar(this._olderIcon)\n        })\n      }\n      setTimeout(() => {\n        this.staffPoint.forEach((item) => {\n          item.marker.setLabel(null)\n        })\n        this.oldersPoint.forEach((item) => {\n          item.marker.setLabel(null)\n        })\n      }, 150)\n    })\n  }\n  clearCommunity() {\n    if (this.isRunning) {\n      alert('照护员正在路上，等完成路径再返回')\n      return\n    }\n    this.map.setFeatures(['bg', 'road', 'building'])\n    this.OrgMarker.destroy()\n    document.querySelector('.alarm-button-group').remove()\n    this.staffPoint.forEach((c) => {\n      c.destroy()\n    })\n    this.oldersPoint.forEach((c) => {\n      c.destroy()\n    })\n    this.staffPoint = []\n    this.oldersPoint = []\n    this.emitter.emit('returnToGodStory')\n    this.emitter.off('simulateAlarm')\n    this.emitter.off('goback')\n    this.map.setStatus({\n      scrollWheel: true,\n    })\n    //删掉HeatMap\n    this.heatmap.setMap(null)\n  }\n  startRouting(start, end) {\n    let startCoord = {\n      lng: start.position[0],\n      lat: start.position[1],\n    }\n    let endCoord = {\n      lng: end.position[0],\n      lat: end.position[1],\n    }\n    new RouteLine(\n      this.scene,\n      this.map,\n      start,\n      end,\n      startCoord,\n      endCoord\n    ).create()\n  }\n}\n","import L7 from '@antv/l7'\nimport EventBus from '~/utils/eventbus'\nimport StartUp from './startup'\nimport GlobalMapEvent from './globalMapEvent'\nimport Storyboard from './storyboard'\nimport { AiZhaohu, delay } from '~/utils'\nimport { Howl, Howler } from 'howler'\nimport { ModelEnum, AudioEnum, ImageEnum, AvatarEnum } from '~/utils/assets'\nimport ThreeDModel from './threeDModel'\nimport Community from './community'\nexport default class L7Map {\n  constructor(data, hasStartup) {\n    this.data = data\n    this.hasStartup = hasStartup\n    this.emitter = EventBus.getInstance().emitter\n    //https://lbs.amap.com/api/javascript-api/reference/map\n    this.mapinstance = new AMap.Map('map', {\n      resizeEnable: true,\n      rotateEnable: true,\n      pitchEnable: true,\n      pitch: 40,\n      viewMode: '3D',\n      rotation: 0,\n      center: AiZhaohu.coord,\n      zoom: 0,\n      maxZoom: 20,\n      minZoom: 0,\n      animateEnable: true,\n      scrollWheel: false,\n      mapStyle: 'amap://styles/29944f7fc0f660069369919e3dd6efc6',\n      features: ['bg', 'road', 'building']\n      // features: ['bg', 'road', 'building', 'point'],\n    })\n    //加入3D层\n    this.object3Dlayer = new AMap.Object3DLayer()\n    this.mapinstance.add(this.object3Dlayer)\n    let options = {\n      scale: 0.5,\n      height: 0,\n      scene: 0,\n      rotateX: 90,\n      rotateY: 0,\n      rotateZ: 180\n    }\n    //创建爱照护总部3D模型\n    this.headquarters3D = new ThreeDModel(\n      this.object3Dlayer,\n      ModelEnum.headquarters,\n      options,\n      AiZhaohu\n    )\n    this.mapinstance.on('complete', () => {\n      this.scene = new L7.Scene({\n        zoomControl: false,\n        scaleControl: false,\n        attributionControl: false,\n        mapStyle: 'amap://styles/29944f7fc0f660069369919e3dd6efc6',\n        map: this.mapinstance\n      })\n      this.scene.on('loaded', () => {\n        this.onSceneLoaded()\n      })\n      new GlobalMapEvent(this.scene, this.mapinstance).initEvent()\n    })\n  }\n  //当场景加载完，从此回调处开始\n  onSceneLoaded() {\n    const storyboard = new Storyboard(this.scene, this.mapinstance, this.data)\n    this.headquarters3D.create()\n    // this.goCommunityMode()\n    this.emitter.on('returnToGodStory', () => {\n      this.headquarters3D.addToLayer()\n      storyboard.returnToGodStory()\n    })\n    // return\n    //加载视频和音频资源\n    let { markerAudio, huangPuAudio } = this.addAudioAssets()\n    this.addLocalImageToScene()\n    //开场动画\n    if (this.hasStartup) {\n      new StartUp(this.mapinstance, this.scene).init()\n    } else {\n      this.mapinstance.setStatus({\n        scrollWheel: true\n      })\n      storyboard.returnToGodStory()\n    }\n\n    // return\n    //开启上帝模式和黄浦江情景\n    this.emitter.on('rotationEnd', async () => {\n      await storyboard.startGodStory(markerAudio)\n      this.headquarters3D.destroy()\n      await storyboard.startHuangpuStory(huangPuAudio)\n    })\n    //黄浦江情景结束回到上帝模式\n    this.emitter.on('huangpuStoryEnd', async () => {\n      // await delay(6)\n      storyboard.clearHuangpuStory()\n      this.headquarters3D.addToLayer()\n      storyboard.returnToGodStory()\n      //模拟点击场景\n      // await delay(3)\n      // this.headquarters3D.destroy()\n      // storyboard.clearGodStory()\n      // this.goCommunityMode()\n    })\n    this.emitter.on('zoomEnd', () => {\n      document.querySelector('.startup-mask').remove()\n    })\n    this.emitter.on('orgMarkerClicked', async ev => {\n      document.querySelector('.tips-wrapper').remove()\n      let data = ev.item\n      this.scene.panTo(data.coord)\n      // await delay(2)\n      this.headquarters3D.destroy()\n      storyboard.clearGodStory()\n      this.scene.setCenter(data.coord)\n      this.scene.setZoom(17)\n      this.scene.setPitch(60)\n      new Community(this.scene, this.mapinstance, ev.item).create()\n    })\n  }\n  async goCommunityMode() {\n    document.querySelector('.startup-mask') &&\n      document.querySelector('.startup-mask').remove()\n    let data = this.data.find(c => c.name == '上海曹杨社区长者照护之家')\n    this.scene.setCenter(data.coord)\n    this.scene.setZoom(17)\n    this.scene.setPitch(60)\n    await delay(1)\n    new Community(this.scene, this.mapinstance, data).create()\n  }\n  //加载音频资源\n  addAudioAssets() {\n    const markerAudio = new Howl({\n      src: [AudioEnum.marker],\n      preload: true,\n      autoplay: false\n    })\n    const huangPuAudio = new Howl({\n      src: [AudioEnum.waitan],\n      preload: true,\n      autoplay: false\n    })\n    Howler.volume(1)\n    return {\n      markerAudio,\n      huangPuAudio\n    }\n  }\n  //全局加入 图片资源\n  addLocalImageToScene() {\n    this.scene.image.addImage('head', ImageEnum.head)\n    this.scene.image.addImage('green-point', ImageEnum['green-point'])\n    this.scene.image.addImage('yellow-point', ImageEnum['yellow-point'])\n  }\n}\n","//Dom events handler\nimport EventBus from '~/utils/eventbus'\nconst emitter = EventBus.getInstance().emitter\nwindow.simulateAlarm = () => {\n  emitter.emit('simulateAlarm')\n}\nwindow.goBack = () => {\n  emitter.emit('goback')\n}\n\nwindow.turnOnHeatMap = () => {\n  emitter.emit('turnOnHeatMap')\n}\n\nwindow.displayAvatar = () => {\n  emitter.emit('displayAvatar')\n}\n\nwindow.closeMonitor = () => {\n  emitter.emit('closeMonitor')\n}\n","import '../styles/index.scss'\nimport L7Map from './l7Map'\nimport OrgData from '../data/org-data'\nimport './domEventsHandler'\nlet orgList = OrgData.map((c) => {\n  return {\n    lng: c.address.lng || '',\n    lat: c.address.lat || '',\n    name: c.name,\n    coord: [c.address.lng, c.address.lat],\n  }\n}).filter(\n  (c) => c.lng && c.lat && c.lng !== 'undefined' && c.lat !== 'undefined'\n)\nconst goNext = (hasStartup) => {\n  new L7Map(orgList, hasStartup)\n}\ndocument.querySelector('.startup-btn').addEventListener('click', function () {\n  document.querySelector('.container').remove()\n  goNext(true)\n})\ndocument\n  .querySelector('.no-startup-btn')\n  .addEventListener('click', function () {\n    goNext(false)\n    document.querySelector('.startup-mask').remove()\n  })\n","export default [\n  {\n    name: '上海城市公司',\n    address: {\n      lat: '31.257812',\n      lng: '121.421741',\n    },\n  },\n  {\n    name: '许昌（花都）',\n    address: {\n      lat: '31.305213',\n      lng: '121.312359',\n    },\n  },\n  {\n    name: '上海市精神卫生中心老年科',\n    address: {\n      lat: '31.187251',\n      lng: '121.448074',\n    },\n  },\n  {\n    name: '爱照护（长征）',\n    address: {\n      lat: '31.236133',\n      lng: '121.376419',\n    },\n  },\n  {\n    name: '上海金福居敬老院',\n    address: {\n      lat: '30.898877',\n      lng: '121.323548',\n    },\n  },\n  {\n    name: '爱志旺日间照料会所',\n    address: {\n      lat: '31.188503',\n      lng: '121.45675',\n    },\n  },\n  {\n    name: '香港莫朗福克斯公馆',\n    address: {\n      lat: '31.117448',\n      lng: '121.622799',\n    },\n  },\n  {\n    name: '梅陇颐乐养老院',\n    address: {\n      lat: '31.085863',\n      lng: '121.430852',\n    },\n  },\n  {\n    name: '上海尽美长者服务中心',\n    address: {\n      lat: '30.992221',\n      lng: '121.470792',\n    },\n  },\n  {\n    name: '荣上记忆家园福利院',\n    address: {\n      lat: '31.325283',\n      lng: '121.513295',\n    },\n  },\n  {\n    name: '爱照护（万里）',\n    address: {\n      lat: '31.276091',\n      lng: '121.399718',\n    },\n  },\n  {\n    name: '爱照护总部',\n    address: {\n      lat: '',\n      lng: '',\n    },\n  },\n  {\n    name: '上海市普陀区白丽敬老院',\n    address: {\n      lat: '31.283199',\n      lng: '121.350869',\n    },\n  },\n  {\n    name: '上海普陀区爱晚亭敬老院',\n    address: {\n      lat: '31.221685',\n      lng: '121.399343',\n    },\n  },\n\n  {\n    name: '上海普陀区桃浦镇社会福利院',\n    address: {\n      lat: '31.260742',\n      lng: '121.366945',\n    },\n  },\n\n  {\n    name: '爱照护（真如意）',\n    address: {\n      lat: '31.251975',\n      lng: '121.383631',\n    },\n  },\n  {\n    name: '上海普陀区曹安敬老院',\n    address: {\n      lat: '31.235848',\n      lng: '121.39858',\n    },\n  },\n  {\n    name: '上海曹家巷长者照护之家',\n    address: {\n      lat: '31.227916',\n      lng: '121.411392',\n    },\n  },\n  {\n    name: '上海曹杨社区长者照护之家',\n    address: {\n      lat: '31.240929',\n      lng: '121.407393',\n    },\n  },\n  {\n    name: '上海普陀区美源养老院',\n    address: {\n      lat: '31.2297',\n      lng: '121.37522',\n    },\n  },\n  {\n    name: '上海中环逸仙敬老院',\n    address: {\n      lat: '31.272568',\n      lng: '121.397392',\n    },\n  },\n  {\n    name: '武汉（南湖）',\n    address: {\n      lat: '30.507373',\n      lng: '114.313595',\n    },\n  },\n  {\n    name: '爱照护（金杨）',\n    address: {\n      lat: '31.245875',\n      lng: '121.577022',\n    },\n  },\n  {\n    name: '爱照护（江浦）',\n    address: {\n      lat: '31.26735',\n      lng: '121.513598',\n    },\n  },\n  {\n    name: '爱照护（石泉）',\n    address: {\n      lat: '31.244022',\n      lng: '121.421365',\n    },\n  },\n  {\n    name: '上海徐汇区源梦颐养院',\n    address: {\n      lat: '31.114144',\n      lng: '121.455541',\n    },\n  },\n  {\n    name: '上海康健社区寿昌坊长者照护之家',\n    address: {\n      lat: '31.15015',\n      lng: '121.420875',\n    },\n  },\n  {\n    name: '徐汇区精神卫生中心',\n    address: {\n      lat: '31.173163',\n      lng: '121.446913',\n    },\n  },\n  {\n    name: '长宁区精神卫生中心',\n    address: {\n      lat: '31.2134',\n      lng: '121.35471',\n    },\n  },\n  {\n    name: '上海市同济大学附属同济医院',\n    address: {\n      lat: '31.267023',\n      lng: '121.430778',\n    },\n  },\n  {\n    name: '上海奉贤区南桥镇关港养老院',\n    address: {\n      lat: '30.992286',\n      lng: '121.470635',\n    },\n  },\n  {\n    name: '上海凉城复馨敬老院',\n    address: {\n      lat: '31.30524',\n      lng: '121.469947',\n    },\n  },\n  {\n    name: '长寿西沙长照',\n    address: {\n      lat: '31.219517',\n      lng: '121.470674',\n    },\n  },\n  {\n    name: '太原（解二）',\n    address: {\n      lat: '37.849004',\n      lng: '112.556498',\n    },\n  },\n  {\n    name: '兰州（科苑）',\n    address: {\n      lat: '36.052015',\n      lng: '103.867553',\n    },\n  },\n  {\n    name: '武汉（常青）',\n    address: {\n      lat: '30.632273',\n      lng: '114.238354',\n    },\n  },\n  {\n    name: '成都（万晟）',\n    address: {\n      lat: '30.659931',\n      lng: '104.112795',\n    },\n  },\n  {\n    name: '济南大明湖社区爱照护长者照护之家',\n    address: {\n      lat: '36.671819',\n      lng: '117.033064',\n    },\n  },\n  {\n    name: '济南（制锦市）',\n    address: {\n      lat: '36.669324',\n      lng: '117.011343',\n    },\n  },\n  {\n    name: '上海普陀区忆桃园长者照护之家',\n    address: {\n      lat: '31.260297',\n      lng: '121.405181',\n    },\n  },\n  {\n    name: '爱照护（临汾）',\n    address: {\n      lat: '31.311981',\n      lng: '121.4589',\n    },\n  },\n  {\n    name: '爱照护（大宁）',\n    address: {\n      lat: '31.30238',\n      lng: '121.462471',\n    },\n  },\n  {\n    name: '爱照护（欧阳）',\n    address: {\n      lat: '31.272914',\n      lng: '121.497685',\n    },\n  },\n  {\n    name: '爱照护（甘泉R）',\n    address: {\n      lat: '31.260647',\n      lng: '121.426632',\n    },\n  },\n  {\n    name: '爱照护（淞南）',\n    address: {\n      lat: '31.33052',\n      lng: '121.46476',\n    },\n  },\n  {\n    name: '爱照护（枫林）',\n    address: {\n      lat: '31.194493',\n      lng: '121.457801',\n    },\n  },\n  {\n    name: '爱照护（嘉兴）',\n    address: {\n      lat: '31.268392',\n      lng: '121.504738',\n    },\n  },\n  {\n    name: '爱照护（龙华）',\n    address: {\n      lat: '31.168102',\n      lng: '121.449573',\n    },\n  },\n  {\n    name: '爱照护（东安）',\n    address: {\n      lat: '31.187939',\n      lng: '121.458229',\n    },\n  },\n  {\n    name: '爱照护（潍坊）',\n    address: {\n      lat: '31.218668',\n      lng: '121.523911',\n    },\n  },\n  {\n    name: '爱照护（江湾）',\n    address: {\n      lat: '31.306888',\n      lng: '121.47776',\n    },\n  },\n  {\n    name: '上海市第六人民医院记忆门诊',\n    address: {\n      lat: '31.178478',\n      lng: '121.422378',\n    },\n  },\n  {\n    name: '爱照护（岳阳）',\n    address: {\n      lat: '31.016407',\n      lng: '121.223932',\n    },\n  },\n  {\n    name: '呼和浩特如意开发区如意和大街分公司',\n    address: {\n      lat: '40.832527',\n      lng: '111.77864',\n    },\n  },\n  {\n    name: '爱照护（真如）',\n    address: {\n      lat: '31.249744',\n      lng: '121.391136',\n    },\n  },\n  {\n    name: '上海长征医院记忆门诊',\n    address: {\n      lat: '31.232211',\n      lng: '121.467565',\n    },\n  },\n  {\n    name: '上海市第十人民医院',\n    address: {\n      lat: '31.272141',\n      lng: '121.453407',\n    },\n  },\n  {\n    name: '上海交通大学医学院附属新华医院',\n    address: {\n      lat: '31.274082',\n      lng: '121.518363',\n    },\n  },\n  {\n    name: '上海交大附属瑞金医院记忆门诊',\n    address: {\n      lat: '31.21175',\n      lng: '121.467641',\n    },\n  },\n  {\n    name: '复旦大学附属华东医院记忆门诊',\n    address: {\n      lat: '31.21829',\n      lng: '121.44154',\n    },\n  },\n  {\n    name: '复旦大学附属华山医院记忆门诊',\n    address: {\n      lat: '31.216063',\n      lng: '121.442959',\n    },\n  },\n  {\n    name: '上海银康老年公寓',\n    address: {\n      lat: '31.309685',\n      lng: '121.471658',\n    },\n  },\n  {\n    name: '上海浦东新区青墩养老院',\n    address: {\n      lat: '31.222099',\n      lng: '121.720184',\n    },\n  },\n  {\n    name: '春天家园老年公寓',\n    address: {\n      lat: '31.143486',\n      lng: '121.50991',\n    },\n  },\n  {\n    name: '上海徐汇区徐家汇街道龙吴路养老院',\n    address: {\n      lat: '31.170728',\n      lng: '121.44405',\n    },\n  },\n  {\n    name: '上海徐汇区徐家汇街道南丹长者照护之家',\n    address: {\n      lat: '31.191978',\n      lng: '121.430826',\n    },\n  },\n  {\n    name: '上海普陀区石岚敬老院',\n    address: {\n      lat: '31.249284',\n      lng: '121.426746',\n    },\n  },\n  {\n    name: '静安区精神卫生中心',\n    address: {\n      lat: '31.231353',\n      lng: '121.441232',\n    },\n  },\n  {\n    name: '上海金山区伯仁养护院',\n    address: {\n      lat: '30.894356',\n      lng: '121.00482',\n    },\n  },\n  {\n    name: '上海爱照护武爱护理站',\n    address: {\n      lat: '31.27607',\n      lng: '121.399713',\n    },\n  },\n  {\n    name: '上海市徐汇区久康养老院',\n    address: {\n      lat: '31.121624',\n      lng: '121.453045',\n    },\n  },\n  {\n    name: '上海康乐福养老院',\n    address: {\n      lat: '31.236093',\n      lng: '121.359345',\n    },\n  },\n]\n"],"sourceRoot":""}