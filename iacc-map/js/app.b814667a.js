!function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([164,1]),n()}({109:function(e,t,n){},145:function(e,t,n){var a=n(30);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var i;return'<div class="marker-wrapper">\n  <div class="red-line"></div>\n  <p>'+e.escapeExpression("function"==typeof(i=null!=(i=n.name||(null!=t?t.name:t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:3,column:5},end:{line:3,column:13}}}):i)+'</p>\n  <div class="red-line"></div>\n</div>'},useData:!0})},160:function(e,t,n){var a=n(30);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var i;return'<div class="tips-wrapper">\n  '+e.escapeExpression("function"==typeof(i=null!=(i=n.tips||(null!=t?t.tips:t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"tips",hash:{},data:r,loc:{start:{line:2,column:2},end:{line:2,column:10}}}):i)+"\n</div>"},useData:!0})},161:function(e,t,n){var a=n(30);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){return'<div class="community-older-info">\n  <div class="title">信息</div>\n  <div class="personal-info-wrapper">\n    <div class="avatar-wrapper">\n      <img src="public/image/avatar/old3.png" alt="">\n    </div>\n    <ul>\n      <li>\n        <div class="block-dot"> </div> 王叔叔\n      </li>\n      <li>\n        <div class="block-dot"> </div> 男性\n      </li>\n      <li>\n        <div class="block-dot"> </div> 上海\n      </li>\n      <li>\n        <div class="block-dot"> </div> 79岁\n      </li>\n      <li>\n        <div class="block-dot"></div>认知障碍\n      </li>\n    </ul>\n  </div>\n  <div class="service-wrapper">\n    <div class="service-item">\n      <div>\n        套餐\n      </div>\n      <p>EH2</p>\n    </div>\n    <div class="service-item">\n      <div>\n        喜好\n      </div>\n      <p>看报纸、电视</p>\n    </div>\n    <div class="service-item">\n      <div>\n        电话\n      </div>\n      <p>17602109258</p>\n    </div>\n  </div>\n  <div class="bottom-decorate"></div>\n</div>'},useData:!0})},162:function(e,t,n){var a=n(30);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){return'<div class="alarm-button-group">\n  <a onclick="displayAvatar()">头像</a>\n  <a onclick="turnOnHeatMap()">热力图</a>\n  <a onclick="simulateAlarm()">模拟报警</a>\n  <a onclick="goBack()">返回</a>\n</div>'},useData:!0})},163:function(e,t,n){var a=n(30);e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var i;return'<div class="org-monitor-wrapper">\n  <div class="title">\n    养老院实时监控视频\n    <img src="public/image/close-icon.png" class="close-icon" onclick="closeMonitor()" alt="" />\n  </div>\n  <iframe\n    src='+e.escapeExpression("function"==typeof(i=null!=(i=n.url||(null!=t?t.url:t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"url",hash:{},data:r,loc:{start:{line:7,column:8},end:{line:7,column:15}}}):i)+'\n    width="700" height="560" id="ysOpenDevice" allowfullscreen>\n  </iframe>\n</div>'},useData:!0})},164:function(e,t,n){"use strict";n.r(t);n(59),n(9),n(27),n(109),n(74),n(40),n(41),n(54);var a=n(103),r=n.n(a);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=n(118),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.emitter=new o}var t,n,a;return t=e,a=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=null)&&i(t.prototype,n),a&&i(t,a),e}();function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=t,this.scene=n,this.emitter=s.getInstance().emitter}var t,n,a;return t=e,(n=[{key:"init",value:function(){var e,t=this,n=0,a=3,r=function(){n+=4,t.scene.setRotation(n),n>=360&&(cancelAnimationFrame(e),t.emitter.emit("rotationEnd"))},i=setInterval((function(){(a+=1.01)<=16.1?t.scene.setZoom(a):(t.emitter.emit("zoomEnd"),clearInterval(i))}),200);!function t(){e=requestAnimationFrame(t),r()}()}}])&&l(t.prototype,n),a&&l(t,a),e}();function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.map=n}var t,n,a;return t=e,(n=[{key:"initEvent",value:function(){this.initMapEvent(),this.initSceneEvent()}},{key:"initMapEvent",value:function(){var e=this;this.map.on("click",(function(t){document.querySelector("#map-center").innerText=t.lnglat.getLng()+","+t.lnglat.getLat(),document.querySelector("#map-pitch").innerText=e.map.getPitch()})),this.map.on("zoomend",(function(){})),this.map.on("zoomchange",(function(){document.querySelector("#map-zoom").innerText=e.map.getZoom()}))}},{key:"initSceneEvent",value:function(){}}])&&u(t.prototype,n),a&&u(t,a),e}();n(55),n(87),n(88),n(57),n(93),n(95),n(129),n(131),n(132),n(133),n(98),n(134),n(135),n(138),n(139),n(144);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e){for(var t=[],n=0,a=e.steps.length;n<a;n++)for(var r=e.steps[n],i=0,o=r.path.length;i<o;i++)t.push(r.path[i]);return t}function m(e){return new Promise((function(t){setTimeout((function(){t()}),1e3*e)}))}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.004,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return[parseFloat(e[0])+Math.cos(t)*n,parseFloat(e[1])+Math.sin(t)*n+a]}function g(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function y(e){for(var t=[0,30,50,80,110,140,160,180,240,270,300,330,350],n=[],a=0;a<e;a++)n.push(t[g(0,t.length-1)]);return p(new Set(n))}function v(e){var t,n=p(e),a=[],r=["上海曹杨社区长者照护之家","上海普陀区石泉街道爱照护长者照护之家","上海普陀区忆桃园长者照护之家"];return n.forEach((function(e,t){r.includes(e.name)&&a.push(e)})),t=n.filter((function(e){return!r.includes(e.name)})),{threePoint:a,remainOrgs:t}}function b(e,t){return[{lng1:e[0],lat1:e[1],lng2:t[0],lat2:t[1]}]}var w={lng:"121.421939",lat:"31.256198",name:"总部",coord:["121.421939","31.256198"]};function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var O=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.startPosition=n,this.endPosition=a,this.scene=t,this.driving=new AMap.Driving({policy:AMap.DrivingPolicy.LEAST_TIME,ferry:1,province:"沪"}),this._route=null}var t,n,a;return t=e,(n=[{key:"create",value:function(){var e=this;return this.driving.search(new AMap.LngLat(this.startPosition.lng,this.startPosition.lat),new AMap.LngLat(this.endPosition.lng,this.endPosition.lat),(function(t,n){"complete"===t?n.routes&&n.routes.length&&e.drawRoute(h(n.routes[0])):console.error("获取驾车数据失败："+n)})),this}},{key:"drawRoute",value:function(e){var t={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{Id:0,"经济带名称":"","经济带分类":"海上丝绸之路"},geometry:{type:"LineString",coordinates:e.map((function(e){return[e.lng,e.lat]}))}}]};this._route=this.scene.LineLayer({zIndex:3}).source(t).color("rgb(80,148,246)").size(6).shape("line").style({lineType:"solid"}).animate({enable:!0,duration:3,interval:.5,trailLength:.8}).render()}},{key:"destroy",value:function(){this._route&&this.scene.removeLayer(this._route)}}])&&k(t.prototype,n),a&&k(t,a),e}();function L(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var M=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.data=n,this._curveLine=null}var t,n,a;return t=e,(n=[{key:"create",value:function(){return this._curveLine=this.scene.LineLayer({zIndex:1}).source(this.data,{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}).shape("arc").size(1).color("rgb(60,255,255)").style({opacity:1}).animate({enable:!0,interval:.1,duration:1,trailLength:.05}).render(),this}},{key:"destroy",value:function(){this._curveLine&&this.scene.removeLayer(this._curveLine),this._curveLine=void 0}}])&&L(t.prototype,n),a&&L(t,a),e}(),A=n(13),S={start:["121.494278","31.22232"],end:["121.507043","31.264138"]},P=[["121.50709","31.232342"],["121.487612","31.226219"],["121.4442","31.254823"],["121.512674","31.298841"],["121.490284","31.24591"]],C=[[121.492194,31.223243],[121.493447,31.225991],[121.490614,31.228021],[121.493348,31.230312],[121.494762,31.227324],[121.499077,31.238828],[121.499426,31.241159],[121.500972,31.23697],[121.503185,31.240124],[121.505603,31.262155],[121.507822,31.26076],[121.503254,31.261694],[121.507355,31.259496],[121.5096,31.260547]],j=[[121.493265,31.224081],[121.501204,31.238447],[121.503334,31.251916],[121.508311,31.263433]],_=n(20);function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var x=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.position=n,this.shape=a,this._pointLayer=null}var t,n,a;return t=e,(n=[{key:"create",value:function(){var e;return this._pointLayer=this.scene.PointLayer({zIndex:0}).source((e=this.position,{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:e}}]})).shape(this.shape).size(30).active(!0).render(),this}},{key:"destroy",value:function(){this._pointLayer&&this.scene.removeLayer(this._pointLayer)}}])&&E(t.prototype,n),a&&E(t,a),e}();function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var T=n(145),R=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mapinstance=t,this.item=n,this._marker=null,this.animation=a,this.godMode=r,this.emitter=s.getInstance().emitter}var t,n,a;return t=e,(n=[{key:"create",value:function(){var e=this,t=T({name:this.item.name});return this._marker=new AMap.Marker({map:this.mapinstance,position:new AMap.LngLat(this.item.lng,this.item.lat),anchor:"top-left",content:t,animation:this.animation?"AMAP_ANIMATION_DROP":"AMAP_ANIMATION_NONE",clickable:!0,offset:new AMap.Pixel(20,-84)}),this.godMode?this._marker.on("click",(function(){e.emitter.emit("orgMarkerClicked",{item:e.item})})):this._marker.on("click",(function(){e.emitter.emit("CommunityOrgMarkerClicked",{item:e.item})})),this}},{key:"destroy",value:function(){this._marker&&this.mapinstance.remove(this._marker)}}])&&I(t.prototype,n),a&&I(t,a),e}();function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var G=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=t,this.position=n,this.alarmCircle1=null,this.alarmCircle2=null,this.anime=null}var t,n,a;return t=e,(n=[{key:"create",value:function(){return this.alarmCircle1=new AMap.Circle({map:this.map,center:new AMap.LngLat(this.position.lng,this.position.lat),radius:0,strokeColor:"#3ea0fb",strokeOpacity:1,strokeWeight:3,fillColor:"#fff",fillOpacity:0,strokeStyle:"solid"}),this.alarmCircle2=new AMap.Circle({map:this.map,center:new AMap.LngLat(this.position.lng,this.position.lat),radius:0,strokeColor:"#3ea0fb",strokeOpacity:.56,strokeWeight:3,fillColor:"#fff",fillOpacity:0,strokeStyle:"solid"}),this.startAnimate(),this}},{key:"startAnimate",value:function(){var e={radius1:0,radius2:80,strokeOpacity:10},t=this;this.anime=Object(_.a)({targets:e,radius1:80,radius2:160,strokeOpacity:56,duration:1e3,loop:!0,easing:"cubicBezier(.5, .05, .1, .3)",update:function(n){t.alarmCircle1.setRadius(e.radius1),t.alarmCircle2.setRadius(e.radius2);var a=(100-e.strokeOpacity)/100;t.alarmCircle2.setOptions({strokeOpacity:a})},loopComplete:function(e){t.alarmCircle1.setRadius(0),t.alarmCircle2.setRadius(80)}})}},{key:"destroy",value:function(){this.anime.pause(),this.alarmCircle1.setMap(null),this.alarmCircle2.setMap(null),this.anime=void 0,this.alarmCircle1=void 0,this.alarmCircle2=void 0}}])&&D(t.prototype,n),a&&D(t,a),e}();function H(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var z=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=t,this.position=n,this.alarmCircle1=null,this.anime=null,this.radius=a}var t,n,a;return t=e,(n=[{key:"create",value:function(){return this.alarmCircle1=new AMap.Circle({map:this.map,center:new AMap.LngLat(this.position[0],this.position[1]),radius:0,strokeColor:"#F59F23",strokeOpacity:1,strokeWeight:0,fillColor:"#fff",fillOpacity:0,strokeStyle:"solid"}),this.startAnimate(),this}},{key:"startAnimate",value:function(){var e={radius1:0,strokeWeight:0,strokeOpacity:.1},t=this;this.anime=Object(_.a)({targets:e,radius1:this.radius,strokeOpacity:100,strokeWeight:30,duration:1500,loop:!0,easing:"cubicBezier(.5, .05, .1, .3)",update:function(n){t.alarmCircle1.setRadius(e.radius1);var a=30-e.strokeWeight,r=(100-e.strokeOpacity)/100;t.alarmCircle1.setOptions({strokeOpacity:r,strokeWeight:a})},loopComplete:function(e){t.alarmCircle1.setRadius(0)}})}},{key:"destroy",value:function(){this.anime.pause(),this.alarmCircle1.setMap(null)}}])&&H(t.prototype,n),a&&H(t,a),e}();function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var F=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=t,this.position=n,this.layerGroup=null,this.ratio=a}var t,n,a;return t=e,(n=[{key:"create",value:function(){return this.layerGroup=new AMap.OverlayGroup,this.layerGroup.addOverlay(new AMap.Circle({center:new AMap.LngLat(this.position.lng,this.position.lat),radius:40/this.ratio,fillColor:"#38A5FF",fillOpacity:1,strokeStyle:"solid",strokeOpacity:0})),this.layerGroup.addOverlay(new AMap.Circle({center:new AMap.LngLat(this.position.lng,this.position.lat),radius:100/this.ratio,fillColor:"#38A5FF",fillOpacity:.64,strokeStyle:"solid",strokeOpacity:0})),this.layerGroup.addOverlay(new AMap.Circle({center:new AMap.LngLat(this.position.lng,this.position.lat),radius:160/this.ratio,fillColor:"#38A5FF",fillOpacity:.4,strokeStyle:"solid",strokeOpacity:0})),this.layerGroup.setMap(this.map),this}},{key:"destroy",value:function(){this.layerGroup.clearOverlays(),this.layerGroup.setMap(null)}}])&&q(t.prototype,n),a&&q(t,a),e}();function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var Z=n(160),N=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.mapinstance=n,this.data=a,this.emitter=s.getInstance().emitter,this._godStoryLayerObj={orgMarker:[],curveLine:[],GaodeCircle:[],orgPoint:[]},this._huangpuStoryLayerObj={point:[],track:[],alarm:[]}}var t,n,a;return t=e,(n=[{key:"startGodStory",value:function(e){var t,n,a,r,i,o=this;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:this.mapinstance.setCenter(new AMap.LngLat(w.lng,w.lat)),this._godStoryLayerObj.orgMarker.push(new R(this.mapinstance,w).create()),m(1).then((function(t){e.play()})),this._godStoryLayerObj.GaodeCircle.push(new G(this.mapinstance,{lng:w.lng,lat:w.lat}).create()),t=v(this.data),n=t.threePoint,a=t.remainOrgs,r=w,i=0;case 7:if(!(i<n.length)){s.next=18;break}return s.next=10,regeneratorRuntime.awrap(m(4));case 10:this._godStoryLayerObj.GaodeCircle.push(new G(this.mapinstance,{lng:n[i].lng,lat:n[i].lat}).create()),this._godStoryLayerObj.orgMarker.push(new R(this.mapinstance,n[i]).create()),m(1).then((function(t){e.play()})),this._godStoryLayerObj.curveLine.push(new M(this.scene,b(r.coord,n[i].coord)).create()),this.scene.panTo(n[i].coord);case 15:i++,s.next=7;break;case 18:return s.next=20,regeneratorRuntime.awrap(m(3));case 20:return this.scene.setZoomAndCenter(14.2,w.coord),a.forEach((function(e){o._godStoryLayerObj.orgMarker.push(new R(o.mapinstance,e).create()),o._godStoryLayerObj.GaodeCircle.push(new G(o.mapinstance,{lng:e.lng,lat:e.lat}).create()),o._godStoryLayerObj.curveLine.push(new M(o.scene,b(r.coord,e.coord)).create())})),s.next=24,regeneratorRuntime.awrap(m(5));case 24:case"end":return s.stop()}}),null,this)}},{key:"clearGodStory",value:function(){this._godStoryLayerObj.curveLine.forEach((function(e){e.destroy()})),this._godStoryLayerObj.GaodeCircle.forEach((function(e){e.destroy()})),this._godStoryLayerObj.orgMarker.forEach((function(e){e.destroy()})),this._godStoryLayerObj.orgPoint.forEach((function(e){e.destroy()})),this._godStoryLayerObj.curveLine=[],this._godStoryLayerObj.GaodeCircle=[],this._godStoryLayerObj.orgMarker=[],this._godStoryLayerObj.orgPoint=[]}},{key:"startHuangpuStory",value:function(e){var t,n,a=this;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.clearGodStory(),this.mapinstance.setStatus({scrollWheel:!1}),this.scene.setCenter(S.start),this._huangpuStoryLayerObj.point.push(new x(this.scene,S.start,"yellow-point").create()),this._huangpuStoryLayerObj.point.push(new x(this.scene,S.end,"green-point").create()),this.scene.setZoom(17),this.scene.setRotation(40),this.scene.setPitch(60),this.scene.panTo(S.start),t={prop1:0},n=this,Array.from([S.start,S.end]).forEach((function(e){P.forEach((function(t){var n=b(e,t)[0];a._huangpuStoryLayerObj.track.push(new O(a.scene,{lng:n.lng1,lat:n.lat1},{lng:n.lng2,lat:n.lat2}).create())}))})),C.forEach((function(e,t){t%3==0?a._huangpuStoryLayerObj.point.push(new x(a.scene,e,"yellow-point").create()):a._huangpuStoryLayerObj.point.push(new x(a.scene,e,"green-point").create())})),j.forEach((function(e){a._huangpuStoryLayerObj.alarm.push(new z(a.mapinstance,e,500).create())})),r.next=17,regeneratorRuntime.awrap(m(2));case 17:e.play(),Object(_.a)({targets:t,prop1:40,easing:"linear",duration:25e3,round:1,update:function(e){n.mapinstance.panBy(-5,4)},endDelay:0,complete:function(){e.stop(),n.emitter.emit("huangpuStoryEnd")}});case 19:case"end":return r.stop()}}),null,this)}},{key:"returnToGodStory",value:function(){var e=this;document.body.insertAdjacentHTML("beforeend",Z({tips:"点击机构名进入社区模式"})),this.mapinstance.setCenter(new AMap.LngLat(w.lng,w.lat)),this.scene.setPitch(40),this.scene.setZoom(14.2);var t=w;this.data.forEach((function(n){e._godStoryLayerObj.orgMarker.push(new R(e.mapinstance,n).create()),e._godStoryLayerObj.orgPoint.push(new F(e.mapinstance,{lng:n.lng,lat:n.lat}).create()),e._godStoryLayerObj.curveLine.push(new M(e.scene,b(t.coord,n.coord)).create())}))}},{key:"clearHuangpuStory",value:function(){this._huangpuStoryLayerObj.point.forEach((function(e){e.destroy()})),this._huangpuStoryLayerObj.track.forEach((function(e){e.destroy()})),this._huangpuStoryLayerObj.alarm.forEach((function(e){e.destroy()})),this._huangpuStoryLayerObj.point=[],this._huangpuStoryLayerObj.track=[],this._huangpuStoryLayerObj.alarm=[],this.mapinstance.setStatus({scrollWheel:!0})}},{key:"addMarker",value:function(e){var t=markerTemp({name:e.name});new AMap.Marker({map:this.mapinstance,position:new AMap.LngLat(e.lng,e.lat),anchor:"top-left",content:t,animation:"AMAP_ANIMATION_NONE",offset:new AMap.Pixel(20,-84)})}}])&&W(t.prototype,n),a&&W(t,a),e}(),B=window.location.href,J={headquarters:B+"public/3d/big-building/scene.gltf",normalOrg:B+"public/3d/small-building/scene.gltf"},X={marker:B+"public/sound/marker.mp3",waitan:B+"public/sound/waitan.mp3",warning:B+"public/sound/warning1.mp3",detail:B+"public/sound/info-detail.mp3"},Y={head:B+"public/image/navigator.png","green-point":B+"public/image/green-point.png","yellow-point":B+"public/image/yellow-point.png"},U=B+"public/image/avatar/old",K=B+"public/image/avatar/staff";function Q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var V=function(){function e(t,n,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object3Dlayer=t,this.model=n,this.options=a,this.position=r,this._gltfObj=null}var t,n,a;return t=e,(n=[{key:"create",value:function(){var e=this;return(new AMap.GltfLoader).load(this.model,(function(t){e._gltfObj=t,t.setOption({position:new AMap.LngLat(e.position.lng,e.position.lat),scale:e.options.scale||1,height:e.options.height||0,scene:e.options.scene||0}),t.rotateX(e.options.rotateX||0),t.rotateY(e.options.rotateY||0),t.rotateZ(e.options.rotateZ||0),e.object3Dlayer.add(t)})),this}},{key:"addToLayer",value:function(){this.object3Dlayer.add(this._gltfObj)}},{key:"destroy",value:function(){this._gltfObj&&this.object3Dlayer.remove(this._gltfObj)}}])&&Q(t.prototype,n),a&&Q(t,a),e}();function $(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ee=n(161),te=(new A.Howl({src:[X.detail],preload:!0,loop:!1}),function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=t,this.position=n,this.image=a,this.marker=null}var t,n,a;return t=e,(n=[{key:"create",value:function(){var e=this;return this.marker=new AMap.Marker({map:this.map,position:this.position,icon:this.image,offset:new AMap.Pixel(-26,-18),autoRotation:!1,zIndex:0,bubble:!1,label:null}),this.marker.on("mouseover",(function(t){var n=ee();e.marker.setLabel({content:n,direction:"right"})})),this.marker.on("mouseout",(function(){e.marker.setLabel(void 0)})),this}},{key:"setAvatar",value:function(e){this.marker.setIcon(e)}},{key:"destroy",value:function(){this.marker&&this.map.remove(this.marker),this.marker.off("mouseover"),this.marker.off("mouseout"),this.marker=void 0}}])&&$(t.prototype,n),a&&$(t,a),e}());function ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ae=function(){function e(t,n,a,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=n,this.scene=t,this.startPosition=i,this.endPosition=o,this.markerPoint=a,this.endPoint=r,this.polyline=null,this.passedPolyline=null,this.timer=null,this.emitter=s.getInstance().emitter,this.driving=new AMap.Walking({})}var t,n,a;return t=e,(n=[{key:"create",value:function(){var e=this;return this.scene.panTo([this.endPosition.lng,this.endPosition.lat]),this.driving.search(new AMap.LngLat(this.startPosition.lng,this.startPosition.lat),new AMap.LngLat(this.endPosition.lng,this.endPosition.lat),(function(t,n){if("complete"===t){if(n.routes&&n.routes.length){var a=h(n.routes[0]).map((function(e){return[e.lng,e.lat]}));e.drawRoute(a)}}else console.error("获取驾车数据失败："+n)})),this}},{key:"drawRoute",value:function(e){var t=this;this.polyline=new AMap.Polyline({map:this.map,path:e,isOutline:!0,lineJoin:"round",strokeColor:"#2979ff",strokeOpacity:1,strokeWeight:10,strokeStyle:"solid"}),this.passedPolyline=new AMap.Polyline({map:this.map,lineJoin:"round",strokeColor:"#607d8b",strokeOpacity:1,strokeWeight:10,strokeStyle:"solid"});var n,a=this,r=0;return this.markerPoint.marker.on("moving",(function(e){r++,a.passedPolyline.setPath(e.passedPath)})),this.markerPoint.marker.moveAlong(e,60),this.timer=setInterval((function(){n===r?(a.destroy(),a.emitter.emit("routeLineMoveEnd",t.endPoint)):n=r}),1e3),this}},{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.map.remove([this.polyline,this.passedPolyline])}}])&&ne(t.prototype,n),a&&ne(t,a),e}();function re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var ie=n(162),oe=function(){function e(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.map=n,this.data=a,this._olderIcon=this.createIcon(Y["yellow-point"]),this._staffIcon=this.createIcon(Y["green-point"]),this.routeLine=null,this.oldersPoint=[],this.staffPoint=[],this.orderIndex=0,this.OrgMarker=null,this.OrgPoint=null,this.emitter=s.getInstance().emitter,this.heatmap=null,this.isRunning=!1,this.showHeatMap=!1,this.isDisplayAvatar=!1,this.alarmAudio=new A.Howl({src:[X.warning],preload:!0,loop:!1});var r=ie();document.body.insertAdjacentHTML("beforeend",r)}var t,a,r;return t=e,(a=[{key:"createIcon",value:function(e){return new AMap.Icon({size:new AMap.Size(30,30),image:e,imageSize:new AMap.Size(30,30)})}},{key:"create",value:function(){var e=this;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEventListener(),this.OrgMarker=new R(this.map,this.data,!0,!1).create(),this.OrgPoint=new F(this.map,{lng:this.data.lng,lat:this.data.lat},5).create(),this.map.setFeatures(["bg","road","building","point"]),this.map.setStatus({scrollWheel:!1}),y(20).forEach((function(t){var n=f(e.data.coord,t,.004);e.oldersPoint.push(new te(e.map,n,e._olderIcon).create())})),y(14).forEach((function(t){var n=f(e.data.coord,t,.001);e.staffPoint.push(new te(e.map,n,e._staffIcon).create())})),this.createHeatMap();case 8:case"end":return t.stop()}}),null,this)}},{key:"createHeatMap",value:function(){var e=[];this.oldersPoint.forEach((function(t,n){0===n&&function(e){for(var t=[],n=0;n<e;n++)t.push(g(60,90));return t}(90).forEach((function(n){var a=f(t.position,n,.004,.001);n%2==0&&e.push({lng:a[0],lat:a[1],count:g(1,100)})}))})),this.heatmap=new AMap.Heatmap(null,{radius:180,opacity:[0,.8],gradient:{.5:"blue",.65:"rgb(117,211,248)",.7:"rgb(0, 255, 0)",.9:"#ffea00",1:"red"}}),this.heatmap.setDataSet({data:e,max:100})}},{key:"addEventListener",value:function(){var e=this;this.emitter.on("CommunityOrgMarkerClicked",(function(){var e="https://open.ys7.com/ezopen/h5/iframe?url=".concat("ezopen://open.ys7.com/203751922/1.hd.live","&autoplay=1&accessToken=").concat("xx","&audio=1"),t=n(163)({url:e});document.body.insertAdjacentHTML("beforeend",t)})),this.emitter.on("closeMonitor",(function(){document.querySelector(".org-monitor-wrapper").remove()})),this.emitter.on("simulateAlarm",(function(){e.isRunning=!0;var t=function(e,t){var n=[];t.forEach((function(t){var a=AMap.GeometryUtil.distance(e.position,t.position);n.push({point:t,distance:a})}));var a=Math.min.apply(Math,p(n.map((function(e){return e.distance}))));return n.find((function(e){return e.distance===a})).point}(e.oldersPoint[e.orderIndex],e.staffPoint);e.startRouting(t,e.oldersPoint[e.orderIndex]),e.oldersPoint[e.orderIndex].circle=new z(e.map,e.oldersPoint[e.orderIndex].position).create(),e.alarmAudio.play(),e.orderIndex++,e.orderIndex===e.oldersPoint.length&&(e.orderIndex=0),e.emitter.on("routeLineMoveEnd",(function(t){e.isRunning=!1,e.scene.setCenter(e.data.coord),e.alarmAudio.stop(),t.circle&&t.circle.destroy()}))})),this.emitter.on("turnOnHeatMap",(function(){e.showHeatMap=!e.showHeatMap,e.showHeatMap?e.heatmap.setMap(e.map):e.heatmap.setMap(null)})),this.emitter.on("goback",(function(){e.clearCommunity()})),this.emitter.on("displayAvatar",(function(){e.isDisplayAvatar=!e.isDisplayAvatar,e.isDisplayAvatar?(e.staffPoint.forEach((function(t,n){var a=n>=4?n%4:n;t.setAvatar(e.createIcon(K+a+".png"))})),e.oldersPoint.forEach((function(t,n){var a=n>=4?n%4:n;t.setAvatar(e.createIcon(U+a+".png"))}))):(e.staffPoint.forEach((function(t){t.setAvatar(e._staffIcon)})),e.oldersPoint.forEach((function(t){t.setAvatar(e._olderIcon)}))),setTimeout((function(){e.staffPoint.forEach((function(e){e.marker.setLabel(null)})),e.oldersPoint.forEach((function(e){e.marker.setLabel(null)}))}),150)}))}},{key:"clearCommunity",value:function(){this.isRunning?alert("照护员正在路上，等完成路径再返回"):(this.map.setFeatures(["bg","road","building"]),this.OrgMarker.destroy(),document.querySelector(".alarm-button-group").remove(),this.staffPoint.forEach((function(e){e.destroy()})),this.oldersPoint.forEach((function(e){e.destroy()})),this.staffPoint=[],this.oldersPoint=[],this.emitter.emit("returnToGodStory"),this.emitter.off("simulateAlarm"),this.emitter.off("goback"),this.map.setStatus({scrollWheel:!0}),this.heatmap.setMap(null))}},{key:"startRouting",value:function(e,t){var n={lng:e.position[0],lat:e.position[1]},a={lng:t.position[0],lat:t.position[1]};new ae(this.scene,this.map,e,t,n,a).create()}}])&&re(t.prototype,a),r&&re(t,r),e}();function se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var le=function(){function e(t,n){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.hasStartup=n,this.emitter=s.getInstance().emitter,this.mapinstance=new AMap.Map("map",{resizeEnable:!0,rotateEnable:!0,pitchEnable:!0,pitch:40,viewMode:"3D",rotation:0,center:w.coord,zoom:0,maxZoom:20,minZoom:0,animateEnable:!0,scrollWheel:!1,mapStyle:"amap://styles/29944f7fc0f660069369919e3dd6efc6",features:["bg","road","building"]}),this.object3Dlayer=new AMap.Object3DLayer,this.mapinstance.add(this.object3Dlayer);this.headquarters3D=new V(this.object3Dlayer,J.headquarters,{scale:.5,height:0,scene:0,rotateX:90,rotateY:0,rotateZ:180},w),this.mapinstance.on("complete",(function(){a.scene=new r.a.Scene({zoomControl:!1,scaleControl:!1,attributionControl:!1,mapStyle:"amap://styles/29944f7fc0f660069369919e3dd6efc6",map:a.mapinstance}),a.scene.on("loaded",(function(){a.onSceneLoaded()})),new d(a.scene,a.mapinstance).initEvent()}))}var t,n,a;return t=e,(n=[{key:"onSceneLoaded",value:function(){var e=this,t=new N(this.scene,this.mapinstance,this.data);this.headquarters3D.create(),this.emitter.on("returnToGodStory",(function(){e.headquarters3D.addToLayer(),t.returnToGodStory()}));var n=this.addAudioAssets(),a=n.markerAudio,r=n.huangPuAudio;this.addLocalImageToScene(),this.hasStartup?new c(this.mapinstance,this.scene).init():(this.mapinstance.setStatus({scrollWheel:!0}),t.returnToGodStory()),this.emitter.on("rotationEnd",(function(){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t.startGodStory(a));case 2:return e.headquarters3D.destroy(),n.next=5,regeneratorRuntime.awrap(t.startHuangpuStory(r));case 5:case"end":return n.stop()}}))})),this.emitter.on("huangpuStoryEnd",(function(){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:t.clearHuangpuStory(),e.headquarters3D.addToLayer(),t.returnToGodStory();case 3:case"end":return n.stop()}}))})),this.emitter.on("zoomEnd",(function(){document.querySelector(".startup-mask").remove()})),this.emitter.on("orgMarkerClicked",(function(n){var a;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:document.querySelector(".tips-wrapper").remove(),a=n.item,e.scene.panTo(a.coord),e.headquarters3D.destroy(),t.clearGodStory(),e.scene.setCenter(a.coord),e.scene.setZoom(17),e.scene.setPitch(60),new oe(e.scene,e.mapinstance,n.item).create();case 9:case"end":return r.stop()}}))}))}},{key:"goCommunityMode",value:function(){var e;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return document.querySelector(".startup-mask")&&document.querySelector(".startup-mask").remove(),e=this.data.find((function(e){return"上海曹杨社区长者照护之家"==e.name})),this.scene.setCenter(e.coord),this.scene.setZoom(17),this.scene.setPitch(60),t.next=7,regeneratorRuntime.awrap(m(1));case 7:new oe(this.scene,this.mapinstance,e).create();case 8:case"end":return t.stop()}}),null,this)}},{key:"addAudioAssets",value:function(){var e=new A.Howl({src:[X.marker],preload:!0,autoplay:!1}),t=new A.Howl({src:[X.waitan],preload:!0,autoplay:!1});return A.Howler.volume(1),{markerAudio:e,huangPuAudio:t}}},{key:"addLocalImageToScene",value:function(){this.scene.image.addImage("head",Y.head),this.scene.image.addImage("green-point",Y["green-point"]),this.scene.image.addImage("yellow-point",Y["yellow-point"])}}])&&se(t.prototype,n),a&&se(t,a),e}(),ce=s.getInstance().emitter;window.simulateAlarm=function(){ce.emit("simulateAlarm")},window.goBack=function(){ce.emit("goback")},window.turnOnHeatMap=function(){ce.emit("turnOnHeatMap")},window.displayAvatar=function(){ce.emit("displayAvatar")},window.closeMonitor=function(){ce.emit("closeMonitor")};var ue=[{name:"上海城市公司",address:{lat:"31.257812",lng:"121.421741"}},{name:"许昌（花都）",address:{lat:"31.305213",lng:"121.312359"}},{name:"上海市精神卫生中心老年科",address:{lat:"31.187251",lng:"121.448074"}},{name:"爱照护（长征）",address:{lat:"31.236133",lng:"121.376419"}},{name:"上海金福居敬老院",address:{lat:"30.898877",lng:"121.323548"}},{name:"爱志旺日间照料会所",address:{lat:"31.188503",lng:"121.45675"}},{name:"香港莫朗福克斯公馆",address:{lat:"31.117448",lng:"121.622799"}},{name:"梅陇颐乐养老院",address:{lat:"31.085863",lng:"121.430852"}},{name:"上海尽美长者服务中心",address:{lat:"30.992221",lng:"121.470792"}},{name:"荣上记忆家园福利院",address:{lat:"31.325283",lng:"121.513295"}},{name:"爱照护（万里）",address:{lat:"31.276091",lng:"121.399718"}},{name:"爱照护总部",address:{lat:"",lng:""}},{name:"上海市普陀区白丽敬老院",address:{lat:"31.283199",lng:"121.350869"}},{name:"上海普陀区爱晚亭敬老院",address:{lat:"31.221685",lng:"121.399343"}},{name:"上海普陀区桃浦镇社会福利院",address:{lat:"31.260742",lng:"121.366945"}},{name:"爱照护（真如意）",address:{lat:"31.251975",lng:"121.383631"}},{name:"上海普陀区曹安敬老院",address:{lat:"31.235848",lng:"121.39858"}},{name:"上海曹家巷长者照护之家",address:{lat:"31.227916",lng:"121.411392"}},{name:"上海曹杨社区长者照护之家",address:{lat:"31.240929",lng:"121.407393"}},{name:"上海普陀区美源养老院",address:{lat:"31.2297",lng:"121.37522"}},{name:"上海中环逸仙敬老院",address:{lat:"31.272568",lng:"121.397392"}},{name:"武汉（南湖）",address:{lat:"30.507373",lng:"114.313595"}},{name:"爱照护（金杨）",address:{lat:"31.245875",lng:"121.577022"}},{name:"爱照护（江浦）",address:{lat:"31.26735",lng:"121.513598"}},{name:"爱照护（石泉）",address:{lat:"31.244022",lng:"121.421365"}},{name:"上海徐汇区源梦颐养院",address:{lat:"31.114144",lng:"121.455541"}},{name:"上海康健社区寿昌坊长者照护之家",address:{lat:"31.15015",lng:"121.420875"}},{name:"徐汇区精神卫生中心",address:{lat:"31.173163",lng:"121.446913"}},{name:"长宁区精神卫生中心",address:{lat:"31.2134",lng:"121.35471"}},{name:"上海市同济大学附属同济医院",address:{lat:"31.267023",lng:"121.430778"}},{name:"上海奉贤区南桥镇关港养老院",address:{lat:"30.992286",lng:"121.470635"}},{name:"上海凉城复馨敬老院",address:{lat:"31.30524",lng:"121.469947"}},{name:"长寿西沙长照",address:{lat:"31.219517",lng:"121.470674"}},{name:"太原（解二）",address:{lat:"37.849004",lng:"112.556498"}},{name:"兰州（科苑）",address:{lat:"36.052015",lng:"103.867553"}},{name:"武汉（常青）",address:{lat:"30.632273",lng:"114.238354"}},{name:"成都（万晟）",address:{lat:"30.659931",lng:"104.112795"}},{name:"济南大明湖社区爱照护长者照护之家",address:{lat:"36.671819",lng:"117.033064"}},{name:"济南（制锦市）",address:{lat:"36.669324",lng:"117.011343"}},{name:"上海普陀区忆桃园长者照护之家",address:{lat:"31.260297",lng:"121.405181"}},{name:"爱照护（临汾）",address:{lat:"31.311981",lng:"121.4589"}},{name:"爱照护（大宁）",address:{lat:"31.30238",lng:"121.462471"}},{name:"爱照护（欧阳）",address:{lat:"31.272914",lng:"121.497685"}},{name:"爱照护（甘泉R）",address:{lat:"31.260647",lng:"121.426632"}},{name:"爱照护（淞南）",address:{lat:"31.33052",lng:"121.46476"}},{name:"爱照护（枫林）",address:{lat:"31.194493",lng:"121.457801"}},{name:"爱照护（嘉兴）",address:{lat:"31.268392",lng:"121.504738"}},{name:"爱照护（龙华）",address:{lat:"31.168102",lng:"121.449573"}},{name:"爱照护（东安）",address:{lat:"31.187939",lng:"121.458229"}},{name:"爱照护（潍坊）",address:{lat:"31.218668",lng:"121.523911"}},{name:"爱照护（江湾）",address:{lat:"31.306888",lng:"121.47776"}},{name:"上海市第六人民医院记忆门诊",address:{lat:"31.178478",lng:"121.422378"}},{name:"爱照护（岳阳）",address:{lat:"31.016407",lng:"121.223932"}},{name:"呼和浩特如意开发区如意和大街分公司",address:{lat:"40.832527",lng:"111.77864"}},{name:"爱照护（真如）",address:{lat:"31.249744",lng:"121.391136"}},{name:"上海长征医院记忆门诊",address:{lat:"31.232211",lng:"121.467565"}},{name:"上海市第十人民医院",address:{lat:"31.272141",lng:"121.453407"}},{name:"上海交通大学医学院附属新华医院",address:{lat:"31.274082",lng:"121.518363"}},{name:"上海交大附属瑞金医院记忆门诊",address:{lat:"31.21175",lng:"121.467641"}},{name:"复旦大学附属华东医院记忆门诊",address:{lat:"31.21829",lng:"121.44154"}},{name:"复旦大学附属华山医院记忆门诊",address:{lat:"31.216063",lng:"121.442959"}},{name:"上海银康老年公寓",address:{lat:"31.309685",lng:"121.471658"}},{name:"上海浦东新区青墩养老院",address:{lat:"31.222099",lng:"121.720184"}},{name:"春天家园老年公寓",address:{lat:"31.143486",lng:"121.50991"}},{name:"上海徐汇区徐家汇街道龙吴路养老院",address:{lat:"31.170728",lng:"121.44405"}},{name:"上海徐汇区徐家汇街道南丹长者照护之家",address:{lat:"31.191978",lng:"121.430826"}},{name:"上海普陀区石岚敬老院",address:{lat:"31.249284",lng:"121.426746"}},{name:"静安区精神卫生中心",address:{lat:"31.231353",lng:"121.441232"}},{name:"上海金山区伯仁养护院",address:{lat:"30.894356",lng:"121.00482"}},{name:"上海爱照护武爱护理站",address:{lat:"31.27607",lng:"121.399713"}},{name:"上海市徐汇区久康养老院",address:{lat:"31.121624",lng:"121.453045"}},{name:"上海康乐福养老院",address:{lat:"31.236093",lng:"121.359345"}}].map((function(e){return{lng:e.address.lng||"",lat:e.address.lat||"",name:e.name,coord:[e.address.lng,e.address.lat]}})).filter((function(e){return e.lng&&e.lat&&"undefined"!==e.lng&&"undefined"!==e.lat})),de=function(e){new le(ue,e)};document.querySelector(".startup-btn").addEventListener("click",(function(){document.querySelector(".container").remove(),de(!0)})),document.querySelector(".no-startup-btn").addEventListener("click",(function(){de(!1),document.querySelector(".startup-mask").remove()}))}});
//# sourceMappingURL=app.b814667a.js.map