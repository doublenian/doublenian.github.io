{"version":3,"sources":["webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/utils.js","webpack:///./node_modules/howler/dist/howler.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/exception.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/animejs/lib/anime.es.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/internals/bind-context.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/handlebars/runtime.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/internals/function-to-string.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/internals/v8-version.js","webpack:///./node_modules/core-js/internals/user-agent.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/is-ios.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./node_modules/core-js/internals/wrapped-well-known-symbol.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/internal-metadata.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/base.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers.js","webpack:///./node_modules/@antv/l7/build/L7.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/eventemitter3/index.js","webpack:///./node_modules/core-js/internals/sloppy-array-method.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/modules/es.date.to-string.js","webpack:///./node_modules/core-js/modules/es.parse-float.js","webpack:///./node_modules/core-js/internals/parse-float.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars.runtime.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/decorators.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/logger.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/safe-string.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/runtime.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js"],"names":["it","Math","module","exports","check","globalThis","window","self","global","Function","shared","has","uid","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","Symbol","createWellKnownSymbol","name","exec","error","getOwnPropertyDescriptor","f","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","source","target","key","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","prototype","noTargetGet","value","forced","undefined","sham","hasOwnProperty","call","isObject","TypeError","String","DESCRIPTORS","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","Object","defineProperty","O","P","Attributes","definePropertyModule","createPropertyDescriptor","object","$","$map","map","proto","arrayMethodHasSpeciesSupport","callbackfn","this","arguments","length","fails","get","a","nativeFunctionToString","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","split","unsafe","simple","enumerable","join","__esModule","extend","indexOf","array","i","len","escapeExpression","string","toHTML","possible","test","replace","badChars","escapeChar","isEmpty","isArray","createFrame","frame","_parent","blockParams","params","ids","path","appendContextPath","contextPath","id","escape","chr","obj","toString","isFunction","Array","HowlerGlobal","init","Howler","_counter","_html5AudioPool","html5PoolSize","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","navigator","masterGain","noAudio","usingWebAudio","autoSuspend","ctx","autoUnlock","_setup","volume","vol","parseFloat","setupAudioContext","gain","setValueAtTime","currentTime","_webAudio","_getSoundIds","j","sound","_soundById","_node","mute","muted","stop","unload","close","codecs","ext","state","_autoSuspend","Audio","oncanplaythrough","e","_setupCodecs","audioTest","err","canPlayType","mpegTest","checkOpera","userAgent","match","isOldOpera","parseInt","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","m4b","mp4","weba","webm","dolby","flac","_unlockAudio","_audioUnlocked","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","audioNode","_unlocked","_releaseHtml5Audio","load","_autoResume","createBufferSource","buffer","connect","destination","start","noteOn","resume","onended","disconnect","document","removeEventListener","_emit","addEventListener","_obtainHtml5Audio","pop","testPlay","play","Promise","then","catch","console","warn","audio","push","suspend","_sounds","_paused","_suspendTimer","clearTimeout","setTimeout","handleSuspension","_resumeAfterSuspend","Howl","o","src","_autoplay","autoplay","_format","format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhr","method","xhr","headers","withCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","fn","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onunlock","onunlock","_onresume","event","action","url","str","toLowerCase","location","protocol","slice","Sound","loadBuffer","internal","num","_ended","_id","_inactiveSound","soundId","_loadQueue","seek","max","_seek","duration","timeout","abs","setParams","_start","_stop","node","playWebAudio","_refreshBuffer","_playStart","bufferSource","noteGrainOn","Infinity","bind","once","_clearTimer","playHtml5","playbackRate","paused","loadedNoReadyState","ejecta","readyState","isCocoonJS","listener","pause","_rateSeek","_stopFade","noteOff","_cleanBuffer","isNaN","_clearSound","_interval","args","index","apply","fade","from","to","min","end","linearRampToValueAtTime","_startFadeInterval","isGroup","diff","steps","stepLen","lastTick","Date","now","_fadeTo","setInterval","tick","round","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","realTime","rateSeek","seekAndEmit","emitSeek","sounds","_errorFn","_loadFn","splice","remCache","cache","on","events","off","isId","keys","msg","task","shift","ended","_drain","reset","limit","cnt","_panner","isIOS","vendor","howl","parent","create","createGain","createGainNode","_errorListener","_loadListener","code","ceil","__default","loadSound","data","atob","dataView","Uint8Array","charCodeAt","decodeAudioData","XMLHttpRequest","open","responseType","forEach","setRequestHeader","status","response","onerror","safeXhrSend","send","arraybuffer","success","AudioContext","webkitAudioContext","iOS","platform","appVersion","version","safari","_super","_pos","_orientation","stereo","pan","pos","x","y","z","positionX","setTargetAtTime","positionY","positionZ","setPosition","orientation","xUp","yUp","zUp","or","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","_stereo","_pannerAttr","coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","_onstereo","onstereo","_onpos","onpos","_onorientation","onorientation","pannerType","createStereoPanner","setupPanner","orientationX","orientationY","orientationZ","pannerAttr","_coneInnerAngle","_coneOuterAngle","_coneOuterGain","_distanceModel","_maxDistance","_refDistance","_rolloffFactor","_panningModel","pa","panner","type","createPanner","errorProps","Exception","message","loc","line","endLineNumber","column","endColumn","tmp","Error","constructor","idx","captureStackTrace","lineNumber","nop","IndexedObject","requireObjectCoercible","IS_PURE","store","mode","copyright","set","NATIVE_WEAK_MAP","objectHas","sharedKey","hiddenKeys","WeakMap","wmget","wmhas","wmset","metadata","STATE","getterFor","TYPE","aFunction","variable","namespace","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","direction","timelineOffset","defaultTweenSettings","delay","endDelay","easing","validTransforms","CSS","springs","minMax","val","stringContains","text","applyArguments","func","is","arr","pth","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","hex","rgb","hsl","col","parseEasingParameters","p","spring","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","cached","elapsed","rest","eases","functionEasings","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","getTForX","aX","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","penner","linear","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","easeIn","parseEasings","ease","selectString","querySelectorAll","filterArray","callback","thisArg","result","flattenArray","reduce","concat","toArray","NodeList","HTMLCollection","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","colorToRgb","rgbValue","hexValue","m","r","g","hexToRgba","hslValue","h","s","l","hue2rgb","q","hslToRgba","getUnit","getFunctionValue","animatable","total","getAttribute","el","prop","convertPxToUnit","unit","tempEl","createElement","tagName","parentEl","parentNode","body","appendChild","style","position","width","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","getTransformValue","propName","defaultVal","getTransformUnit","list","getOriginalTargetValue","getRelativeValue","operator","u","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getTotalLength","getCircleLength","getRectLength","getLineLength","getPolygonLength","getParentSvg","pathEl","svgData","parentSvgEl","getParentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","getPathProgress","point","offset","getPointAtLength","p0","property","atan2","decomposeValue","rgx","original","numbers","Number","strings","parseTargets","targets","item","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","propArray","v","k","getProperties","properties","keyframes","propertyNames","newKey","flattenKeyframes","tweens","normalizeTweens","previousTween","tween","normalizeTweenValues","tweenValue","toUnit","originalValue","previousValue","fromUnit","isPath","isColor","setProgressValue","css","attribute","setAttribute","manual","last","setTargetsValue","valueUnit","animType","getAnimations","animatables","lastTween","createAnimation","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","raf","activeInstances","pausedInstances","engine","requestAnimationFrame","step","activeInstancesLength","activeInstance","instanceIndex","cancelAnimationFrame","anime","children","startTime","lastTime","childrenLength","resolve","makePromise","instance","promise","_resolve","finished","instanceSettings","createNewInstance","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","speed","seekChild","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","reversePlayback","i$1","syncInstanceChildren","began","loopBegan","changeBegan","changeCompleted","remaining","completed","reverse","restart","removeTargetsFromAnimations","targetsArray","hidden","ins","running","remove","c","childAnimations","convertPx","percent","setDashoffset","pathLength","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","distanceX","distanceY","timeline","tl","add","instanceParams","tlIndex","insParams","tlDuration","random","bitmap","configurable","writable","toObject","toLength","arraySpeciesCreate","createMethod","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","that","specificCreate","boundFunction","filter","every","find","findIndex","FunctionPrototype","FunctionPrototypeToString","nameRE","TO_STRING_TAG","wellKnownSymbol","TAG","propertyIsEnumerableModule","toIndexedObject","nativeGetOwnPropertyDescriptor","input","PREFERRED_STRING","valueOf","postfix","toInteger","argument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","Empty","createDict","iframeDocument","iframe","display","contentWindow","write","lt","F","Properties","TO_STRING_TAG_SUPPORT","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","getBuiltIn","NativePromise","redefineAll","setToStringTag","setSpecies","anInstance","classof","iterate","checkCorrectnessOfIteration","speciesConstructor","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","V8_VERSION","SPECIES","PROMISE","setInternalState","getInternalPromiseState","PromiseConstructor","process","inspectSource","$fetch","newPromiseCapability","newGenericPromiseCapability","IS_NODE","DISPATCH_EVENT","createEvent","dispatchEvent","FORCED","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","iterable","all","isThenable","notify","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","reject","domain","rejection","onHandleUnhandled","enter","exit","onUnhandled","reason","initEvent","isUnhandled","emit","unwrap","internalReject","done","internalResolve","wrapper","executor","onFulfilled","onRejected","fetch","wrap","capability","$promiseResolve","counter","alreadyCalled","race","EXISTS","internalObjectKeys","getOwnPropertyNames","replacement","feature","detection","normalize","POLYFILL","NATIVE","getOwnPropertySymbols","UNSCOPABLES","ArrayPrototype","Constructor","isArrayIteratorMethod","getIteratorMethod","callWithSafeIterationClosing","Result","stopped","AS_ENTRIES","IS_ITERATOR","iterator","iterFn","next","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","skipTempReset","prev","charAt","rootRecord","rval","exception","handle","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","createIteratorConstructor","Iterators","IteratorsCore","BUGGY_SAFARI_ITERATORS","returnThis","Iterable","NAME","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","DOMIterables","COLLECTION_NAME","Collection","CollectionPrototype","re1","re2","regexpFlags","nativeExec","RegExp","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","NPCG_INCLUDED","reCopy","re","$filter","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","ownKeys","getOwnPropertyDescriptorModule","names","toAbsoluteIndex","IS_INCLUDES","includes","METHOD_NAME","foo","Boolean","versions","v8","$find","addToUnscopables","SKIPS_HOLES","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","CONSTRUCTOR_NAME","ENTRIES","returnMethod","defer","channel","port","IS_IOS","setImmediate","clear","clearImmediate","MessageChannel","Dispatch","queue","run","runner","post","postMessage","host","nextTick","port2","port1","onmessage","importScripts","PromiseCapability","$$resolve","$$reject","$forEach","sloppyArrayMethod","defineIterator","iterated","PrototypeOfArrayIteratorPrototype","arrayIterator","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","aPossiblePrototype","setter","CORRECT_SETTER","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","ignoreCase","multiline","dotAll","unicode","sticky","fixRegExpWellKnownSymbolLogic","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","searcher","res","rx","S","previousLastIndex","wrappedWellKnownSymbolModule","kind","Arguments","FREEZING","METADATA","isExtensible","setMetadata","objectID","weakData","meta","REQUIRED","fastKey","getWeakData","onFreeze","_interopRequireDefault","HandlebarsEnvironment","_utils","_exception2","_helpers","_decorators","_logger2","VERSION","COMPILER_REVISION","LAST_COMPATIBLE_COMPILER_REVISION","REVISION_CHANGES","2","3","4","5","6","7","8","helpers","partials","decorators","registerDefaultHelpers","registerDefaultDecorators","logger","log","registerHelper","unregisterHelper","registerPartial","partial","unregisterPartial","registerDecorator","unregisterDecorator","_helpersBlockHelperMissing2","_helpersEach2","_helpersHelperMissing2","_helpersIf2","_helpersLog2","_helpersLookup2","_helpersWith2","moveHelperToHooks","helperName","keepHelper","hooks","worker","L7","define","_","chunk","workerBundleString","sharedChunk","workerUrl","URL","createObjectURL","Blob","unwrapExports","createCommonjsModule","EventEmitter","originalGlobalValue","indexOfListener","listeners","alias","getListeners","evt","_getEvents","flattenListeners","flatListeners","getListenersAsObject","addListener","isValidListener","listenerIsWrapped","addOnceListener","defineEvent","defineEvents","evts","removeListener","addListeners","manipulateListeners","removeListeners","single","multiple","removeEvent","_events","removeAllListeners","emitEvent","listenersMap","_getOnceReturnValue","trigger","setOnceReturnValue","_onceReturnValue","noConflict","Vector4","EPSILON","isInteger","isFinite","sign","assign","arguments$1","output","nextKey","isVector4","setScalar","scalar","setX","setY","setZ","setW","setComponent","getComponent","copy","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiplyScalar","applyMatrix4","elements","divideScalar","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","angle","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","clamp","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","lengthSq","manhattanLength","setLength","lerp","alpha","lerpVectors","v1","v2","equals","fromArray","fromBufferAttribute","getX","getY","getZ","getW","zero","one","matrix","quaternion","_Math","DEG2RAD","RAD2DEG","generateUUID","lut","d0","d1","d2","d3","toUpperCase","euclideanModulo","mapLinear","a1","a2","b1","b2","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","LN2","floorPowerOfTwo","Matrix4","Quaternion","_x","_y","_z","_w","Vector3","Vector2","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","euler","isEuler","d","order","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","crossVectors","multiply","multiplyMatrices","premultiply","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","count","setXYZ","determinant","transpose","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","theta","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","makeShear","x2","y2","z2","wx","wy","wz","sx","sy","sz","decompose","vector","invSX","invSY","invSZ","setFromRotationMatrix","makePerspective","left","right","top","bottom","near","far","makeOrthographic","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","x1","y1","z1","w1","dir","sqrSin","tDir","onChangeCallback","isQuaternion","setFromEuler","c1","c2","c3","s1","s2","s3","setFromAxisAngle","halfAngle","trace","setFromUnitVectors","vFrom","vTo","angleTo","rotateTowards","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","onChange","isVector3","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyMatrix3","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","matrixWorld","transformDirection","divide","cross","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","distanceTo","distanceToSquared","dx","dy","dz","manhattanDistanceTo","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","isVector2","rotateAround","center","hslA","hslB","ColorKeywords","Color","setRGB","BufferAttribute","itemSize","normalized","dynamic","updateRange","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float64BufferAttribute","Float64Array","setHex","setStyle","setHSL","handleAlpha","color","components","size","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","SRGBToLinear","copyLinearToSRGB","LinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","delta","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","toJSON","isBufferAttribute","onUploadCallback","setArray","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","REVISION","CullFaceNone","CullFaceBack","CullFaceFront","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","NoColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","ObjectSpaceNormalMap","EventDispatcher","Euler","_order","DefaultOrder","Layers","mask","Matrix3","_listeners","hasEventListener","listenerArray","RotationOrders","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","enable","toggle","disable","layers","isMatrix3","setFromMatrix4","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","rotation","cx","cy","rotate","translate","m1","q1","_canvas","object3DId","Object3D","uuid","DefaultUp","modelViewMatrix","normalMatrix","matrixAutoUpdate","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","Scene","background","fog","overrideMaterial","autoUpdate","isObject3D","onBeforeRender","onAfterRender","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","updateWorldMatrix","isCamera","isLight","getObjectById","getObjectByProperty","getObjectByName","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrix","force","updateParents","updateChildren","isRootObject","geometries","materials","textures","images","shapes","serialize","library","element","JSON","stringify","isMesh","drawMode","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","recursive","parse","isScene","dispose","closestPoint","box","sphere","ImageUtils","image","canvas","HTMLCanvasElement","createElementNS","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","repeat","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","DataTexture","Box3","Sphere","Plane","constant","Frustum","p3","p4","p5","planes","isTexture","transformUv","uv","isDataTexture","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","makeEmpty","il","expandByPoint","setFromCenterAndSize","halfSize","setFromObject","expandByObject","getCenter","getSize","expandByVector","expandByScalar","scope","isGeometry","vertices","isBufferGeometry","attributes","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","clampPoint","intersectsPlane","plane","intersectsTriangle","v0","f0","f1","f2","testAxis","extents","triangleNormal","satForAxes","axes","triangle","distanceToPoint","getBoundingSphere","intersect","union","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","denominator","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","boundingSphere","computeBoundingSphere","intersectsSprite","negRadius","ShaderChunk","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_physical_pars_fragment","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","merge","UniformsLib","diffuse","opacity","uvTransform","alphaMap","specularmap","specularMap","envmap","envMap","flipEnvMap","reflectivity","refractionRatio","maxMipLevel","aomap","aoMap","aoMapIntensity","lightmap","lightMap","lightMapIntensity","emissivemap","emissiveMap","bumpmap","bumpMap","bumpScale","normalmap","normalMap","normalScale","displacementmap","displacementMap","displacementScale","displacementBias","roughnessmap","roughnessMap","metalnessmap","metalnessMap","gradientmap","gradientMap","fogDensity","fogNear","fogFar","fogColor","lights","ambientLightColor","directionalLights","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ShaderLib","basic","vertexShader","fragmentShader","lambert","emissive","phong","specular","shininess","standard","roughness","metalness","envMapIntensity","matcap","dashed","dashSize","totalSize","depth","t2D","cube","tCube","tFlip","equirect","tEquirect","distanceRGBA","referencePosition","nearDistance","farDistance","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","buffers","isInterleavedBufferAttribute","deleteBuffer","delete","bufferType","usage","DYNAMIC_DRAW","STATIC_DRAW","bindBuffer","bufferData","FLOAT","UNSIGNED_SHORT","SHORT","UNSIGNED_INT","INT","BYTE","UNSIGNED_BYTE","bytesPerElement","BYTES_PER_ELEMENT","bufferSubData","subarray","updateBuffer","Face3","materialIndex","vertexNormals","vertexColors","physical","clearCoat","clearCoatRoughness","geometryId","Geometry","faces","faceVertexUvs","morphTargets","morphNormals","skinWeights","skinIndices","lineDistances","boundingBox","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","DirectGeometry","normals","uvs","uvs2","groups","arrayMax","face","jl","computeBoundingBox","fromBufferGeometry","indices","positions","uv2","addFace","group","computeFaceNormals","ab","fl","vA","vB","vC","computeVertexNormals","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precision","faceIndicesToRemove","sortFacesByMaterialIndex","sort","newUvs1","newUvs2","vertex","normalsHash","colorsHash","uvsHash","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","kl","uvsCopy","morphTarget","morphNormal","srcVertexNormal","destVertexNormal","computeGroups","fromGeometry","morphTargetsPosition","hasFaceVertexUv2","morphTargetsLength","morphTargetsNormal","morphNormalsLength","hasSkinIndices","hasSkinWeights","vertexUvs","bufferGeometryId","BufferGeometry","morphAttributes","drawRange","BoxGeometry","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","addGroup","setIndex","addAttribute","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","getIndex","removeAttribute","clearGroups","setDrawRange","needsUpdate","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","pA","pB","pC","normalizeNormals","attributeArray1","attribute2","attributeArray2","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","morphAttribute","segCenter","segDir","barycoord","vab","vac","vbc","vap","vbp","vcp","materialId","Material","blending","side","flatShading","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","ShaderMaterial","defines","linewidth","wireframe","wireframeLinewidth","clipping","skinning","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","setValues","Ray","origin","Triangle","MeshBasicMaterial","combine","wireframeLinecap","wireframeLinejoin","Mesh","updateMorphTargets","WebGLBackground","renderer","objects","planeMesh","boxMesh","clearColor","clearAlpha","currentBackground","currentBackgroundVersion","setClear","getClearColor","setClearColor","getClearAlpha","setClearAlpha","render","renderList","scene","forceClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","isWebGLRenderTargetCube","texture","unshift","WebGLBufferRenderer","capabilities","setMode","drawArrays","renderInstances","extension","isWebGL2","maxInstancedCount","WebGLCapabilities","maxAnisotropy","getMaxPrecision","getShaderPrecisionFormat","VERTEX_SHADER","HIGH_FLOAT","FRAGMENT_SHADER","MEDIUM_FLOAT","WebGL2RenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","maxTextureSize","MAX_TEXTURE_SIZE","maxCubemapSize","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","MAX_VERTEX_ATTRIBS","maxVertexUniforms","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","vertexTextures","floatFragmentTextures","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","floatVertexTextures","maxSamples","MAX_SAMPLES","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","uniform","resetGlobalState","numPlanes","numIntersection","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","i4","enableLocalClipping","beginShadows","endShadows","setState","fromCache","nGlobal","lGlobal","clippingState","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","getWireframeAttribute","geometryIndex","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","programs","autoReset","instanceCount","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","LINES","LINE_STRIP","LINE_LOOP","POINTS","absNumericalSort","WebGLMorphtargets","influencesList","morphInfluences","program","objectInfluences","morphTargetInfluences","influences","influence","getUniforms","setValue","WebGLObjects","updateList","CubeTexture","DataTexture3D","isMaterial","onBeforeCompile","newValue","isRoot","emissiveIntensity","normalMapType","sizeAttenuation","gapSize","srcPlanes","dstPlanes","isShaderMaterial","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","uv1","uv3","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","isMeshBasicMaterial","setDrawMode","morphTargetDictionary","ml","inverseMatrix","tempA","tempB","tempC","uvA","uvB","uvC","intersectionPoint","intersectionPointWorld","checkIntersection","raycaster","checkBufferGeometryIntersection","intersection","intersects","groupMaterial","faceIndex","fvA","fvB","fvC","isMultiMaterial","faceMaterial","uvs_f","isDataTexture3D","emptyTexture","emptyTexture3d","emptyCubeTexture","UniformContainer","seq","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocTextureUnit","setValue1f","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2f","uniform2fv","setValue3fv","uniform3f","uniform3fv","setValue4fv","uniform4f","uniform4fv","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","setValue4fm","uniformMatrix4fv","setValueT1","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","updateCache","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","units","setValueT6a","SingleUniform","activeInfo","getSingularSetter","PureArrayUniform","getPureArraySetter","StructuredUniform","RePathPart","addUniform","container","uniformObject","parseUniform","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","WebGLShader","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","addLineNumbers","setOptional","upload","seqWithValue","programIdCount","getEncodingComponents","getTexelDecodingFunction","functionName","getToneMappingFunction","toneMapping","toneMappingName","filterEmptyLine","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","parseIncludes","include","unrollLoops","snippet","unroll","WebGLProgram","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","prefixVertex","prefixFragment","gammaFactorDefine","customExtensions","rendererExtensions","envMapCubeUV","objectSpaceNormalMap","generateExtensions","customDefines","chunks","generateDefines","createProgram","isRawShaderMaterial","supportsVertexTextures","maxBones","useFog","fogExp","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","cachedUniforms","cachedAttributes","programLog","getProgramInfoLog","trim","vertexLog","fragmentLog","runnable","haveDiagnostics","LINK_STATUS","getError","VALIDATE_STATUS","diagnostics","prefix","deleteShader","getAttributes","ACTIVE_ATTRIBUTES","getActiveAttrib","getAttribLocation","fetchAttributeLocations","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getTextureEncodingFromMap","gammaOverrideLinear","isWebGLRenderTarget","getParameters","shadows","nClipPlanes","nClipIntersection","shaderID","isSkinnedMesh","bones","skeleton","nVertexUniforms","nVertexMatrices","allocateBones","currentRenderTarget","getRenderTarget","gammaOutput","gammaInput","envMapMode","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCode","acquireProgram","pl","programInfo","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","getNextRenderItem","renderItem","WebGLRenderLists","lists","onSceneDispose","cameras","UniformsCache","light","halfWidth","halfHeight","WebGLLights","stateID","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","shadowsLength","ambient","vector3","matrix42","setup","intensity","isAmbientLight","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","setupLights","pushLight","pushShadow","shadowLight","WebGLRenderStates","renderStates","renderState","WebGLRenderTarget","scissor","scissorTest","viewport","depthBuffer","stencilBuffer","depthTexture","WebGLShadowMap","_renderer","_objects","_frustum","_projScreenMatrix","_shadowMapSize","_maxShadowMapSize","_lookTarget","_lightPositionWorld","_MorphingFlag","_SkinningFlag","_NumberOfMaterialVariants","_depthMaterials","_distanceMaterials","_materialCache","0","cubeDirections","cubeUps","cube2DViewPorts","useMorphing","useSkinning","depthMaterial","distanceMaterial","getDepthMaterial","lightPositionWorld","materialVariants","customMaterial","customDepthMaterial","customDistanceMaterial","variantIndex","keyA","keyB","materialsForVariant","cachedMaterial","isMeshDistanceMaterial","renderObject","shadowCamera","renderBufferDirect","faceCount","setBlending","setTest","setScissorTest","vpWidth","vpHeight","pars","updateProjectionMatrix","isSpotLightShadow","shadowMatrix","setRenderTarget","vpDimensions","WebGLState","utils","colorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","currentDepthMask","currentDepthFunc","currentDepthClear","DEPTH_TEST","depthMask","setFunc","NEVER","ALWAYS","LESS","LEQUAL","EQUAL","GEQUAL","GREATER","NOTEQUAL","clearDepth","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","STENCIL_TEST","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","compressedTextureFormats","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","MAX_COMBINED_TEXTURE_IMAGE_UNITS","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","emptyTextures","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","BLEND","blendEquationSeparate","convert","blendFuncSeparate","FUNC_ADD","ONE","ONE_MINUS_SRC_ALPHA","blendFunc","ZERO","ONE_MINUS_SRC_COLOR","SRC_COLOR","SRC_ALPHA","setFlipSided","frontFace","CW","CCW","setCullFace","cullFace","CULL_FACE","BACK","FRONT","FRONT_AND_BACK","setPolygonOffset","POLYGON_OFFSET_FILL","activeTexture","webglSlot","TEXTURE0","TEXTURE_2D","TEXTURE_CUBE_MAP","TEXTURE_CUBE_MAP_POSITIVE_X","initAttributes","enableAttribute","disableUnusedAttributes","disableVertexAttribArray","getCompressedTextureFormats","formats","COMPRESSED_TEXTURE_FORMATS","useProgram","setMaterial","frontFaceCW","setLineWidth","lineWidth","SCISSOR_TEST","webglType","webglTexture","boundTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","_videoTextures","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","__maxMipLevel","LOG2E","getInternalFormat","glFormat","glType","internalFormat","RED","R32F","HALF_FLOAT","R16F","R8","RGB","RGB32F","RGB16F","RGB8","RGBA32F","RGBA16F","RGBA8","filterFallback","LINEAR","onTextureDispose","textureProperties","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","deallocateTexture","isVideoTexture","onRenderTargetDispose","renderTarget","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","deallocateRenderTarget","slot","updateVideoTexture","__version","uploadTexture","setTextureParameters","textureType","TEXTURE_WRAP_S","TEXTURE_WRAP_T","CLAMP_TO_EDGE","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_3D","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","textureNeedsPowerOfTwo","glInternalFormat","mipmap","isDepthTexture","DEPTH_COMPONENT","DEPTH_COMPONENT32F","DEPTH_COMPONENT16","DEPTH_STENCIL","isCompressedTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","RENDERBUFFER","samples","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","setupDepthRenderbuffer","isCube","webglDepthTexture","setupDepthTexture","createRenderbuffer","isWebGLMultisampleRenderTarget","isCompressed","cubeImage","setTextureCubeDynamic","setupRenderTarget","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","COLOR_ATTACHMENT0","__webglDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","READ_FRAMEBUFFER","DRAW_FRAMEBUFFER","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","blitFramebuffer","WebGLUtils","REPEAT","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","HALF_FLOAT_OES","ALPHA","LUMINANCE","LUMINANCE_ALPHA","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","DST_ALPHA","ONE_MINUS_DST_ALPHA","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA_SATURATE","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN","MAX","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8","UNSIGNED_INT_24_8_WEBGL","Group","Camera","projectionMatrixInverse","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","ArrayCamera","setSize","isMeshDepthMaterial","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","isArrayCamera","cameraLPos","cameraRPos","setProjectionFromUnion","cameraL","cameraR","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","WebVRManager","device","frameData","poseTarget","controllers","standingMatrix","standingMatrixInverse","framebufferScaleFactor","frameOfReferenceType","VRFrameData","onVRDisplayPresentChange","tempQuaternion","tempPosition","bounds","currentSize","currentPixelRatio","cameraVR","isPresenting","eyeParameters","getEyeParameters","renderWidth","renderHeight","getPixelRatio","setDrawingBufferSize","animation","triggers","findGamepad","gamepads","getGamepads","gamepad","startsWith","getController","controller","getDevice","setDevice","setFramebufferScaleFactor","setFrameOfReferenceType","setPoseTarget","getCamera","userHeight","depthNear","depthFar","getFrameData","stageParameters","sittingToStandingTransform","pose","poseObject","leftViewMatrix","rightViewMatrix","leftProjectionMatrix","rightProjectionMatrix","getLayers","layer","leftBounds","rightBounds","hasPosition","buttonId","buttons","pressed","updateControllers","getStandingMatrix","submitFrame","WebXRManager","session","frameOfReference","inputSources","onSessionEvent","inputSource","onSessionEnd","setFramebuffer","updateCamera","XRDevice","setCompatibleXRDevice","setSession","baseLayer","XRWebGLLayer","requestFrameOfReference","getInputSources","onAnimationFrameCallback","getDevicePose","views","getViewport","getViewMatrix","inputPose","getInputPose","targetRay","transformMatrix","pointerMatrix","THREE","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","currentRenderList","currentRenderState","domElement","sortObjects","toneMappingExposure","toneMappingWhitePoint","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","_this","_isContextLost","_framebuffer","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_usedTextureUnits","_width","_height","_pixelRatio","_viewport","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_vector3","getTargetPixelRatio","contextAttributes","onContextLost","onContextRestore","initGLContext","vr","preventDefault","onMaterialDispose","releaseMaterialProgramReference","deallocateMaterial","getContextAttributes","forceContextLoss","loseContext","forceContextRestore","restoreContext","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","pixelRatio","getCurrentViewport","setScissor","boolean","bits","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","setProgram","updateBuffers","rangeFactor","isInstancedBufferGeometry","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","initMaterial","warned","renderObjects","camera2","isImmediateRenderObject","renderObjectImmediate","materialProperties","lightsHash","lightsStateHash","programChange","numSupportedMorphTargets","numSupportedMorphNormals","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","boneTexture","boneMatrices","boneTextureSize","isFog","density","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsPhong","refreshUniformsToon","isMeshPhysicalMaterial","refreshUniformsStandard","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","projectObject","opaqueObjects","transparentObjects","textureUnit","setTexture","activeCubeFace","activeMipMapLevel","readRenderTargetPixels","restore","textureFormat","IMPLEMENTATION_COLOR_READ_FORMAT","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","copyFramebufferToTexture","level","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","CanvasTexture","Clock","autoStart","oldTime","elapsedTime","Points","linecap","linejoin","Line","LineSegments","OrthographicCamera","InstancedBufferGeometry","Raycaster","LOD","threshold","Sprite","PointCloud","ascSort","intersectObject","InstancedBufferAttribute","Float32BufferAttribute$1","isCanvasTexture","performance","getElapsedTime","getDelta","newTime","localThreshold","localThresholdSq","intersectPoint","testPoint","rayPointDistanceSq","distanceToRay","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","nbVertices","isOrthographicCamera","zoomW","zoomH","scaleW","scaleH","setFromCamera","coords","optionalTarget","intersectObjects","THREE$1","freeze","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","FlatShading","SmoothShading","FaceColors","VertexColors","UVMapping","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","LogLuvEncoding","TangentSpaceNormalMap","isArrayLike_1","contains_1","isType_1","each_1","filter_1","difference_1","isNil_1","keys_1","isMatch_1","attrs","_keys","isObjectLike_1","isPlainObject_1","find_1","predicate","_predicate","findIndex_1","firstValue_1","rst","flatten_1","flatten$1","flattenDeep_1","flattenDeep","getRange_1","pull_1","arrPrototype","_i","pullAt_1","indexes","previous","reduce_1","remove_1","isString","isString$1","sortBy_1","comparer","uniq_1","resultArr","uniq","union_1","sources","valuesOfKey","tmpMap","head_1","last_1","startsWith_1","endsWith_1","every_1","some_1","groupBy_1","condition","groupToMap_1","paramsCondition_1","row","getWrapBehavior_1","wrapBehavior_1","number2color","numColorCache","parseRadius_1","r1","r2","r3","r4","clamp_1","fixedBase_1","base","toFixed","isNumber_1","isDecimal_1","isEven_1","isInteger_1","isNegative_1","isNumberEqual_1","PRECISION","isOdd_1","isPositive_1","maxBy","maxData","minBy","minData","mod_1","toDegree_1","DEGREE","radian","toRadian_1","RADIAN","degree","forIn","hasKey","values_1","hasValue","toString_1","lowerCase_1","lowerFirst_1","substring","substitute_1","upperCase_1","upperFirst_1","getType_1","isArguments_1","isBoolean_1","isDate_1","isError_1","_isFinite","isNull_1","isPrototype_1","objectProto","Ctor","isRegExp_1","isUndefined_1","isElement_1","Element","HTMLDocument","requestAnimationFrame_1","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","clearAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","mix_1","_mix","dist","src2","src3","augment_1","clone_1","debounce_1","wait","immediate","later","callNow","default_1","def","memoize","resolver","memoized","deepMix_1","MAX_MIX_LEVEL","_deepMix","maxLevel","extend_1","subclass","superclass","overrides","staticOverrides","Tmp","superObj","indexOf_1","isEmpty_1","isEqual_1","isEqual","other","valueKeys","otherKeys","isEqualWith","map_1","mapValues","defaultValue","keyArr","pick","throttle","leading","throttled","trailing","cancel","uniqueId","noop","size_1","lib","contains","difference","firstValue","getRange","pull","pullAt","sortBy","head","endsWith","groupBy","groupToMap","getWrapBehavior","wrapBehavior","parseRadius","fixedBase","isDecimal","isEven","isNegative","isNumberEqual","isOdd","isPositive","mod","toDegree","toRadian","isMatch","lowerCase","lowerFirst","substitute","upperCase","upperFirst","getType","isArguments","isArrayLike","isBoolean","isDate","isError","isNil","isNull","isNumber","isObjectLike","isPlainObject","isPrototype","isRegExp","isType","isUndefined","isElement","augment","debounce","deepMix","each","mix","Cache","lib_1","lib_2","lib_3","lib_4","lib_5","lib_6","lib_7","lib_8","lib_9","lib_10","lib_11","lib_12","lib_13","lib_14","lib_15","lib_16","lib_17","lib_18","lib_19","lib_20","lib_21","lib_22","lib_23","lib_24","lib_25","lib_26","lib_27","lib_28","lib_29","lib_30","lib_31","lib_32","lib_33","lib_34","lib_35","lib_36","lib_37","lib_38","lib_39","lib_40","lib_41","lib_42","lib_43","lib_44","lib_45","lib_46","lib_47","lib_48","lib_49","lib_50","lib_51","lib_52","lib_53","lib_54","lib_55","lib_56","lib_57","lib_58","lib_59","lib_60","lib_61","lib_62","lib_63","lib_64","lib_65","lib_66","lib_67","lib_68","lib_69","lib_70","lib_71","lib_72","lib_73","lib_74","lib_75","lib_76","lib_77","lib_78","lib_79","lib_80","lib_81","lib_82","lib_83","lib_84","lib_85","lib_86","lib_87","lib_88","lib_89","lib_90","lib_91","lib_92","lib_93","lib_94","lib_95","lib_96","lib_97","lib_98","lib_99","lib_100","lib_101","lib_102","lib_103","lib_104","lib_105","lib_106","Utils","__moduleExports","Util","cloneDeep","snapEqual","inArray","Base","cfg","defaultCfg","getDefaultCfg","_attrs","destroyed","Global","mapType","minZoom","maxZoom","pitch","zoomControl","scaleControl","attributionControl","animate","activeColor","pattern","snapArray","pointShape","sdfHomeUrl","scales","textStyle","fontSize","fill","textBaseline","fontFamily","textAlign","Base$1","formatter","ticks","getTicks","getText","tickValue","rangeMin","rangeMax","invert","constr","DECIMAL_LENGTH","arrayFloor","NaN","pre","arrayCeiling","Util$1","snapFactorTo","snapType","tmpFactor","getFactor","snapFloor","snapCeiling","snapTo","snapMultiple","floorVal","ceilingVal","MIN_COUNT","MAX_COUNT","Linear","isLinear","minLimit","maxLimit","nice","tickCount","tickInterval","lastValue","initTicks","calculateTicks","interval","minCount","maxCount","isFixedCount","avgCount","snapCountArray","temp","minTick","avg","avgTick","sideCount","maxTick","numberAuto","calTicks","Identity","isIdentity","MAX_COUNT$1","SUB_COUNT","catAuto","categories","number","getGreatestFactor","Category","isCategory","MAX_COUNT$2","SNAP_ARRAY","MINUTE_MS","HOUR_MS","DAY_MS","getYear","date","getFullYear","createYear","year","getTime","getMonth","creatMonth","month","timeAuto","minInterval","dms","yms","yfactor","minYear","maxYear","mmMoth","dMonths","minMonth","diffMonth","year$1","month$1","mday","getDate","day","ddays","diffDay","i$2","date$1","year$2","month$2","day$1","hour","getHours","hours","dHours","diffHour","i$3","dMinus","diffMinus","minutes","i$4","dSeconds","seconds","i$5","i$6","fecha","main","token","twoDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","pad","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","D","formatFlags","dateObj","DD","Do","getDay","dd","ddd","dddd","M","MM","MMM","MMMM","YY","YYYY","hh","H","HH","getMinutes","mm","getSeconds","ss","getMilliseconds","SS","SSS","ZZ","getTimezoneOffset","parseFlags","cent","minute","second","millisecond","isPm","parts","timezoneOffset","masks","default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","i18nSettings","literals","$0","$1","dateStr","isValid","dateInfo","search","today","UTC","TimeUtil","Time","timeStamps","secondMin","timeStamp","_toTimeStamp","minTickInterval","TimeCategory","formated","Log","_minTick","positiveMin","_getScalePercent","appendPercent","calBase","E","Pow","exponent","Cat","TimeCat","methodName","CAT_ARR","dateRegex","TYPES","ScaleController","defs","_getDef","field","_getDefaultType","_getScaleCfg","createScale","RGB_REG","ColorKeywords$1","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","getValue","rgb2arr","ColorUtil","toRGB","color2Arr","colorArray2RGBA","color2RGBA","gradient","calColor","toScaleString","AttributeBase","_getAttrValue","getLinearValue","leftPercent","getNames","getFields","getScale","_toOriginParam","param","Color$1","Size","domainIndex","outputs","_scaling","rstValue","Opacity","Shape","Position","rstX","rstY","coord","convertPoint","yVal","xVal","Filter","Pattern","geom","feat","bbox","coordinates","polygon","coordinates_1","ring","lineString","featureCollection","features","fc","multiLineString","multiPoint","multiPolygon","radiansToLength","factors","lengthToRadians","radiansToDegrees","earthRadius","centimeters","centimetres","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","yards","unitsFactors","areaFactors","acres","polygons","lineStrings","geometryCollection","multiplier","lengthToDegrees","bearingToAzimuth","bearing","degreesToRadians","convertLength","finalUnit","convertArea","area","startFactor","finalFactor","validateBBox","validateId","radians2degrees","degrees2radians","distanceToDegrees","distanceToRadians","radiansToDistance","bearingToAngle","convertDistance","coordEach","geojson","excludeWrapCoord","stopG","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","featureIndex","geomIndex","multiFeatureIndex","geomType","propEach","featureEach","geomEach","featureProperties","featureBBox","featureId","flattenEach","segmentEach","segmentIndex","previousCoords","previousFeatureIndex","previousMultiIndex","prevGeomIndex","currentCoord","featureIndexCoord","multiPartIndexCoord","currentSegment","lineEach","coordReduce","initialValue","propReduce","currentProperties","featureReduce","currentFeature","coordAll","geomReduce","currentGeometry","flattenReduce","segmentReduce","started","lineReduce","currentLine","findSegment","findPoint","meta_10","invariant","getCoord","getCoords","containsNumber","geojsonType","featureOf","collectionOf","_a","getGeom","invariant_2","djb2hash","wgs84","RADIUS","FLATTENING","POLAR_RADIUS","polygonArea","ringArea","lowerIndex","middleIndex","upperIndex","coordsLength","rad","geojsonArea","geojsonRewind","rewind","gj","outer","curryOuter","correctRings","correct","wind","cw","geoJSON","resultData","featureKeys","idField","coor","dataItem","dataArray","AJAXError","getArrayBuffer","requestParameters","credentials","makeRequest","statusText","byteLength","cacheControl","getResponseHeader","expires","getImage","imgData","img","Image","webkitURL","revokeObjectURL","blob","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","inferColumns","rows","columnSet","formatDate","getUTCHours","getUTCMinutes","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","dsv","delimiter","reFormat","DELIMITER","parseRows","N","I","eof","eol","preformatBody","formatValue","formatRow","customConverter","formatBody","formatRows","csvParse","ieee754","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","pbf","Pbf","buf","ArrayBuffer","isView","Varint","Fixed64","Bytes","Fixed32","utf8TextDecoder","TextDecoder","readPackedEnd","readVarint","toNum","isSigned","makeRoomForExtraLength","startPos","extraLen","realloc","writePackedVarint","writeVarint","writePackedSVarint","writeSVarint","writePackedFloat","writeFloat","writePackedDouble","writeDouble","writePackedBoolean","writeBoolean","writePackedFixed32","writeFixed32","writePackedSFixed32","writeSFixed32","writePackedFixed64","writeFixed64","writePackedSFixed64","writeSFixed64","readUInt32","writeInt32","readInt32","readFields","readField","skip","readMessage","readFixed32","readSFixed32","readFixed64","readSFixed64","readFloat","readDouble","readVarintRemainder","readVarint64","readSVarint","readBoolean","readString","decode","readUtf8TextDecoder","b3","bytesPerSequence","fromCharCode","readUtf8","readBytes","readPackedVarint","readPackedSVarint","readPackedBoolean","readPackedFloat","readPackedDouble","readPackedFixed32","readPackedSFixed32","readPackedFixed64","readPackedSFixed64","writeTag","writeBigVarintLow","lsb","writeBigVarintHigh","writeBigVarint","writeString","lead","writeUtf8","writeBytes","writeRawMessage","writeMessage","writeBytesField","writeFixed32Field","writeSFixed32Field","writeFixed64Field","writeSFixed64Field","writeVarintField","writeSVarintField","writeStringField","writeFloatField","writeDoubleField","writeBooleanField","pointGeometry","Point","_add","_sub","multByPoint","_multByPoint","divByPoint","_divByPoint","mult","_mult","div","_div","_rotate","_rotateAround","matMult","_matMult","_unit","perp","_perp","_round","mag","distSqr","angleWith","angleWithSep","vectortilefeature","VectorTileFeature","extent","_pbf","_geometry","_values","readFeature","readTag","signedArea","sum","types","loadGeometry","cmd","cmdLen","toGeoJSON","rings","ccw","classifyRings","vectortilelayer","VectorTileLayer","_features","readLayer","readValueMessage","readTile","VectorTile$1","Extent","signedArea$1","classifyRings$1","TRANSFORMS","PARSERS","registerParser","parserFunction","getTransform","registerTransform","transFunction","transition","correction","statistics","mean","R_EARTH","thirdPi","angles","pointX","pointY","unProjectFlat","px","R_EARTH$1","imageCount","imageindex","loadData","csvdata","resultdata","tile","layerName","sourceLayer","vectorLayer","geofeature","geodata","covertP20","geocoords","geo","option","ref","gridOffset","cellSize","latitude","lat","yOffset","_calculateGridLatLonOffset","gridHash","index$1","point$1","lng","latIdx","lonIdx","_pointsGridHash","layerData","accu","columnName","idxs","_getGridLayerDataFromGridHash","pixlSize","screenPoints","lnglat","aProjectFlat","hexbinBins","hexbin","binsById","bins","py","pj","pi","py1","px1","pi2","pj2","px2","py2","bin","hexagon","centers","fragment","newHexbin","getColumn$1","supercluster","sortKD","nodeSize","select","inc","sd","newLeft","newRight","swapItem","swap","sqDist","defaultGetX","defaultGetY","KDBush","ArrayType","IndexArrayType","stack","nextAxis","within","defaultOptions","props","Supercluster","trees","createCluster","numPoints","parentId","createPointCluster","lngX","latY","getClusterJSON","cluster","getClusterProperties","xLng","yLat","abbrev","cluster_id","point_count","point_count_abbreviated","dest","timerId","clusters","timeEnd","_cluster","getClusters","minLng","minLat","maxLng","maxLat","easternHem","westernHem","tree","_limitZoom","getChildren","clusterId","originId","originZoom","errorMsg","getLeaves","leaves","_appendLeaves","getTile","_addTileFeatures","getClusterExpansionZoom","clusterZoom","skipped","tags","neighborIds","clusterProperties","_map","neighborId","numPoints2","factory","formatData","clusterPoint","calcExtent","tranfrormCoord","PROJECTION_WORLD_SIZE","MapBox","this$1","initMap","addOverLayer","resizeEnable","viewMode","mapboxgl","accessToken","asyncCamera","_camera","world","pickScene","_picking","WORLD_SIZE","cameraToCenterDistance","groundAngle","_pitch","topHalfSurfaceDistance","farZ","makePerspectiveMatrix","cameraWorldMatrix","cameraTranslateZ","cameraRotateX","cameraRotateZ","cameraTranslateXY","zoomPow","translateCenter","translateMap","rotateMap","fovy","out","nf","newMatrix","projectFlat","lngLatToGeodeticCoord","getCenterFlat","canvasContainer","getElementById","renderDom","cssText","mixMap","getZoom","getPitch","containerToLngLat","DarkTheme","LightTheme","BlankTheme","canvasCount","MapType","amap","GaodeMap","forceWebGL","mapStyle","AMap","getContainer","setMapStyle","_engine","mapCamera","getCameraState","amapContainer","getElementsByClassName","l7_marker_Container","className","setLayers","setCenter","LngLat","getRotation","getStatus","setZoom","getBounds","setZoomAndCenter","setFeature","setBounds","Bounds","setRotation","setStatus","zoomIn","zoomOut","panTo","panBy","setPitch","pixelToLngLat","pixel","ll","Pixel","lngLatToPixel","lnglatToPixel","fitBounds","lngLatToContainer","mapbox","getMap","Source","_transforms","_init","parser","_excuteParser","_executeCluster","_executeTrans","_projectCoords","setData","updateTransfrom","originData","getParser","trans","tran","clusterCfg","clusterData","pointIndex","clusterPoint$1","accumulated","updateCusterData","_coorConvert","_getCoord","_coordProject","getSelectFeature","isCluster","getSeletFeatureIndex","BufferBase","verticesCount","indexCount","indexArray","_calculateFeatures","_initAttributes","_buildFeatures","pickingIds","sizes","addFeature","resize","checkIsClosed","arrayType","arrays","list$1","arr$1","_encodeArray","verticesOffset","bufferInfo","imagePos","start1","size2","patternPos","patterns","_calculateWall","indexOffset","faceNum","prePoint","nextPoint","_calculateExtrudeFace","positionOffset","earcut_1","earcut","holeIndices","dim","invSize","hasHoles","outerLen","outerNode","linkedList","steiner","getLeftmost","compareX","eliminateHole","filterPoints","eliminateHoles","earcutLinked","clockwise","signedArea$2","insertNode","removeNode","again","ear","pass","zOrder","prevZ","nextZ","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","locallyInside","isValidDiagonal","splitPolygon","hole","hx","hy","mx","my","tanMin","sectorContainsSector","findHoleBridge","leftmost","intersectsPolygon","inside","middleInside","q2","o3","o4","onSegment","Node","an","bp","deviation","trianglesArea","holes","dimensions","holeIndex","FillBuffer","_calculateFill","pointCount","flattengeo","LineBuffer","offsetVertices","offsetIndex","_calculateBufferLength","_calculateLine","ExtrudeButffer","_calculateTop","fillPolygon","extrude_Polygon","v3","computeNormal","circle","polygonPath","square","polygonPath$1","cylinder","triangleColumn","hexagonColumn","squareColumn","PointFillBuffer","_offset","_indexOffset","miters","_calcultateGeometry","hexgonFill","getShapeFunction","_getPoints","instanceGeometry","shapeIndex","newCoord","getShape","geometryMap","add_1","set_1","normalize_1","subtract_1","dot_1","computeMiter","tangent","miter","lineA","lineB","halfThick","epsilon","create_1","clone_1$1","fromValues_1","copy_1","equals_1","a0","exactEquals_1","multiply_1","mul","divide_1","inverse_1","min_1","max_1","rotate_1","floor_1","ceil_1","round_1","scale_1","scaleAndAdd_1","distance_1","squaredDistance_1","length_1","squaredLength_1","sqrLen","negate_1","cross_1","lerp_1","random_1","transformMat2_1","transformMat2d_1","transformMat3_1","transformMat4_1","forEach_1","vec","glVec2","fromValues","exactEquals","subtract","scaleAndAdd","squaredDistance","squaredLength","transformMat2","transformMat2d","transformMat3","transformMat4","mSq","glVec2_2","glVec2_5","glVec2_35","extrusions","addNext","lineSegmentDistance","isPointEqual","getNormals","closed","_started","_normal","attrPos","attrIndex","attrDistance","cur","nextIndex","miterLen","flip","bevel","MeshLineBuffer","hasPattern","dashArray","totalDistances","arrayIndex","ratio","dashArrays","ArcLineBuffer","_calculateArc","instanceArray","segNum","Hexagon3D","ExtrudeBuffer","numPoint","Buffer_MAP","getBuffer","shapeType","registerBuffer","transferables","serialized","bindAll","fns","Actor","mapId","callbacks","callbackID","receive","targetMapId","sourceMapId","getWorkerSource","Attr","PBF","VectorTile","actor","TileMapping","_initControllers","_initTileAttrs","_mapping","_updateMaping","scalesOption","scaleController","_createScale","_getAttrValues","attr","indexZoom","mappedData","newRecord","attrName","neadUpdate","attrOptions","_updateTileAttr","fields","_parseFields","WorkerTile","tileID","sourceID","loadVectorTile","request","vectorTile","rawData","abort","layerstyle","actor$1","sourceStyle","_layerStyleGroupBySourceID","sourceLayerData","sourcelayer","sourceOption","tileSource","projected","style$1","tileMapping","_getPointShape","layerId","tileId","featureKey","layerStyles","sourceStyles","VectorTileWorkerSource","layerStyle","loadVectorData","loaded","loading","loadTile","workerTile","rawTileData","abortTile","reloadTile","vtSource","reloadCallback","layerIndex","removeTile","unloadTile","hasTransition","Worker","workerSourceTypes","workerSources","registerWorkerSource","WorkerSource","layercfgs","sourceId","insertAt","getElementsByTagName","firstChild","insertBefore","styleSheet","createTextNode","styleInject","updateSize","clientWidth","clientHeight","Renderer","initRender","destoryObject","updateObjecteUniform","newOption","updateUninform","devicePixelRatio","nextId","Picking","_world","_pickingScene","pixelBuffer","_pickingTexture","_nextId","_initEvents","_resizeHandler","_resizeTexture","pickdata","touches","touch","clientX","clientY","normalisedPoint","_pickAllObject","_needUpdate","_update","_filterObject","_layerIsVisable","isVisable","_layerisListened","isListened","_pick","point2d","getNextId","_pixelBuffer","Engine","_scene","_render","Picking$1","clock","composerLayers","_initPostProcessing","redraw","distory","renderScene","engineID","LAYER_MAP","registerLayer","getLayer","Mapping","_initAttrs","reMapping","layerSource","attr$1","values$1","getLegendCfg","rampColors","colorAttrs","lengendCfg","PickContoller","pickObject3D","addToPicking","getPickingId","removePickingObject","removePickingMesh","removePickMeshByName","removeAllMesh","addPickMesh","pickmaterial","PICK","pickingMesh","u_zoom","EVENT_TYPES","Interaction","_getDefaultCfg","_eventHandlers","_bindEvents","startEvent","processEvent","endEvent","resetEvent","ev","preStart","afterStart","_process","preProcess","afterProcess","_end","preEnd","afterEnd","_reset","preReset","afterReset","eventName","_unbindEvents","eventHandlers","eh","destory","Active","_addActiveFeature","_resetStyle","Select","lastCall","Hash","_onHashChange","_updateHash","_updateHashUnthrottled","_getHashString","LN10","history","replaceState","INTERACTION_MAP","getInteraction","registerInteraction","InteractionController","clearAllInteractions","interactions","interaction","clearInteraction","addInteraction","_setInteraction","EventContoller","startPoint","_selectedId","endPoint","_activeIds","_initMapEvent","BufferController","_updateColorAttributes","filterData","colorKey","colorAttr","a_color","pickAttr","pickingId","newId","_updateStyle","_object3D","Controller","keysA","keysB","parseFields","Layer","_pickObject3D","_mapEventHandlers","_getUniqueId","layerMesh","layerLineMesh","zIndex","scaleOptions","preScaleOptions","styleOptions","stroke","strokeWidth","strokeOpacity","selectedOptions","activedOptions","animateOptions","_visibleWithZoom","u_time","preRender","afterRender","_visible","getTileSource","addLayer","tiles","repaint","_createAttrOption","_zoomScale","scaleDefs","active","colorItem","hide","show","_setAttrOptions","attrCfg","defaultValues","pickCtr","interactionCtr","eventCtr","mappingCtr","_initInteraction","_updateDraw","clearDraw","clearMapEvent","zoomchange","dragend","camerachange","setActive","u_activeColor","u_activeId","_setPreOption","nextAttrs","nextStyle","preAttrs","preStyle","newStyle","draw","_updateSize","sizeOption","zoomSizeCache","setBending","_scaleByZoom","getSourceCache","_updateFilter","composerindex","updateGeometryHander","_pickingMesh","_buffer","getSource","setHeight","Render_MAP","getRender","layerType","registerRender","setUniformsValue","setDefinesvalue","setUniform","blendingEnum","additive","subtractive","SHADER_TYPE","VS","FS","moduleCache","rawContentCache","precisionRegExp","globalDefaultprecision","globalDefaultAttribute","globalFSDefaultAttribute","globalDefaultInclude","includeRegExp","uniformRegExp","processModule","rawContent","includeList","content","strMatch","includeName","txt","extractUniforms","uniformName","arrayLength","getUniformLengthByType","registerModule","moduleName","vs","fs","declaredUniforms","ref$1","extractedVS","vsUniforms","ref$2","extractedFS","fsUniforms","getModule","rawVS","rawFS","vsIncludeList","fsIncludeList","wrapUniforms","DEFAULT_LIGHT","DEFAULT_DIRECTIONAL_LIGHT","DEFAULT_SPOT_LIGHT","quadratic","blur","COLOR_ATTRIBUTES","generateLightingUniforms","lightsMap","u_directional_lights","u_num_of_directional_lights","u_spot_lights","u_num_of_spot_lights","exclude","objectWithoutProperties","lightsUniformName","lightsNumUniformName","PolygonMaterial","_uniforms","_defines","DrawPolygonFill","activeOption","config","u_opacity","SHAPE","LIGHTING","fillPolygonMesh","LineMaterial","activeId","ArcLineMaterial","segmentNumber","MeshLineMaterial","DrawAnimate","startAnimate","baseColor","brightColor","windowColor","u_baseColor","u_brightColor","u_windowColor","u_near","u_far","ANIMATE","Draw3DShape","TextMaterial","SDF_PX","EDGE_GAMMA","shapeText","glyphs","lineHeight","textAnchor","textJustify","spacing","positionedGlyphs","shaping","lineCount","glyphMap","maxLineLength","justify","lineStartIndex","char","glyph","vertical","metrics","advance","lineLength","lastPositionedGlyph","lastAdvance","lineIndent","justifyLine","anchor","horizontalAlign","verticalAlign","getAnchorAlignment","shiftX","shiftY","align","shapeLines","TextBuffer","sourceData","fontAtlasManager","collisionIndex","mvpMatrix","fontWeight","characterSet","setProps","textOffset","padding","textAllowOverlap","fontAtlas","textUVs","textOffsets","textSizes","indexCounter","fontScale","placeCollisionBox","anchorPointX","anchorPointY","insertCollisionBox","glyphQuads","alongLine","quads","positionedGlyph","halfAdvance","glyphOffset","builtInOffset","tr","bl","br","tex","getGlyphQuads","quad","addAttributeForFeature","drawGlyph","GridIndex","boxCells","xCellCount","yCellCount","boxKeys","bboxes","xScale","yScale","boxUid","insert","_forEachCell","_insertBoxCell","cellIndex","_query","hitTest","queryArgs","seenUids","_queryCell","query","boxCell","arg1","arg2","cx1","_convertToXCellCoord","cy1","_convertToYCellCoord","cx2","cy2","CollisionIndex","screenRightBoundary","screenBottomBoundary","gridRightBoundary","gridBottomBoundary","collisionBox","projectedPoint","tlX","tlY","brX","brY","isInsideGrid","defaultTextStyle","DrawText","_updateGeometry","u_sdf_map","u_stroke","u_strokeWidth","u_halo_blur","u_sdf_map_size","u_viewport_size","ref$1_camera","DrawArcLine","lineMaterial","trailLength","animateDuration","u_duration","u_interval","u_trailLength","arcMesh","positionsIndex","lengthPerDashSegment","textureCoord","textureCoordArray","norm","PointMaterial","getDefaultParameters","u_texture","TEXCOORD_0","PointMaterial$1","PointLineMaterial","u_strokeOpacity","CircleMaterial","hexagonMaterial","u_radius","u_angle","u_coverage","GridMaterial","u_xOffset","u_yOffset","DrawGrid","coverage","colorScales","viridis","inferno","rainbow","jet","hsv","hot","cool","summer","autumn","winter","bone","copper","greys","yignbu","greens","yiorrd","bluered","rdbu","picnic","portland","blackbody","earth","electric","magma","plasma","HeatmapBuffer","dirs","weights","weight","_addDir","dir1","dir2","dir3","_addVertex","dirX","dirY","createColorRamp","colorImageData","colorscale","createLinearGradient","addColorStop","fillStyle","fillRect","getImageData","createImageData","getColorRamp","HeatmapColorizeMaterial","u_intensity","u_rampColors","HeatmapIntensityMaterial","RenderPass","oldClearColor","oldClearAlpha","needsSwap","writeBuffer","readBuffer","ShaderPass","textureID","renderToScreen","CopyShader","MaskPass","writeValue","clearValue","REPLACE","KEEP","ClearMaskPass","EffectComposer","renderTarget1","renderTarget2","passes","copyPass","EffectComposer$1","composer","heatmapPass","layerdata","ImageMaterial","DrawImage$1","swapBuffers","addPass","insertPass","maskActive","u_dash_offset","dashOffset","u_dash_ratio","dashRatio","u_pattern_spacing","patternSpacing","DASHLINE","lineType","TEXTURE","lineMesh","opt","ImageBuffer","NormalBuffer","strokeMesh","vertIndex","vertCount","newPositions","extrudeline","ref$3","ref$4","ref$5","polygonLineBuffer","StrokeBuffer","heatmap","_container","instancedGeometry","PolygonLayer","updateFilter","pointShape$1","PointLayer","_getShape","imagesIds","_updateData","toBounds","SW","getSouthWest","NE","getNorthEast","preBox","preZoom","newbbox","LineLayer","stopAnimate","ImageBuffer$1","_getTexture","u_rasters","imageLayer","initGeometry","imageMesh","ImageMaterial$1","u_colorTexture","u_min","u_max","u_extent","u_dimension","RasterBuffer","colorTexture","u_raster","_buildTriangles","dimension","texture1","stepX","stepY","RasterLayer","rasterConfig","rasterMesh","animateFunc","animateData","rasters","animateId","cancelAnimate","HeatMapLayer","renderType","LRUCache","_cache","_deleteOrder","_appendOrder","_deleteCache","TileDataCache","tileDestroy","setTile","tileURLRegex","TileSource","urlTemplate","_tileDataCache","getTileData","tileData","tiledataPromise","_requestTileData","_generateSource","urlParams","_getTileURL","xhrRequest","_noData","getRequestUrl","TileCache","setNeedUpdate","needUpdate","extendStatics","__assign","__values","__read","ar","tslib_es6","__extends","__","__rest","__decorate","desc","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","__awaiter","_arguments","fulfilled","rejected","__generator","label","trys","ops","verb","op","__exportStar","__spread","__spreadArrays","__asyncGenerator","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","__importDefault","setMatrixArrayType","ARRAY_TYPE","RANDOM","mat3","glMatrix","fromMat4","m00","m01","m02","m10","m20","a02","a00","a10","a20","b01","adjoint","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","yx","zx","zy","normalFromMat4","a03","a30","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","projection","frob","multiplyScalarAndAdd","a3","a4","a5","a6","a7","a8","b4","b5","b6","b7","b8","newObj","_interopRequireWildcard","b20","mat3_1$1","transMat","rotateMat","scaleMat","actions","vec3","hermite","factorTimes2","factor1","factor2","factor3","factor4","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","cosine","Coord","isTransposed","_swapDim","dimRange","getWidth","getHeight","convertDim","invertDim","invertPoint","invertMatrix","inversedMatrix","util","trunc","formatNum","digits","wrapNum","includeMax","util_3","toPoint","_subtract","divideBy","_divideBy","multiplyBy","_multiplyBy","scaleBy","unscaleBy","_floor","_ceil","_trunc","newPoint","topLeft","bottomRight","getBottomLeft","getTopRight","getBottomRight","getTopLeft","newBounds","min2","max2","xIntersects","yIntersects","overlaps","xOverlaps","yOverlaps","lngLatBounds","LngLatBounds","corner1","corner2","latlngs","sw2","ne2","sw","southWest","ne","northEast","lngLat","toLngLatBounds","toLngLat","bufferRatio","heightBuffer","widthBuffer","getNorthWest","getWest","getNorth","getSouthEast","getEast","getSouth","latIntersects","lngIntersects","latOverlaps","lngOverlaps","toBBoxString","maxMargin","alt","newLnglat","wrapLngLat","sizeInMeters","latAccuracy","lngAccuracy","lngLat_2","sphericalMercator","R","MAX_LATITUDE","transformation","Transformation","_transform","newScale","untransform","crs","CRS","wrapLng","wrapLat","lngLatToPoint","pointToLngLat","untransformedPoint","getProjectedBounds","infinite","wrapLngLatBounds","newCenter","latShift","lngShift","newSw","newNe","latlng1","latlng2","lat1","lat2","sinDLat","sinDLon","crsEpsg3857","epsg3857","epsg900913","crsEpsg3857_1","lnglatProjection","lngLatProjection","crsEpsg4326","epsg4326","crsSimple","crs$1","CRS_MAP","getCRS","Geo","mapCenter","isGeo","lngLat$1","getPixelOrigin","resPoint","layerPointToLatLng","latLngToLayerPoint","newZoom","lnglat1","lnglat2","GeoCoordinates","pointShape$2","TileLayer","minSourceZoom","maxSOurceZoom","keepBuffer","_tileCache","_destroyTile","_crs","_tiles","_tileKeys","tileList","workerPool","sourceCfg","_calculateLOD","drawTile","maxSourceZoom","currentZoom","tileZoom","_removeTiles","updateTileList","centerXY","pixelBounds","_getPixelBounds","tileRange","_pxBoundsToTileRange","margin","noPruneRange","current","tile1","tile2","_pruneTiles","_requestTile","_updateTileList","getMesh","updateColor","_addPickTile","_createTile","meshobj","tileXY","key$1","retain","key$2","_retainParent","_retainChildren","_removeOutTiles","tileObj","_abortRequest","leftWidth","rightWidth","viewPort","NEPoint","SWPoint","centerPoint","topHeight","bottomHeight","_wrapCoords","wrapX","r2d","tileURLRegex$1","Tile","_tile","_path","_tileLnglatBounds","_tileBounds","_center","_centerLnglat","_isLoaded","requestTileAsync","_createMesh","bufferCtr","lnglatBound","_tile2lng","_tile2lat","coords2","_preRender","ImageTile","_mesh","_createDebugMesh","_getBufferData","NW","SE","_layerData","font","fillText","strokeStyle","_image","ImageTileLayer","MaskMaterial","_renderMask","maskScene","tileMesh","_tileMaskMesh","tilebound","maskMaterial","featurekey","TextLayer","LoadImage","imageWidth","imagesCount","addImage","channels","removeImage","tinySdf","TinySDF","INF","cutoff","gridOuter","gridInner","middle","edt","edt1d","clearRect","alphaChannel","glyphSizeInSDF","DEFAULT_CHAR_SET","charSet","getDefaultCharacterSet","VALID_PROPS","setTextStyle","populateAlphaChannel","imageData","FontAtlasManager","sdf","_key","_texture","prototypeAccessors","_fontAtlas","oldKey","_getKey","_getNewChars","cachedFontAtlas","_updateTexture","_generateFontAtlas","getFontWidth","fontHeight","maxCanvasWidth","rowHeight","canvasHeight","log2","buildMapping","measureText","tinySDF","imageData$1","char$1","newChars","cachedMapping","cachedCharSet","Set","point_frag","point_vert","polygon_frag","polygon_vert","grid_frag","grid_vert","hexagon_frag","hexagon_vert","circle_frag","circle_vert","point_line_frag","point_line_vert","normal_point_frag","normal_point_vert","mesh_line_frag","mesh_line_vert","arc_line_frag","arc_line_vert","great_circle_line_vert","line_frag","line_vert","heatmap_color_vert","heatmap_color_frag","heatmap_intensity_frag","heatmap_intensity_vert","text_frag","text_vert","image_vert","image_frag","raster_vert","raster_frag","tile_polygon_vert","tile_polygon_frag","mask_quard_vert","mask_quard_frag","common$1","pick_color","lighting","sdf_2d","WebWorker","exported","WorkerPool","acquire","workers","workerCount","release","terminate","hardwareConcurrency","tileURLRegex$2","VectorTileSource","workerController","tileinfo","workerID","r2d$1","VectorTileMesh","_bufferData","getFeatureIndex","SouceCache","cacheLimit","_tileMap","_source","WorkerController","layersTiles","getLayerById","_calculateTileIDs","_renderTile","_addPickMesh","_getParentTile","_getVectorFeature","rawTile","_noPruneRange","_loadTile","_unloadTile","_abortTile","reload","_reloadTile","_removeTile","clearTiles","meshObj","returned","id$1","actors","currentActor","broadcast","results","asyncAll","targetID","omitOption","Style","_sourceCaches","addMapEvent","addSource","_addTileStyle","layerCfg","layerid","newLayerCfg","removeTileStyle","mapEventHander","docStyle","documentElement","addClass","classList","classes","getClass","hasClass","setClass","removeClass","baseVal","correspondingElement","transformProp","testProp","setTransform","Control","_initControlPos","addControl","control","addTo","removeControl","corners","_controlCorners","_controlContainer","createCorner","vSide","hSide","clearControlPos","Control$1","isShow","onAdd","corner","_refocusOnMap","screenX","screenY","Zoom","zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","_disabled","zoomName","_zoomInButton","_createButton","_zoomIn","_zoomOutButton","_zoomOut","_updateDisabled","onRemove","link","innerHTML","href","Scale","maxWidth","metric","updateWhenIdle","imperial","_addScales","_mScale","_iScale","maxMeters","_updateScales","_updateMetric","_updateImperial","_getRoundNum","_updateScale","maxMiles","maxFeet","pow10","Attribution","_attributions","addAttribution","setPrefix","removeAttribution","attribs","prefixAndAttribs","collapsed","autoZIndex","hideSingleBase","sortLayers","_layerControlInputs","_layers","_lastZIndex","_handlingClick","baseLayers","overlays","_addLayer","_initLayout","_checkDisabledLayers","_onLayerChange","addVisualLayer","form","_form","collapse","expand","_layersLink","title","_baseLayersList","_separator","_overlaysList","baseLayersPresent","overlaysPresent","baseLayersCount","_addItem","overlay","acceptableHeight","offsetTop","inputs","disabled","setZIndex","_expandIfNotCollapsed","fire","_createRadioElement","checked","radioHtml","radioFragment","defaultChecked","_onInputClick","holder","addedLayers","removedLayers","Control$2","EventNames","_initMap","animateCount","_initEngine","mapContainer","registerMapEvent","_initContoller","controlCtr","_getSceneContainer","_markerContainier","initLayer","_registEvents","HTMLElement","addTileSource","Sourcecfg","hander","_initEvent","getMarkerContainer","map2Png","vis","_eventHander","nodeName","_throttleHander","_unRegistEvents","removeLayer","unRegsterMapEvent","_updateRender","ctr","anchorTranslate","applyAnchorClass","Popup","closeButton","closeOnClick","_onClickClose","setLnglat","_content","creatDom","_tip","stopPropagation","_updatePosition","setHTML","frag","createDocumentFragment","setDOMContent","setText","setMaxWidth","htmlNode","_createContent","_closeButton","removeDom","isOpen","Marker","draggable","_defaultMarker","setAttributeNS","_onMapClick","_popup","setDraggable","_addDragHandler","_onUp","_lngLat","getLnglat","getElement","setPopup","popup","togglePopup","getPopup","getOffset","isDraggable","_draggable","_bubbleUp","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","integer","originalArray","objectKeys","defaultConstructor","flush","macrotask","MutationObserver","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","observe","characterData","promiseCapability","Events","EE","emitter","_eventsCount","clearEvent","eventNames","handlers","ee","listenerCount","prefixed","createProperty","arrayLike","argumentsLength","mapfn","propertyKey","CONVERT_TO_STRING","first","codeAt","regexpExec","REPLACE_SUPPORTS_NAMED_GROUPS","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","flags","nativeRegExpMethod","nativeMethod","forceStringMethod","stringMethod","regexMethod","nativeObjectCreate","getOwnPropertyNamesExternal","defineWellKnownSymbol","HIDDEN","TO_PRIMITIVE","$stringify","nativeGetOwnPropertyNames","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","description","symbol","isSymbol","$defineProperty","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$getOwnPropertyDescriptor","$getOwnPropertyNames","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","replacer","space","$replacer","windowNames","getWindowNames","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","$includes","DatePrototype","nativeDateToString","parseFloatImplementation","whitespaces","nativeParseFloat","trimmedString","whitespace","ltrim","rtrim","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","collection","collectionStrong","InternalMetadataModule","inheritIfRequired","IS_WEAK","NativeConstructor","NativePrototype","ADDER","fixMethod","getConstructor","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","setStrong","preventExtensions","Wrapper","NewTarget","NewTargetPrototype","internalStateGetterFor","getEntry","removed","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","ArrayIteratorMethods","ArrayValues","_handlebarsSafeString2","_handlebarsException2","_handlebarsNoConflict2","hb","SafeString","VM","template","spec","inst","_exception","priorKey","ret","execIteration","newContext","conditional","includeZero","dangerousPropertyRegex","_decoratorsInline2","_decoratorsInline","methodMap","lookupLevel","levelMap","_len","checkRevision","compilerInfo","compilerRevision","currentRevision","_base","runtimeVersions","compilerVersions","templateSpec","env","main_d","compiler","templateWasPrecompiledWithCompilerV7","strict","lookup","depths","lambda","invokePartial","resolvePartial","optionsWithHooks","compilerOptions","indent","declaredBlockParams","programWrapper","wrapProgram","nullContext","seal","useData","root","initData","useBlockParams","useDepths","executeDecorators","isTop","usePartial","useDecorators","keepHelperInHelpers","allowCallsToHelperMissing","_child","currentPartialBlock","partialBlock","prog","currentDepths","Handlebars","$Handlebars"],"mappings":"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AK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,MAC/qJkmL,QAAS,IAAIlmL,WAAW,CAAE,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAC3jJmmL,QAAS,CACPntI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClG8pB,UAAW,CAAE,EAAG,KAAO,IAAM,KAAO,GAAK,KAAO,IAAM,KAAO,IAE/DsjH,IAAK,CACHptI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,WACjE8pB,UAAW,CAAE,EAAG,KAAO,KAAO,KAAO,KAAO,IAE9CujH,IAAK,CACHrtI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACxH8pB,UAAW,CAAE,EAAG,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAEjFwjH,IAAK,CACHttI,OAAQ,CAAE,UAAW,UAAW,UAAW,WAC3C8pB,UAAW,CAAE,EAAG,GAAK,GAAK,IAE5ByjH,KAAM,CACJvtI,OAAQ,CAAE,UAAW,WACrB8pB,UAAW,CAAE,EAAG,IAElB74D,OAAQ,CACN+uC,OAAQ,CAAE,UAAW,WACrB8pB,UAAW,CAAE,EAAG,IAElB0jH,OAAQ,CACNxtI,OAAQ,CAAE,UAAW,WACrB8pB,UAAW,CAAE,EAAG,IAElB2jH,OAAQ,CACNztI,OAAQ,CAAE,UAAW,WACrB8pB,UAAW,CAAE,EAAG,IAElB4jH,OAAQ,CACN1tI,OAAQ,CAAE,UAAW,WACrB8pB,UAAW,CAAE,EAAG,IAElB6jH,KAAM,CACJ3tI,OAAQ,CAAE,UAAW,UAAW,UAAW,WAC3C8pB,UAAW,CAAE,EAAG,KAAO,KAAO,IAEhC8jH,OAAQ,CACN5tI,OAAQ,CAAE,UAAW,UAAW,WAChC8pB,UAAW,CAAE,EAAG,KAAO,IAEzB+jH,MAAO,CACL7tI,OAAQ,CAAE,UAAW,WACrB8pB,UAAW,CAAE,EAAG,IAElBgkH,OAAQ,CACN9tI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClG8pB,UAAW,CAAE,EAAG,KAAO,IAAM,KAAO,GAAK,KAAO,IAAM,KAAO,IAE/DikH,OAAQ,CACN/tI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClG8pB,UAAW,CAAE,EAAG,KAAO,IAAM,KAAO,GAAK,KAAO,IAAM,KAAO,IAE/Dm0E,KAAM,CACJj+F,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvF8pB,UAAW,CAAE,EAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAEhDkkH,OAAQ,CACNhuI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClG8pB,UAAW,CAAE,EAAG,KAAO,IAAM,KAAO,GAAK,KAAO,IAAM,KAAO,IAE/DmkH,QAAS,CACPjuI,OAAQ,CAAE,UAAW,WACrB8pB,UAAW,CAAE,EAAG,IAElBokH,KAAM,CACJluI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,WACjE8pB,UAAW,CAAE,EAAG,IAAM,GAAK,GAAK,GAAK,IAEvCqkH,OAAQ,CACNnuI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACxH8pB,UAAW,CAAE,EAAG,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAE/DskH,SAAU,CACRpuI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,WACtD8pB,UAAW,CAAE,EAAG,IAAM,GAAK,IAAM,IAEnCukH,UAAW,CACTruI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,WACtD8pB,UAAW,CAAE,EAAG,GAAK,GAAK,GAAK,IAEjCwkH,MAAO,CACLtuI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,WACjE8pB,UAAW,CAAE,EAAG,GAAK,GAAK,GAAK,GAAK,IAEtCykH,SAAU,CACRvuI,OAAQ,CAAE,UAAW,UAAW,UAAW,UAAW,UAAW,WACjE8pB,UAAW,CAAE,EAAG,IAAM,GAAK,GAAK,GAAK,IAEvC0kH,MAAO,IAAIxnL,WAAW,CAAE,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MACnqJynL,OAAQ,IAAIznL,WAAW,CAAE,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,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","file":"js/1.57df3a48.chunk.js","sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('map') }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar nativeFunctionToString = require('../internals/function-to-string');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(nativeFunctionToString).split('toString');\n\nshared('inspectSource', function (it) {\n  return nativeFunctionToString.call(it);\n});\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this);\n});\n","'use strict';\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\n\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0EsSUFBTSxNQUFNLEdBQUc7QUFDYixLQUFHLEVBQUUsT0FBTztBQUNaLEtBQUcsRUFBRSxNQUFNO0FBQ1gsS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtDQUNkLENBQUM7O0FBRUYsSUFBTSxRQUFRLEdBQUcsWUFBWTtJQUN2QixRQUFRLEdBQUcsV0FBVyxDQUFDOztBQUU3QixTQUFTLFVBQVUsQ0FBQyxHQUFHLEVBQUU7QUFDdkIsU0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDcEI7O0FBRU0sU0FBUyxNQUFNLENBQUMsR0FBRyxvQkFBbUI7QUFDM0MsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDekMsU0FBSyxJQUFJLEdBQUcsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDNUIsVUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQzNELFdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDOUI7S0FDRjtHQUNGOztBQUVELFNBQU8sR0FBRyxDQUFDO0NBQ1o7O0FBRU0sSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7Ozs7OztBQUtoRCxJQUFJLFVBQVUsR0FBRyxvQkFBUyxLQUFLLEVBQUU7QUFDL0IsU0FBTyxPQUFPLEtBQUssS0FBSyxVQUFVLENBQUM7Q0FDcEMsQ0FBQzs7O0FBR0YsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDbkIsVUFJTSxVQUFVLEdBSmhCLFVBQVUsR0FBRyxVQUFTLEtBQUssRUFBRTtBQUMzQixXQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG1CQUFtQixDQUFDO0dBQ3BGLENBQUM7Q0FDSDtRQUNPLFVBQVUsR0FBVixVQUFVOzs7OztBQUlYLElBQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLElBQUksVUFBUyxLQUFLLEVBQUU7QUFDdEQsU0FBTyxBQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEdBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7Q0FDakcsQ0FBQzs7Ozs7QUFHSyxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ3BDLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDaEQsUUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxFQUFFO0FBQ3RCLGFBQU8sQ0FBQyxDQUFDO0tBQ1Y7R0FDRjtBQUNELFNBQU8sQ0FBQyxDQUFDLENBQUM7Q0FDWDs7QUFHTSxTQUFTLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtBQUN2QyxNQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTs7QUFFOUIsUUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUMzQixhQUFPLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUN4QixNQUFNLElBQUksTUFBTSxJQUFJLElBQUksRUFBRTtBQUN6QixhQUFPLEVBQUUsQ0FBQztLQUNYLE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNsQixhQUFPLE1BQU0sR0FBRyxFQUFFLENBQUM7S0FDcEI7Ozs7O0FBS0QsVUFBTSxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUM7R0FDdEI7O0FBRUQsTUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFBRSxXQUFPLE1BQU0sQ0FBQztHQUFFO0FBQzlDLFNBQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7Q0FDN0M7O0FBRU0sU0FBUyxPQUFPLENBQUMsS0FBSyxFQUFFO0FBQzdCLE1BQUksQ0FBQyxLQUFLLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtBQUN6QixXQUFPLElBQUksQ0FBQztHQUNiLE1BQU0sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7QUFDL0MsV0FBTyxJQUFJLENBQUM7R0FDYixNQUFNO0FBQ0wsV0FBTyxLQUFLLENBQUM7R0FDZDtDQUNGOztBQUVNLFNBQVMsV0FBVyxDQUFDLE1BQU0sRUFBRTtBQUNsQyxNQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE9BQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0FBQ3ZCLFNBQU8sS0FBSyxDQUFDO0NBQ2Q7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUN2QyxRQUFNLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUNsQixTQUFPLE1BQU0sQ0FBQztDQUNmOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRTtBQUNqRCxTQUFPLENBQUMsV0FBVyxHQUFHLFdBQVcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFBLEdBQUksRUFBRSxDQUFDO0NBQ3BEIiwiZmlsZSI6InV0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gICAgICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iai8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbmV4cG9ydCB7aXNGdW5jdGlvbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmMtc3R5bGUgKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcbn07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkgeyByZXR1cm4gc3RyaW5nOyB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIl19\n","/*!\n *  howler.js v2.2.0\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Handle stopping all sounds globally.\n     */\n    stop: function() {\n      var self = this || Howler;\n\n      // Loop through all Howls and stop them.\n      for (var i=0; i<self._howls.length; i++) {\n        self._howls[i].stop();\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!audioTest.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        m4b: !!(audioTest.canPlayType('audio/x-m4b;') || audioTest.canPlayType('audio/m4b;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this if Web Audio is supported and it hasn't already been unlocked.\n      if (self._audioUnlocked || !self.ctx) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        while (self._html5AudioPool.length < self.html5PoolSize) {\n          try {\n            var audioNode = new Audio();\n\n            // Mark this Audio object as unlocked to ensure it can get returned\n            // to the unlocked pool when released.\n            audioNode._unlocked = true;\n\n            // Add the audio node to the pool.\n            self._releaseHtml5Audio(audioNode);\n          } catch (e) {\n            self.noAudio = true;\n            break;\n          }\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n\n        // Handle updating the state of the audio context after suspending.\n        var handleSuspension = function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        };\n\n        // Either the state gets suspended or it is interrupted.\n        // Either way, we need to update the state to suspended.\n        self.ctx.suspend().then(handleSuspension, handleSuspension);\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self.ctx.state !== 'interrupted' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended' || self.state === 'running' && self.ctx.state === 'interrupted') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean' || o.preload === 'metadata') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhr = {\n        method: o.xhr && o.xhr.method ? o.xhr.method : 'GET',\n        headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,\n        withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false,\n      };\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload && self._preload !== 'none') {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended.\n        // If there is, play that sound. If not, continue as usual.\n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running' && Howler.ctx.state !== 'interrupted') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // If this is streaming audio, make sure the src is set and load again.\n        if (node.src === 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA') {\n          node.src = self._src;\n          node.load();\n        }\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n\n          var listener = function() {\n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n\n              // If this is a live stream, stop download once the audio is stopped.\n              if (sound._node.duration === Infinity) {\n                self._clearSound(sound._node);\n              }\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = Math.min(Math.max(0, parseFloat(from)), 1);\n      to = Math.min(Math.max(0, parseFloat(to)), 1);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Make sure the volume is in the right bounds.\n        if (diff < 0) {\n          vol = Math.max(to, vol);\n        } else {\n          vol = Math.min(to, vol);\n        }\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return self;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            self._emit('seek', id);\n\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          self._clearSound(sounds[i]._node);\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    },\n\n    /**\n     * Set the source to a 0-second silence to stop any downloading (except in IE).\n     * @param  {Object} node Audio node to clear.\n     */\n    _clearSound: function(node) {\n      var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n      if (!checkIE) {\n        node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n      }\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else if (!Howler.noAudio) {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = parent._preload === true ? 'auto' : parent._preload;\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open(self._xhr.method, url, true);\n      xhr.withCredentials = self._xhr.withCredentials;\n      xhr.responseType = 'arraybuffer';\n\n      // Apply any custom headers to the request.\n      if (self._xhr.headers) {\n        Object.keys(self._xhr.headers).forEach(function(key) {\n          xhr.setRequestHeader(key, self._xhr.headers[key]);\n        });\n      }\n\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : Howler._volume, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Add to global in Node.js (for testing, etc).\n  if (typeof global !== 'undefined') {\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  } else if (typeof window !== 'undefined') {  // Define globally in case AMD is not available or unused.\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.2.0\n *  howlerjs.com\n *\n *  (c) 2013-2020, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, ∞]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n          panner.panningModel = pa.panningModel;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\n\nexports.__esModule = true;\n\nvar errorProps = ['description', 'fileName', 'lineNumber', 'endLineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      endLineNumber = undefined,\n      column = undefined,\n      endColumn = undefined;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsSUFBTSxVQUFVLEdBQUcsQ0FBQyxhQUFhLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7O0FBRXBILFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7QUFDaEMsTUFBSSxHQUFHLEdBQUcsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHO01BQ3RCLElBQUksWUFBQTtNQUNKLGFBQWEsWUFBQTtNQUNiLE1BQU0sWUFBQTtNQUNOLFNBQVMsWUFBQSxDQUFDOztBQUVkLE1BQUksR0FBRyxFQUFFO0FBQ1AsUUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQ3RCLGlCQUFhLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7QUFDN0IsVUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0FBQzFCLGFBQVMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQzs7QUFFM0IsV0FBTyxJQUFJLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztHQUN4Qzs7QUFFRCxNQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDOzs7QUFHMUQsT0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUU7QUFDaEQsUUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztHQUM5Qzs7O0FBR0QsTUFBSSxLQUFLLENBQUMsaUJBQWlCLEVBQUU7QUFDM0IsU0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztHQUMxQzs7QUFFRCxNQUFJO0FBQ0YsUUFBSSxHQUFHLEVBQUU7QUFDUCxVQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztBQUN2QixVQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQzs7OztBQUluQyxVQUFJLE1BQU0sQ0FBQyxjQUFjLEVBQUU7QUFDekIsY0FBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQ3BDLGVBQUssRUFBRSxNQUFNO0FBQ2Isb0JBQVUsRUFBRSxJQUFJO1NBQ2pCLENBQUMsQ0FBQztBQUNILGNBQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRTtBQUN2QyxlQUFLLEVBQUUsU0FBUztBQUNoQixvQkFBVSxFQUFFLElBQUk7U0FDakIsQ0FBQyxDQUFDO09BQ0osTUFBTTtBQUNMLFlBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ3JCLFlBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO09BQzVCO0tBQ0Y7R0FDRixDQUFDLE9BQU8sR0FBRyxFQUFFOztHQUViO0NBQ0Y7O0FBRUQsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDOztxQkFFbkIsU0FBUyIsImZpbGUiOiJleGNlcHRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGVycm9yUHJvcHMgPSBbJ2Rlc2NyaXB0aW9uJywgJ2ZpbGVOYW1lJywgJ2xpbmVOdW1iZXInLCAnZW5kTGluZU51bWJlcicsICdtZXNzYWdlJywgJ25hbWUnLCAnbnVtYmVyJywgJ3N0YWNrJ107XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgICAgbGluZSxcbiAgICAgIGVuZExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW4sXG4gICAgICBlbmRDb2x1bW47XG5cbiAgaWYgKGxvYykge1xuICAgIGxpbmUgPSBsb2Muc3RhcnQubGluZTtcbiAgICBlbmRMaW5lTnVtYmVyID0gbG9jLmVuZC5saW5lO1xuICAgIGNvbHVtbiA9IGxvYy5zdGFydC5jb2x1bW47XG4gICAgZW5kQ29sdW1uID0gbG9jLmVuZC5jb2x1bW47XG5cbiAgICBtZXNzYWdlICs9ICcgLSAnICsgbGluZSArICc6JyArIGNvbHVtbjtcbiAgfVxuXG4gIGxldCB0bXAgPSBFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcblxuICAvLyBVbmZvcnR1bmF0ZWx5IGVycm9ycyBhcmUgbm90IGVudW1lcmFibGUgaW4gQ2hyb21lIChhdCBsZWFzdCksIHNvIGBmb3IgcHJvcCBpbiB0bXBgIGRvZXNuJ3Qgd29yay5cbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZXJyb3JQcm9wcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgdGhpc1tlcnJvclByb3BzW2lkeF1dID0gdG1wW2Vycm9yUHJvcHNbaWR4XV07XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBFeGNlcHRpb24pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAobG9jKSB7XG4gICAgICB0aGlzLmxpbmVOdW1iZXIgPSBsaW5lO1xuICAgICAgdGhpcy5lbmRMaW5lTnVtYmVyID0gZW5kTGluZU51bWJlcjtcblxuICAgICAgLy8gV29yayBhcm91bmQgaXNzdWUgdW5kZXIgc2FmYXJpIHdoZXJlIHdlIGNhbid0IGRpcmVjdGx5IHNldCB0aGUgY29sdW1uIHZhbHVlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogY29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnZW5kQ29sdW1uJywge1xuICAgICAgICAgIHZhbHVlOiBlbmRDb2x1bW4sXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgICAgICB0aGlzLmVuZENvbHVtbiA9IGVuZENvbHVtbjtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKG5vcCkge1xuICAgIC8qIElnbm9yZSBpZiB0aGUgYnJvd3NlciBpcyB2ZXJ5IHBhcnRpY3VsYXIgKi9cbiAgfVxufVxuXG5FeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEV4Y2VwdGlvbjtcbiJdfQ==\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.4.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","/*\n * anime.js v3.2.0\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","module.exports = false;\n","module.exports = {};\n","var bind = require('../internals/bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","module.exports = {};\n","// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = require('./dist/cjs/handlebars.runtime')['default'];\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar PROTOTYPE = 'prototype';\nvar Empty = function () { /* empty */ };\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var length = enumBugKeys.length;\n  var lt = '<';\n  var script = 'script';\n  var gt = '>';\n  var js = 'java' + script + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  iframe.src = String(js);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + script + gt + 'document.F=Object' + lt + '/' + script + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (length--) delete createDict[PROTOTYPE][enumBugKeys[length]];\n  return createDict();\n};\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n\nhiddenKeys[IE_PROTO] = true;\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar shared = require('../internals/shared');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar inspectSource = shared('inspectSource');\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  createNonEnumerableProperty(ArrayPrototype, UNSCOPABLES, create(null));\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('filter') }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var shared = require('../internals/shared');\n\nmodule.exports = shared('native-function-to-string', Function.toString);\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","module.exports = require('../internals/global');\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol() == 'symbol';\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var anObject = require('../internals/an-object');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    var returnMethod = iterator['return'];\n    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));\n    throw error;\n  }\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts && !fails(post)) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var userAgent = require('../internals/user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = sloppyArrayMethod('forEach') ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.github.io/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nif (IteratorPrototype == undefined) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","exports.f = require('../internals/well-known-symbol');\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/wrapped-well-known-symbol');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.github.io/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.github.io/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.github.io/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.github.io/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","'use strict';\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('./utils');\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = require('./helpers');\n\nvar _decorators = require('./decorators');\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar VERSION = '4.5.3';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 8;\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\nexports.LAST_COMPATIBLE_COMPILER_REVISION = LAST_COMPATIBLE_COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  }\n};\n\nvar log = _logger2['default'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQTRDLFNBQVM7O3lCQUMvQixhQUFhOzs7O3VCQUNFLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNuQyxVQUFVOzs7O0FBRXRCLElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQzs7QUFDeEIsSUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7O0FBQzVCLElBQU0saUNBQWlDLEdBQUcsQ0FBQyxDQUFDOzs7QUFFNUMsSUFBTSxnQkFBZ0IsR0FBRztBQUM5QixHQUFDLEVBQUUsYUFBYTtBQUNoQixHQUFDLEVBQUUsZUFBZTtBQUNsQixHQUFDLEVBQUUsZUFBZTtBQUNsQixHQUFDLEVBQUUsVUFBVTtBQUNiLEdBQUMsRUFBRSxrQkFBa0I7QUFDckIsR0FBQyxFQUFFLGlCQUFpQjtBQUNwQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxVQUFVO0NBQ2QsQ0FBQzs7O0FBRUYsSUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUM7O0FBRTlCLFNBQVMscUJBQXFCLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7QUFDbkUsTUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQzdCLE1BQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxJQUFJLEVBQUUsQ0FBQztBQUMvQixNQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBSSxFQUFFLENBQUM7O0FBRW5DLGtDQUF1QixJQUFJLENBQUMsQ0FBQztBQUM3Qix3Q0FBMEIsSUFBSSxDQUFDLENBQUM7Q0FDakM7O0FBRUQscUJBQXFCLENBQUMsU0FBUyxHQUFHO0FBQ2hDLGFBQVcsRUFBRSxxQkFBcUI7O0FBRWxDLFFBQU0scUJBQVE7QUFDZCxLQUFHLEVBQUUsb0JBQU8sR0FBRzs7QUFFZixnQkFBYyxFQUFFLHdCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDakMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQUUsY0FBTSwyQkFBYyx5Q0FBeUMsQ0FBQyxDQUFDO09BQUU7QUFDM0Usb0JBQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztLQUM1QixNQUFNO0FBQ0wsVUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDekI7R0FDRjtBQUNELGtCQUFnQixFQUFFLDBCQUFTLElBQUksRUFBRTtBQUMvQixXQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDM0I7O0FBRUQsaUJBQWUsRUFBRSx5QkFBUyxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3ZDLFFBQUksZ0JBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLFVBQVUsRUFBRTtBQUN0QyxvQkFBTyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzdCLE1BQU07QUFDTCxVQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsRUFBRTtBQUNsQyxjQUFNLHlFQUEwRCxJQUFJLG9CQUFpQixDQUFDO09BQ3ZGO0FBQ0QsVUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUM7S0FDL0I7R0FDRjtBQUNELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRTtBQUNoQyxXQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDNUI7O0FBRUQsbUJBQWlCLEVBQUUsMkJBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNwQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFNLDJCQUFjLDRDQUE0QyxDQUFDLENBQUM7T0FBRTtBQUM5RSxvQkFBTyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQy9CLE1BQU07QUFDTCxVQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUM1QjtHQUNGO0FBQ0QscUJBQW1CLEVBQUUsNkJBQVMsSUFBSSxFQUFFO0FBQ2xDLFdBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUM5QjtDQUNGLENBQUM7O0FBRUssSUFBSSxHQUFHLEdBQUcsb0JBQU8sR0FBRyxDQUFDOzs7UUFFcEIsV0FBVztRQUFFLE1BQU0iLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlRnJhbWUsIGV4dGVuZCwgdG9TdHJpbmd9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdEhlbHBlcnN9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnN9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC41LjMnO1xuZXhwb3J0IGNvbnN0IENPTVBJTEVSX1JFVklTSU9OID0gODtcbmV4cG9ydCBjb25zdCBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04gPSA3O1xuXG5leHBvcnQgY29uc3QgUkVWSVNJT05fQ0hBTkdFUyA9IHtcbiAgMTogJzw9IDEuMC5yYy4yJywgLy8gMS4wLnJjLjIgaXMgYWN0dWFsbHkgcmV2MiBidXQgZG9lc24ndCByZXBvcnQgaXRcbiAgMjogJz09IDEuMC4wLXJjLjMnLFxuICAzOiAnPT0gMS4wLjAtcmMuNCcsXG4gIDQ6ICc9PSAxLngueCcsXG4gIDU6ICc9PSAyLjAuMC1hbHBoYS54JyxcbiAgNjogJz49IDIuMC4wLWJldGEuMScsXG4gIDc6ICc+PSA0LjAuMCA8NC4zLjAnLFxuICA4OiAnPj0gNC4zLjAnXG59O1xuXG5jb25zdCBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBIYW5kbGViYXJzRW52aXJvbm1lbnQoaGVscGVycywgcGFydGlhbHMsIGRlY29yYXRvcnMpIHtcbiAgdGhpcy5oZWxwZXJzID0gaGVscGVycyB8fCB7fTtcbiAgdGhpcy5wYXJ0aWFscyA9IHBhcnRpYWxzIHx8IHt9O1xuICB0aGlzLmRlY29yYXRvcnMgPSBkZWNvcmF0b3JzIHx8IHt9O1xuXG4gIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnModGhpcyk7XG4gIHJlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnModGhpcyk7XG59XG5cbkhhbmRsZWJhcnNFbnZpcm9ubWVudC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBIYW5kbGViYXJzRW52aXJvbm1lbnQsXG5cbiAgbG9nZ2VyOiBsb2dnZXIsXG4gIGxvZzogbG9nZ2VyLmxvZyxcblxuICByZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7IHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgaGVscGVycycpOyB9XG4gICAgICBleHRlbmQodGhpcy5oZWxwZXJzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oZWxwZXJzW25hbWVdID0gZm47XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVySGVscGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuaGVscGVyc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUsIHBhcnRpYWwpIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgZXh0ZW5kKHRoaXMucGFydGlhbHMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHBhcnRpYWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oYEF0dGVtcHRpbmcgdG8gcmVnaXN0ZXIgYSBwYXJ0aWFsIGNhbGxlZCBcIiR7bmFtZX1cIiBhcyB1bmRlZmluZWRgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5wYXJ0aWFsc1tuYW1lXTtcbiAgfSxcblxuICByZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSwgZm4pIHtcbiAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgaWYgKGZuKSB7IHRocm93IG5ldyBFeGNlcHRpb24oJ0FyZyBub3Qgc3VwcG9ydGVkIHdpdGggbXVsdGlwbGUgZGVjb3JhdG9ycycpOyB9XG4gICAgICBleHRlbmQodGhpcy5kZWNvcmF0b3JzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWNvcmF0b3JzW25hbWVdID0gZm47XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMuZGVjb3JhdG9yc1tuYW1lXTtcbiAgfVxufTtcblxuZXhwb3J0IGxldCBsb2cgPSBsb2dnZXIubG9nO1xuXG5leHBvcnQge2NyZWF0ZUZyYW1lLCBsb2dnZXJ9O1xuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\nexports.moveHelperToHooks = moveHelperToHooks;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersBlockHelperMissing = require('./helpers/block-helper-missing');\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = require('./helpers/each');\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = require('./helpers/helper-missing');\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = require('./helpers/if');\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = require('./helpers/log');\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = require('./helpers/lookup');\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = require('./helpers/with');\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n  _helpersEach2['default'](instance);\n  _helpersHelperMissing2['default'](instance);\n  _helpersIf2['default'](instance);\n  _helpersLog2['default'](instance);\n  _helpersLookup2['default'](instance);\n  _helpersWith2['default'](instance);\n}\n\nfunction moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3lDQUF1QyxnQ0FBZ0M7Ozs7MkJBQzlDLGdCQUFnQjs7OztvQ0FDUCwwQkFBMEI7Ozs7eUJBQ3JDLGNBQWM7Ozs7MEJBQ2IsZUFBZTs7Ozs2QkFDWixrQkFBa0I7Ozs7MkJBQ3BCLGdCQUFnQjs7OztBQUVsQyxTQUFTLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUMvQyx5Q0FBMkIsUUFBUSxDQUFDLENBQUM7QUFDckMsMkJBQWEsUUFBUSxDQUFDLENBQUM7QUFDdkIsb0NBQXNCLFFBQVEsQ0FBQyxDQUFDO0FBQ2hDLHlCQUFXLFFBQVEsQ0FBQyxDQUFDO0FBQ3JCLDBCQUFZLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLDZCQUFlLFFBQVEsQ0FBQyxDQUFDO0FBQ3pCLDJCQUFhLFFBQVEsQ0FBQyxDQUFDO0NBQ3hCOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUU7QUFDbEUsTUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ2hDLFlBQVEsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUMxRCxRQUFJLENBQUMsVUFBVSxFQUFFO0FBQ2YsYUFBTyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQ3JDO0dBQ0Y7Q0FDRiIsImZpbGUiOiJoZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJFYWNoIGZyb20gJy4vaGVscGVycy9lYWNoJztcbmltcG9ydCByZWdpc3RlckhlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2hlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlcklmIGZyb20gJy4vaGVscGVycy9pZic7XG5pbXBvcnQgcmVnaXN0ZXJMb2cgZnJvbSAnLi9oZWxwZXJzL2xvZyc7XG5pbXBvcnQgcmVnaXN0ZXJMb29rdXAgZnJvbSAnLi9oZWxwZXJzL2xvb2t1cCc7XG5pbXBvcnQgcmVnaXN0ZXJXaXRoIGZyb20gJy4vaGVscGVycy93aXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlckVhY2goaW5zdGFuY2UpO1xuICByZWdpc3RlckhlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlcklmKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb2coaW5zdGFuY2UpO1xuICByZWdpc3Rlckxvb2t1cChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyV2l0aChpbnN0YW5jZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlSGVscGVyVG9Ib29rcyhpbnN0YW5jZSwgaGVscGVyTmFtZSwga2VlcEhlbHBlcikge1xuICBpZiAoaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXSkge1xuICAgIGluc3RhbmNlLmhvb2tzW2hlbHBlck5hbWVdID0gaW5zdGFuY2UuaGVscGVyc1toZWxwZXJOYW1lXTtcbiAgICBpZiAoIWtlZXBIZWxwZXIpIHtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5oZWxwZXJzW2hlbHBlck5hbWVdO1xuICAgIH1cbiAgfVxufVxuIl19\n","(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\ntypeof define === 'function' && define.amd ? define(factory) :\n(global = global || self, global.L7 = factory());\n}(this, function () { 'use strict';\n\n/* eslint-disable */\n\nvar shared, worker, L7;\n// define gets called three times: one for each chunk. we rely on the order\n// they're imported to know which is which\nfunction define(_, chunk) {\nif (!shared) {\n    shared = chunk;\n} else if (!worker) {\n    worker = chunk;\n} else {\n    var workerBundleString = 'var sharedChunk = {}; (' + shared + ')(sharedChunk); (' + worker + ')(sharedChunk);'\n\n    var sharedChunk = {};\n    shared(sharedChunk);\n    L7 = chunk(sharedChunk);\n    L7.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: 'text/javascript' }));\n}\n}\n\n\ndefine(['exports'], function (exports) { 'use strict';\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar EventEmitter = createCommonjsModule(function (module) {\n(function (exports) {\n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    function isValidListener (listener) {\n        if (typeof listener === 'function' || listener instanceof RegExp) {\n            return true\n        } else if (listener && typeof listener === 'object') {\n            return isValidListener(listener.listener)\n        } else {\n            return false\n        }\n    }\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        if (!isValidListener(listener)) {\n            throw new TypeError('listener must be a function');\n        }\n\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listenersMap = this.getListenersAsObject(evt);\n        var listeners;\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listenersMap) {\n            if (listenersMap.hasOwnProperty(key)) {\n                listeners = listenersMap[key].slice(0);\n\n                for (i = 0; i < listeners.length; i++) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if ( module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}(typeof window !== 'undefined' ? window : this || {}));\n});\n\n// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\t( function () {\n\n\t\tObject.assign = function ( target ) {\n\t\t\tvar arguments$1 = arguments;\n\n\n\t\t\tif ( target === undefined || target === null ) {\n\n\t\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t\t}\n\n\t\t\tvar output = Object( target );\n\n\t\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\t\tvar source = arguments$1[ index ];\n\n\t\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn output;\n\n\t\t};\n\n\t} )();\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) { s = 1; }\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min, max;\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tif ( min === undefined ) {\n\n\t\t\t\tmin = new Vector4();\n\t\t\t\tmax = new Vector4();\n\n\t\t\t}\n\n\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) { return 0; }\n\t\tif ( x >= max ) { return 1; }\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) { return 0; }\n\t\tif ( x >= max ) { return 1; }\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( v ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 12 ] = v.x;\n\t\tte[ 13 ] = v.y;\n\t\tte[ 14 ] = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t        te[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t        te[ 1 ] = ( xy + wz ) * sx;\n\t        te[ 2 ] = ( xz - wy ) * sx;\n\t        te[ 3 ] = 0;\n\n\t        te[ 4 ] = ( xy - wz ) * sy;\n\t        te[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t        te[ 6 ] = ( yz + wx ) * sy;\n\t        te[ 7 ] = 0;\n\n\t        te[ 8 ] = ( xz + wy ) * sz;\n\t        te[ 9 ] = ( yz - wx ) * sz;\n\t        te[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t        te[ 11 ] = 0;\n\n\t        te[ 12 ] = position.x;\n\t        te[ 13 ] = position.y;\n\t        te[ 14 ] = position.z;\n\t        te[ 15 ] = 1;\n\n\t        return this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) { sx = - sx; }\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) { return false; }\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) { this.onChangeCallback(); }\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function () {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar v1 = new Vector3();\n\t\tvar r;\n\n\t\tvar EPS = 0.000001;\n\n\t\treturn function setFromUnitVectors( vFrom, vTo ) {\n\n\t\t\tif ( v1 === undefined ) { v1 = new Vector3(); }\n\n\t\t\tr = vFrom.dot( vTo ) + 1;\n\n\t\t\tif ( r < EPS ) {\n\n\t\t\t\tr = 0;\n\n\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tv1.crossVectors( vFrom, vTo );\n\n\t\t\t}\n\n\t\t\tthis._x = v1.x;\n\t\t\tthis._y = v1.y;\n\t\t\tthis._z = v1.z;\n\t\t\tthis._w = r;\n\n\t\t\treturn this.normalize();\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) { return this; }\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) { return this; }\n\t\tif ( t === 1 ) { return this.copy( qb ); }\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\treturn this.normalize();\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function unproject( camera ) {\n\n\t\t\treturn this.applyMatrix4( matrix.getInverse( camera.projectionMatrix ) ).applyMatrix4( camera.matrixWorld );\n\n\t\t};\n\n\t}(),\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector3();\n\t\tvar max = new Vector3();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function () {\n\n\t\tvar min = new Vector2();\n\t\tvar max = new Vector2();\n\n\t\treturn function clampScalar( minVal, maxVal ) {\n\n\t\t\tmin.set( minVal, minVal );\n\t\t\tmax.set( maxVal, maxVal );\n\n\t\t\treturn this.clamp( min, max );\n\n\t\t};\n\n\t}(),\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( this.y, this.x );\n\n\t\tif ( angle < 0 ) { angle += 2 * Math.PI; }\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function () {\n\n\t\tfunction hue2rgb( p, q, t ) {\n\n\t\t\tif ( t < 0 ) { t += 1; }\n\t\t\tif ( t > 1 ) { t -= 1; }\n\t\t\tif ( t < 1 / 6 ) { return p + ( q - p ) * 6 * t; }\n\t\t\tif ( t < 1 / 2 ) { return q; }\n\t\t\tif ( t < 2 / 3 ) { return p + ( q - p ) * 6 * ( 2 / 3 - t ); }\n\t\t\treturn p;\n\n\t\t}\n\n\t\treturn function setHSL( h, s, l ) {\n\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = _Math.euclideanModulo( h, 1 );\n\t\t\ts = _Math.clamp( s, 0, 1 );\n\t\t\tl = _Math.clamp( l, 0, 1 );\n\n\t\t\tif ( s === 0 ) {\n\n\t\t\t\tthis.r = this.g = this.b = l;\n\n\t\t\t} else {\n\n\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) { return; }\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\t// color keywords\n\t\t\tvar hex = ColorKeywords[ style ];\n\n\t\t\tif ( hex !== undefined ) {\n\n\t\t\t\t// red\n\t\t\t\tthis.setHex( hex );\n\n\t\t\t} else {\n\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) { gammaFactor = 2.0; }\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) { gammaFactor = 2.0; }\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function () {\n\n\t\tfunction SRGBToLinear( c ) {\n\n\t\t\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n\t\t}\n\n\t\treturn function copySRGBToLinear( color ) {\n\n\t\t\tthis.r = SRGBToLinear( color.r );\n\t\t\tthis.g = SRGBToLinear( color.g );\n\t\t\tthis.b = SRGBToLinear( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcopyLinearToSRGB: function () {\n\n\t\tfunction LinearToSRGB( c ) {\n\n\t\t\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n\t\t}\n\n\t\treturn function copyLinearToSRGB( color ) {\n\n\t\t\tthis.r = LinearToSRGB( color.r );\n\t\t\tthis.g = LinearToSRGB( color.g );\n\t\t\tthis.b = LinearToSRGB( color.b );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function () {\n\n\t\tvar hsl = {};\n\n\t\treturn function ( h, s, l ) {\n\n\t\t\tthis.getHSL( hsl );\n\n\t\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\n\t\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function () {\n\n\t\tvar hslA = { h: 0, s: 0, l: 0 };\n\t\tvar hslB = { h: 0, s: 0, l: 0 };\n\n\t\treturn function lerpHSL( color, alpha ) {\n\n\t\t\tthis.getHSL( hslA );\n\t\t\tcolor.getHSL( hslB );\n\n\t\t\tvar h = _Math.lerp( hslA.h, hslB.h, alpha );\n\t\t\tvar s = _Math.lerp( hslA.s, hslB.s, alpha );\n\t\t\tvar l = _Math.lerp( hslA.l, hslB.l, alpha );\n\n\t\t\tthis.setHSL( h, s, l );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.dynamic = false;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) { this.version ++; }\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetArray: function ( array ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.count = array !== undefined ? array.length / this.itemSize : 0;\n\t\tthis.array = array;\n\n\t\treturn this;\n\n\t},\n\n\tsetDynamic: function ( value ) {\n\n\t\tthis.dynamic = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.dynamic = source.dynamic;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\nvar REVISION = '101';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) { this._listeners = {}; }\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) { return false; }\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) { return; }\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) { return; }\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) { this.onChangeCallback(); }\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) { this._order = array[ 3 ]; }\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix3( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) { return false; }\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) { array = []; }\n\t\tif ( offset === undefined ) { offset = 0; }\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nvar object3DId = 0;\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: object3DId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation.onChange( onRotationChange );\n\tquaternion.onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function () {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.multiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateOnWorldAxis: function () {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\tvar q1 = new Quaternion();\n\n\t\treturn function rotateOnWorldAxis( axis, angle ) {\n\n\t\t\tq1.setFromAxisAngle( axis, angle );\n\n\t\t\tthis.quaternion.premultiply( q1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\treturn this.rotateOnAxis( v1, angle );\n\n\t\t};\n\n\t}(),\n\n\ttranslateOnAxis: function () {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function translateOnAxis( axis, distance ) {\n\n\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslateX: function () {\n\n\t\tvar v1 = new Vector3( 1, 0, 0 );\n\n\t\treturn function translateX( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateY: function () {\n\n\t\tvar v1 = new Vector3( 0, 1, 0 );\n\n\t\treturn function translateY( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\ttranslateZ: function () {\n\n\t\tvar v1 = new Vector3( 0, 0, 1 );\n\n\t\treturn function translateZ( distance ) {\n\n\t\t\treturn this.translateOnAxis( v1, distance );\n\n\t\t};\n\n\t}(),\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function () {\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function worldToLocal( vector ) {\n\n\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tvar q1 = new Quaternion();\n\t\tvar m1 = new Matrix4();\n\t\tvar target = new Vector3();\n\t\tvar position = new Vector3();\n\n\t\treturn function lookAt( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\ttarget.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\ttarget.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tvar parent = this.parent;\n\n\t\t\tthis.updateWorldMatrix( true, false );\n\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t\tm1.lookAt( position, target, this.up );\n\n\t\t\t} else {\n\n\t\t\t\tm1.lookAt( target, position, this.up );\n\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\n\t\t\tif ( parent ) {\n\n\t\t\t\tm1.extractRotation( parent.matrixWorld );\n\t\t\t\tq1.setFromRotationMatrix( m1 );\n\t\t\t\tthis.quaternion.premultiply( q1.inverse() );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tadd: function ( object ) {\n\t\tvar arguments$1 = arguments;\n\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments$1[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tobject.dispatchEvent( { type: 'added' } );\n\n\t\t\tthis.children.push( object );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\t\tvar arguments$1 = arguments;\n\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments$1[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) { return this; }\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar scale = new Vector3();\n\n\t\treturn function getWorldQuaternion( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\t\ttarget = new Quaternion();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, target, scale );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldScale: function () {\n\n\t\tvar position = new Vector3();\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function getWorldScale( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.matrixWorld.decompose( position, quaternion, target );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) { return; }\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) { this.updateMatrix(); }\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) { this.updateMatrix(); }\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) { object.name = this.name; }\n\t\tif ( this.castShadow === true ) { object.castShadow = true; }\n\t\tif ( this.receiveShadow === true ) { object.receiveShadow = true; }\n\t\tif ( this.visible === false ) { object.visible = false; }\n\t\tif ( this.frustumCulled === false ) { object.frustumCulled = false; }\n\t\tif ( this.renderOrder !== 0 ) { object.renderOrder = this.renderOrder; }\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) { object.userData = this.userData; }\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) { object.matrixAutoUpdate = false; }\n\n\t\t// object specific properties\n\n\t\tif ( this.isMesh && this.drawMode !== TrianglesDrawMode ) { object.drawMode = this.drawMode; }\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) { output.geometries = geometries; }\n\t\t\tif ( materials.length > 0 ) { output.materials = materials; }\n\t\t\tif ( textures.length > 0 ) { output.textures = textures; }\n\t\t\tif ( images.length > 0 ) { output.images = images; }\n\t\t\tif ( shapes.length > 0 ) { output.shapes = shapes; }\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) { recursive = true; }\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.fog = null;\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) { this.background = source.background.clone(); }\n\t\tif ( source.fog !== null ) { this.fog = source.fog.clone(); }\n\t\tif ( source.overrideMaterial !== null ) { this.overrideMaterial = source.overrideMaterial.clone(); }\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) { data.object.background = this.background.toJSON( meta ); }\n\t\tif ( this.fog !== null ) { data.object.fog = this.fog.toJSON(); }\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) { _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ); }\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = _Math.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) { return uv; }\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) { this.version ++; }\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data, width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) { minX = x; }\n\t\t\tif ( y < minY ) { minY = y; }\n\t\t\tif ( z < minZ ) { minZ = z; }\n\n\t\t\tif ( x > maxX ) { maxX = x; }\n\t\t\tif ( y > maxY ) { maxY = y; }\n\t\t\tif ( z > maxZ ) { maxZ = z; }\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) { minX = x; }\n\t\t\tif ( y < minY ) { minY = y; }\n\t\t\tif ( z < minZ ) { minZ = z; }\n\n\t\t\tif ( x > maxX ) { maxX = x; }\n\t\t\tif ( y > maxY ) { maxY = y; }\n\t\t\tif ( z > maxZ ) { maxZ = z; }\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function setFromCenterAndSize( center, size ) {\n\n\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\n\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\tthis.max.copy( center ).add( halfSize );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function () {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tvar scope, i, l;\n\n\t\tvar v1 = new Vector3();\n\n\t\tfunction traverse( node ) {\n\n\t\t\tvar geometry = node.geometry;\n\n\t\t\tif ( geometry !== undefined ) {\n\n\t\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\t\tfor ( i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( geometry.isBufferGeometry ) {\n\n\t\t\t\t\tvar attribute = geometry.attributes.position;\n\n\t\t\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\t\t\tfor ( i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tv1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\n\n\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn function expandByObject( object ) {\n\n\t\t\tscope = this;\n\n\t\t\tobject.updateMatrixWorld( true );\n\n\t\t\tobject.traverse( traverse );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: ( function () {\n\n\t\tvar closestPoint = new Vector3();\n\n\t\treturn function intersectsSphere( sphere ) {\n\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t\t};\n\n\t} )(),\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: ( function () {\n\n\t\t// triangle centered vertices\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\t// triangle edge vectors\n\t\tvar f0 = new Vector3();\n\t\tvar f1 = new Vector3();\n\t\tvar f2 = new Vector3();\n\n\t\tvar testAxis = new Vector3();\n\n\t\tvar center = new Vector3();\n\t\tvar extents = new Vector3();\n\n\t\tvar triangleNormal = new Vector3();\n\n\t\tfunction satForAxes( axes ) {\n\n\t\t\tvar i, j;\n\n\t\t\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t\t\ttestAxis.fromArray( axes, i );\n\t\t\t\t// project the aabb onto the seperating axis\n\t\t\t\tvar r = extents.x * Math.abs( testAxis.x ) + extents.y * Math.abs( testAxis.y ) + extents.z * Math.abs( testAxis.z );\n\t\t\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\t\t\tvar p0 = v0.dot( testAxis );\n\t\t\t\tvar p1 = v1.dot( testAxis );\n\t\t\t\tvar p2 = v2.dot( testAxis );\n\t\t\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\t\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t\t\t// the axis is seperating and we can exit\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn function intersectsTriangle( triangle ) {\n\n\t\t\tif ( this.isEmpty() ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// compute box center and extents\n\t\t\tthis.getCenter( center );\n\t\t\textents.subVectors( this.max, center );\n\n\t\t\t// translate triangle to aabb origin\n\t\t\tv0.subVectors( triangle.a, center );\n\t\t\tv1.subVectors( triangle.b, center );\n\t\t\tv2.subVectors( triangle.c, center );\n\n\t\t\t// compute edge vectors for triangle\n\t\t\tf0.subVectors( v1, v0 );\n\t\t\tf1.subVectors( v2, v1 );\n\t\t\tf2.subVectors( v0, v2 );\n\n\t\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\t\tvar axes = [\n\t\t\t\t0, - f0.z, f0.y, 0, - f1.z, f1.y, 0, - f2.z, f2.y,\n\t\t\t\tf0.z, 0, - f0.x, f1.z, 0, - f1.x, f2.z, 0, - f2.x,\n\t\t\t\t- f0.y, f0.x, 0, - f1.y, f1.x, 0, - f2.y, f2.x, 0\n\t\t\t];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// test 3 face normals from the aabb\n\t\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\t\tif ( ! satForAxes( axes ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t\t// finally testing the face normal of the triangle\n\t\t\t// use already existing triangle edge vectors here\n\t\t\ttriangleNormal.crossVectors( f0, f1 );\n\t\t\taxes = [ triangleNormal.x, triangleNormal.y, triangleNormal.z ];\n\t\t\treturn satForAxes( axes );\n\n\t\t};\n\n\t} )(),\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceToPoint( point ) {\n\n\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\treturn clampedPoint.sub( point ).length();\n\n\t\t};\n\n\t}(),\n\n\tgetBoundingSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getBoundingSphere( target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t\ttarget = new Sphere();\n\n\t\t\t}\n\n\t\t\tthis.getCenter( target.center );\n\n\t\t\ttarget.radius = this.getSize( v1 ).length() * 0.5;\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}(),\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) { this.makeEmpty(); }\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar points = [\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3(),\n\t\t\tnew Vector3()\n\t\t];\n\n\t\treturn function applyMatrix4( matrix ) {\n\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif ( this.isEmpty() ) { return this; }\n\n\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function () {\n\n\t\tvar box = new Box3();\n\n\t\treturn function setFromPoints( points, optionalCenter ) {\n\n\t\t\tvar center = this.center;\n\n\t\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\t\tcenter.copy( optionalCenter );\n\n\t\t\t} else {\n\n\t\t\t\tbox.setFromPoints( points ).getCenter( center );\n\n\t\t\t}\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function setFromCoplanarPoints( a, b, c ) {\n\n\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\n\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectLine( line, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar direction = line.delta( v1 );\n\n\t\t\tvar denominator = this.normal.dot( direction );\n\n\t\t\tif ( denominator === 0 ) {\n\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\t\treturn target.copy( line.start );\n\n\t\t\t\t}\n\n\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\t\treturn undefined;\n\n\t\t\t}\n\n\t\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t\t};\n\n\t}(),\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function () {\n\n\t\tvar v1 = new Vector3();\n\t\tvar m1 = new Matrix3();\n\n\t\treturn function applyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\n\t\t\tvar referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\n\n\t\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsObject( object ) {\n\n\t\t\tvar geometry = object.geometry;\n\n\t\t\tif ( geometry.boundingSphere === null )\n\t\t\t\t{ geometry.computeBoundingSphere(); }\n\n\t\t\tsphere.copy( geometry.boundingSphere )\n\t\t\t\t.applyMatrix4( object.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSprite: function () {\n\n\t\tvar sphere = new Sphere();\n\n\t\treturn function intersectsSprite( sprite ) {\n\n\t\t\tsphere.center.set( 0, 0, 0 );\n\t\t\tsphere.radius = 0.7071067811865476;\n\t\t\tsphere.applyMatrix4( sprite.matrixWorld );\n\n\t\t\treturn this.intersectsSphere( sphere );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function () {\n\n\t\tvar p = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\tvar planes = this.planes;\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tvar plane = planes[ i ];\n\n\t\t\t\t// corner at max distance\n\n\t\t\t\tp.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\tp.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\tp.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tif ( plane.distanceToPoint( p ) < 0 ) {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\nvar alphamap_fragment = /* glsl */\"\\n#ifdef USE_ALPHAMAP\\n\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n\\n#endif\\n\";\n\nvar alphamap_pars_fragment = /* glsl */\"\\n#ifdef USE_ALPHAMAP\\n\\n\\tuniform sampler2D alphaMap;\\n\\n#endif\\n\";\n\nvar alphatest_fragment = /* glsl */\"\\n#ifdef ALPHATEST\\n\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n\\n#endif\\n\";\n\nvar aomap_fragment = /* glsl */\"\\n#ifdef USE_AOMAP\\n\\n\\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar aomap_pars_fragment = /* glsl */\"\\n#ifdef USE_AOMAP\\n\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n\\n#endif\\n\";\n\nvar begin_vertex = /* glsl */\"\\nvec3 transformed = vec3( position );\\n\";\n\nvar beginnormal_vertex = /* glsl */\"\\nvec3 objectNormal = vec3( normal );\\n\";\n\nvar bsdfs = /* glsl */\"\\n\\n// Analytical approximation of the DFG LUT, one half of the\\n// split-sum approximation used in indirect specular lighting.\\n// via 'environmentBRDF' from \\\"Physically Based Shading on Mobile\\\"\\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\n\\tvec4 r = roughness * c0 + c1;\\n\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\n}\\n\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\n\\t// based upon Frostbite 3 Moving to Physically-based Rendering\\n\\t// page 32, equation 26: E[window1]\\n\\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\\n\\t// this is intended to be used on spot and point lights who are represented as luminous intensity\\n\\t// but who must be converted to luminous irradiance for surface lighting calculation\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\n\\tif( cutoffDistance > 0.0 ) {\\n\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\n\\t}\\n\\n\\treturn distanceFalloff;\\n\\n#else\\n\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\n\\t}\\n\\n\\treturn 1.0;\\n\\n#endif\\n\\n}\\n\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n\\n} // validated\\n\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\n\\t// Original approximation by Christophe Schlick '94\\n\\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\\n\\n\\t// Optimized variant (presented by Epic at SIGGRAPH '13)\\n\\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n\\n} // validated\\n\\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\\n// alpha is \\\"roughness squared\\\" in Disney’s reparameterization\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\n\\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\\n\\t// also see #12151\\n\\n\\tfloat a2 = pow2( alpha );\\n\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\n\\treturn 1.0 / ( gl * gv );\\n\\n} // validated\\n\\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\n\\tfloat a2 = pow2( alpha );\\n\\n\\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n\\n}\\n\\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\\n// alpha is \\\"roughness squared\\\" in Disney’s reparameterization\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\n\\tfloat a2 = pow2( alpha );\\n\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\\n\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n\\n}\\n\\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\n\\tfloat alpha = pow2( roughness ); // UE4's roughness\\n\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\n\\treturn F * ( G * D );\\n\\n} // validated\\n\\n// Rect Area Light\\n\\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\\n// code: https://github.com/selfshadow/ltc_code/\\n\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\n\\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\n\\treturn uv;\\n\\n}\\n\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\n\\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\\n\\t// An approximation of the form factor of a horizon-clipped rectangle.\\n\\n\\tfloat l = length( f );\\n\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n\\n}\\n\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\n\\tfloat x = dot( v1, v2 );\\n\\n\\tfloat y = abs( x );\\n\\n\\t// rational polynomial approximation to theta / sin( theta ) / 2PI\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n\\n}\\n\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\n\\t// bail if point is on back side of plane of light\\n\\t// assumes ccw winding order of light vertices\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\n\\t// construct orthonormal basis around N\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\\n\\n\\t// compute transform\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\n\\t// transform rect\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\n\\t// project rect onto sphere\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\n\\t// calculate vector form factor\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\n\\t// adjust for horizon clipping\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\n/*\\n\\t// alternate method of adjusting for horizon clipping (see referece)\\n\\t// refactoring required\\n\\tfloat len = length( vectorFormFactor );\\n\\tfloat z = vectorFormFactor.z / len;\\n\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\n\\t// tabulated horizon-clipped sphere, apparently...\\n\\tvec2 uv = vec2( z * 0.5 + 0.5, len );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\n\\tfloat scale = texture2D( ltc_2, uv ).w;\\n\\n\\tfloat result = len * scale;\\n*/\\n\\n\\treturn vec3( result );\\n\\n}\\n\\n// End Rect Area Light\\n\\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\n\\treturn specularColor * brdf.x + brdf.y;\\n\\n} // validated\\n\\n// Fdez-Agüera's \\\"Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting\\\"\\n// Approximates multiscattering in order to preserve energy.\\n// http://www.jcgt.org/published/0008/01/03/\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\n\\tvec3 F = F_Schlick( specularColor, dotNV );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\n\\t// Paper incorrect indicates coefficient is PI/21, and will\\n\\t// be corrected to 1/21 in future updates.\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\\n\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n\\n}\\n\\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\\n\\n\\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\\n\\treturn 0.25;\\n\\n}\\n\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n\\n}\\n\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\n\\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\n\\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\\n\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\n\\treturn F * ( G * D );\\n\\n} // validated\\n\\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\n\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\";\n\nvar bumpmap_pars_fragment = /* glsl */\"\\n#ifdef USE_BUMPMAP\\n\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\n\\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\\n\\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\\n\\n\\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\\n\\n\\tvec2 dHdxy_fwd() {\\n\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\n\\t\\treturn vec2( dBx, dBy );\\n\\n\\t}\\n\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\n\\t\\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\\n\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\t\\t// normalized\\n\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\n\\t}\\n\\n#endif\\n\";\n\nvar clipping_planes_fragment = /* glsl */\"\\n#if NUM_CLIPPING_PLANES > 0\\n\\n\\tvec4 plane;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\n\\t}\\n\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\n\\t\\tbool clipped = true;\\n\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\n\\t\\t}\\n\\n\\t\\tif ( clipped ) discard;\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar clipping_planes_pars_fragment = /* glsl */\"\\n#if NUM_CLIPPING_PLANES > 0\\n\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n\\n#endif\\n\";\n\nvar clipping_planes_pars_vertex = /* glsl */\"\\n#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\";\n\nvar clipping_planes_vertex = /* glsl */\"\\n#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\";\n\nvar color_fragment = /* glsl */\"\\n#ifdef USE_COLOR\\n\\n\\tdiffuseColor.rgb *= vColor;\\n\\n#endif\\n\";\n\nvar color_pars_fragment = /* glsl */\"\\n#ifdef USE_COLOR\\n\\n\\tvarying vec3 vColor;\\n\\n#endif\\n\";\n\nvar color_pars_vertex = /* glsl */\"\\n#ifdef USE_COLOR\\n\\n\\tvarying vec3 vColor;\\n\\n#endif\\n\";\n\nvar color_vertex = /* glsl */\"\\n#ifdef USE_COLOR\\n\\n\\tvColor.xyz = color.xyz;\\n\\n#endif\\n\";\n\nvar common = /* glsl */\"\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\n\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\n\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\n\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\n\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n\\n}\\n\\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n\\n}\\n\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\n\\treturn - distance * planeNormal + point;\\n\\n}\\n\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n\\n}\\n\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n\\n}\\n\\nmat3 transposeMat3( const in mat3 m ) {\\n\\n\\tmat3 tmp;\\n\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\n\\treturn tmp;\\n\\n}\\n\\n// https://en.wikipedia.org/wiki/Relative_luminance\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\n\\treturn dot( weights, color.rgb );\\n\\n}\\n\";\n\nvar cube_uv_reflection_fragment = /* glsl */\"\\n#ifdef ENVMAP_TYPE_CUBE_UV\\n\\n#define cubeUV_textureSize (1024.0)\\n\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\n\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\t// Clamp the value to the max mip level counts. hard coded to 6 mips\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\n\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\t// float powScale = exp2(roughnessLevel + mipLevel);\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\t// float scale =  1.0 / exp2(roughnessLevel + 2.0 + mipLevel);\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\t// float mipOffset = 0.75*(1.0 - 1.0/exp2(mipLevel))/exp2(roughnessLevel);\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\n\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\n\\t// round to nearest mipmap if we are not interpolating.\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\n\\t// Tri linear interpolation.\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\n\\tvec4 result = mix(color10, color20, t);\\n\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n\\n#endif\\n\";\n\nvar defaultnormal_vertex = /* glsl */\"\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n\\n#ifdef FLIP_SIDED\\n\\n\\ttransformedNormal = - transformedNormal;\\n\\n#endif\\n\";\n\nvar displacementmap_pars_vertex = /* glsl */\"\\n#ifdef USE_DISPLACEMENTMAP\\n\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n\\n#endif\\n\";\n\nvar displacementmap_vertex = /* glsl */\"\\n#ifdef USE_DISPLACEMENTMAP\\n\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n\\n#endif\\n\";\n\nvar emissivemap_fragment = /* glsl */\"\\n#ifdef USE_EMISSIVEMAP\\n\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n\\n#endif\\n\";\n\nvar emissivemap_pars_fragment = /* glsl */\"\\n#ifdef USE_EMISSIVEMAP\\n\\n\\tuniform sampler2D emissiveMap;\\n\\n#endif\\n\";\n\nvar encodings_fragment = /* glsl */\"\\n  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\";\n\nvar encodings_pars_fragment = /* glsl */\"\\n// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\\n\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\n\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\n\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\n\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\n\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\n\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\n\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n//  return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\\n}\\n\\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\n\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\n\\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\n\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\n\\n// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\\n\\n// M matrix, for encoding\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\n\\n// Inverse M matrix, for decoding\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\\n\";\n\nvar envmap_fragment = /* glsl */\"\\n#ifdef USE_ENVMAP\\n\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\n\\t\\t// Transforming Normal Vectors with the Inverse Transformation\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\n\\t\\t#endif\\n\\n\\t#else\\n\\n\\t\\tvec3 reflectVec = vReflect;\\n\\n\\t#endif\\n\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\n\\t\\tvec2 sampleUV;\\n\\n\\t\\treflectVec = normalize( reflectVec );\\n\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\n\\t\\treflectVec = normalize( reflectVec );\\n\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\n\\t#else\\n\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\n\\t#endif\\n\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar envmap_pars_fragment = /* glsl */\"\\n#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n\\n#ifdef USE_ENVMAP\\n\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n\\n#endif\\n\";\n\nvar envmap_pars_vertex = /* glsl */\"\\n#ifdef USE_ENVMAP\\n\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\n\\t#else\\n\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar envmap_vertex = /* glsl */\"\\n#ifdef USE_ENVMAP\\n\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\n\\t#else\\n\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\n\\t\\t#endif\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar fog_vertex = /* glsl */\"\\n#ifdef USE_FOG\\n\\n\\tfogDepth = -mvPosition.z;\\n\\n#endif\\n\";\n\nvar fog_pars_vertex = /* glsl */\"\\n#ifdef USE_FOG\\n\\n\\tvarying float fogDepth;\\n\\n#endif\\n\";\n\nvar fog_fragment = /* glsl */\"\\n#ifdef USE_FOG\\n\\n\\t#ifdef FOG_EXP2\\n\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\n\\t#else\\n\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\n\\t#endif\\n\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n\\n#endif\\n\";\n\nvar fog_pars_fragment = /* glsl */\"\\n#ifdef USE_FOG\\n\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\n\\t#ifdef FOG_EXP2\\n\\n\\t\\tuniform float fogDensity;\\n\\n\\t#else\\n\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar gradientmap_pars_fragment = /* glsl */\"\\n#ifdef TOON\\n\\n\\tuniform sampler2D gradientMap;\\n\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\n\\t\\t// dotNL will be from -1.0 to 1.0\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\n\\t\\t#else\\n\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\n\\t\\t#endif\\n\\n\\n\\t}\\n\\n#endif\\n\";\n\nvar lightmap_fragment = /* glsl */\"\\n#ifdef USE_LIGHTMAP\\n\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\\n\\n#endif\\n\";\n\nvar lightmap_pars_fragment = /* glsl */\"\\n#ifdef USE_LIGHTMAP\\n\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n\\n#endif\\n\";\n\nvar lights_lambert_vertex = /* glsl */\"\\nvec3 diffuse = vec3( 1.0 );\\n\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\n\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\n\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\n\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n\\n#if NUM_POINT_LIGHTS > 0\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\n\\t\\t#endif\\n\\n\\t}\\n\\n#endif\\n\\n#if NUM_SPOT_LIGHTS > 0\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\n\\t\\t#endif\\n\\t}\\n\\n#endif\\n\\n/*\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\n\\t\\t// TODO (abelnation): implement\\n\\n\\t}\\n\\n#endif\\n*/\\n\\n#if NUM_DIR_LIGHTS > 0\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\n\\t\\t#endif\\n\\n\\t}\\n\\n#endif\\n\\n#if NUM_HEMI_LIGHTS > 0\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\n\\t\\t#endif\\n\\n\\t}\\n\\n#endif\\n\";\n\nvar lights_pars_begin = /* glsl */\"\\nuniform vec3 ambientLightColor;\\n\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\n\\tvec3 irradiance = ambientLightColor;\\n\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\n\\t\\tirradiance *= PI;\\n\\n\\t#endif\\n\\n\\treturn irradiance;\\n\\n}\\n\\n#if NUM_DIR_LIGHTS > 0\\n\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\n\\t}\\n\\n#endif\\n\\n\\n#if NUM_POINT_LIGHTS > 0\\n\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\n\\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\n\\t\\tfloat lightDistance = length( lVector );\\n\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\n\\t}\\n\\n#endif\\n\\n\\n#if NUM_SPOT_LIGHTS > 0\\n\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\n\\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\n\\t\\t} else {\\n\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\n\\t\\t}\\n\\t}\\n\\n#endif\\n\\n\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\n\\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\\n\\t// BRDF approximation Texture is 64x64\\n\\tuniform sampler2D ltc_1; // RGBA Float\\n\\tuniform sampler2D ltc_2; // RGBA Float\\n\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n\\n#endif\\n\\n\\n#if NUM_HEMI_LIGHTS > 0\\n\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\n\\t\\t\\tirradiance *= PI;\\n\\n\\t\\t#endif\\n\\n\\t\\treturn irradiance;\\n\\n\\t}\\n\\n#endif\\n\";\n\nvar envmap_physical_pars_fragment = /* glsl */\"\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\n\\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\n\\t\\t\\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\\n\\t\\t\\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\\n\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\t\\t// force the bias high to get the last LOD level as it is the most blurred.\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\n\\t\\t#endif\\n\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\n\\t}\\n\\n\\t// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\n\\t\\t//float envMapWidth = pow( 2.0, maxMIPLevelScalar );\\n\\t\\t//float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\n\\t\\t// clamp to allowable LOD ranges.\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\n\\t}\\n\\n\\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\n\\t\\t#else\\n\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\n\\t\\t#endif\\n\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\\n\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\n\\t\\t\\t#else\\n\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\n\\t\\t\\t#endif\\n\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\n\\t\\t#endif\\n\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\n\\t}\\n\\n#endif\\n\";\n\nvar lights_phong_fragment = /* glsl */\"\\nBlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\";\n\nvar lights_phong_pars_fragment = /* glsl */\"\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n\\nstruct BlinnPhongMaterial {\\n\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n\\n};\\n\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\n\\t#ifdef TOON\\n\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\n\\t#else\\n\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\n\\t#endif\\n\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\n\\t\\tirradiance *= PI; // punctual light\\n\\n\\t#endif\\n\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n\\n}\\n\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\n}\\n\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n\\n#define Material_LightProbeLOD( material )\\t(0)\\n\";\n\nvar lights_physical_fragment = /* glsl */\"\\nPhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat ); // Burley clearcoat model\\n\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\";\n\nvar lights_physical_pars_fragment = /* glsl */\"\\nstruct PhysicalMaterial {\\n\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n\\n};\\n\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\n\\n// Clear coat directional hemishperical reflectance (this approximation should be improved)\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n\\n}\\n\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction\\n\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\n\\t\\t// LTC Fresnel Approximation by Stephen Hill\\n\\t\\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\n\\t}\\n\\n#endif\\n\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\n\\t\\tirradiance *= PI; // punctual light\\n\\n\\t#endif\\n\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\n\\t#ifndef STANDARD\\n\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\n\\t#endif\\n\\n}\\n\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\n\\t// Defer to the IndirectSpecular function to compute\\n\\t// the indirectDiffuse if energy preservation is enabled.\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\n\\t\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\n\\t#endif\\n\\n}\\n\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\n\\tfloat clearCoatInv = 1.0 - clearCoatDHR;\\n\\n\\t// Both indirect specular and diffuse light accumulate here\\n\\t// if energy preservation enabled, and PMREM provided.\\n\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\n\\t\\tvec3 singleScattering = vec3( 0.0 );\\n\\t\\tvec3 multiScattering = vec3( 0.0 );\\n\\t\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\n\\t\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\n\\t\\t// The multiscattering paper uses the below formula for calculating diffuse \\n\\t\\t// for dielectrics, but this is already handled when initially computing the \\n\\t\\t// specular and diffuse color, so we can just use the diffuseColor directly.\\n\\t\\t//vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\t\\tvec3 diffuse = material.diffuseColor;\\n\\n\\t\\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\\n\\t\\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\\n\\t\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n\\n\\t#else\\n\\n\\t\\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\n\\t#endif\\n\\n\\t#ifndef STANDARD\\n\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\n\\t#endif\\n}\\n\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\n\\n// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n\\n}\\n\";\n\nvar lights_fragment_begin = /* glsl */\"\\n/**\\n * This is a template that can be used to light a material, it uses pluggable\\n * RenderEquations (RE)for specific lighting scenarios.\\n *\\n * Instructions for use:\\n * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined\\n * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???\\n * - Create a material parameter that is to be passed as the third parameter to your lighting functions.\\n *\\n * TODO:\\n * - Add area light support.\\n * - Add sphere light support.\\n * - Add diffuse light probe (irradiance cubemap) support.\\n */\\n\\nGeometricContext geometry;\\n\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\n\\nIncidentLight directLight;\\n\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\n\\tPointLight pointLight;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\n\\t\\tpointLight = pointLights[ i ];\\n\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\n\\t}\\n\\n#endif\\n\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\n\\tSpotLight spotLight;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\n\\t\\tspotLight = spotLights[ i ];\\n\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\n\\t}\\n\\n#endif\\n\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\n\\tDirectionalLight directionalLight;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\n\\t}\\n\\n#endif\\n\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\n\\tRectAreaLight rectAreaLight;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\n\\t}\\n\\n#endif\\n\\n#if defined( RE_IndirectDiffuse )\\n\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\n\\t\\t}\\n\\n\\t#endif\\n\\n#endif\\n\\n#if defined( RE_IndirectSpecular )\\n\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\n#endif\\n\";\n\nvar lights_fragment_maps = /* glsl */\"\\n#if defined( RE_IndirectDiffuse )\\n\\n\\t#ifdef USE_LIGHTMAP\\n\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\n\\t\\t\\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\\n\\n\\t\\t#endif\\n\\n\\t\\tirradiance += lightMapIrradiance;\\n\\n\\t#endif\\n\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\\n\\n\\t#endif\\n\\n#endif\\n\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\n\\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\\n\\n\\t#ifndef STANDARD\\n\\t\\tclearCoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#endif\\n\\n#endif\\n\";\n\nvar lights_fragment_end = /* glsl */\"\\n#if defined( RE_IndirectDiffuse )\\n\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n\\n#endif\\n\\n#if defined( RE_IndirectSpecular )\\n\\n\\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\\n\\n#endif\\n\";\n\nvar logdepthbuf_fragment = /* glsl */\"\\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n\\n#endif\\n\";\n\nvar logdepthbuf_pars_fragment = /* glsl */\"\\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\n#endif\\n\";\n\nvar logdepthbuf_pars_vertex = /* glsl */\"\\n#ifdef USE_LOGDEPTHBUF\\n\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\\t\\tvarying float vFragDepth;\\n\\n\\t#else\\n\\n\\t\\tuniform float logDepthBufFC;\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar logdepthbuf_vertex = /* glsl */\"\\n#ifdef USE_LOGDEPTHBUF\\n\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\n\\t#else\\n\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar map_fragment = /* glsl */\"\\n#ifdef USE_MAP\\n\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n\\n#endif\\n\";\n\nvar map_pars_fragment = /* glsl */\"\\n#ifdef USE_MAP\\n\\n\\tuniform sampler2D map;\\n\\n#endif\\n\";\n\nvar map_particle_fragment = /* glsl */\"\\n#ifdef USE_MAP\\n\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n\\n#endif\\n\";\n\nvar map_particle_pars_fragment = /* glsl */\"\\n#ifdef USE_MAP\\n\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n\\n#endif\\n\";\n\nvar metalnessmap_fragment = /* glsl */\"\\nfloat metalnessFactor = metalness;\\n\\n#ifdef USE_METALNESSMAP\\n\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\n\\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\\n\\tmetalnessFactor *= texelMetalness.b;\\n\\n#endif\\n\";\n\nvar metalnessmap_pars_fragment = /* glsl */\"\\n#ifdef USE_METALNESSMAP\\n\\n\\tuniform sampler2D metalnessMap;\\n\\n#endif\\n\";\n\nvar morphnormal_vertex = /* glsl */\"\\n#ifdef USE_MORPHNORMALS\\n\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n\\n#endif\\n\";\n\nvar morphtarget_pars_vertex = /* glsl */\"\\n#ifdef USE_MORPHTARGETS\\n\\n\\t#ifndef USE_MORPHNORMALS\\n\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\n\\t#else\\n\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar morphtarget_vertex = /* glsl */\"\\n#ifdef USE_MORPHTARGETS\\n\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\n\\t#ifndef USE_MORPHNORMALS\\n\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar normal_fragment_begin = /* glsl */\"\\n#ifdef FLAT_SHADED\\n\\n\\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\\n\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n\\n#else\\n\\n\\tvec3 normal = normalize( vNormal );\\n\\n\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar normal_fragment_maps = /* glsl */\"\\n#ifdef USE_NORMALMAP\\n\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\n\\t\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\\n\\n\\t\\t#ifdef FLIP_SIDED\\n\\n\\t\\t\\tnormal = - normal;\\n\\n\\t\\t#endif\\n\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\n\\t\\t#endif\\n\\n\\t\\tnormal = normalize( normalMatrix * normal );\\n\\n\\t#else // tangent-space normal map\\n\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n\\n\\t#endif\\n\\n#elif defined( USE_BUMPMAP )\\n\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n\\n#endif\\n\";\n\nvar normalmap_pars_fragment = /* glsl */\"\\n#ifdef USE_NORMALMAP\\n\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\n\\t\\tuniform mat3 normalMatrix;\\n\\n\\t#else\\n\\n\\t\\t// Per-Pixel Tangent Space Normal Mapping\\n\\t\\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\\n\\n\\t\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\n\\t\\t\\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\\n\\n\\t\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\n\\t\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\\n\\n\\t\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\t\\tmat3 tsn = mat3( S, T, N );\\n\\n\\t\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\n\\t\\t\\tmapN.xy *= normalScale;\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\n\\t\\t\\treturn normalize( tsn * mapN );\\n\\n\\t\\t}\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar packing = /* glsl */\"\\nvec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\n\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\n\\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\\n\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\n\\nconst float ShiftRight8 = 1. / 256.;\\n\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\\n\\treturn r * PackUpscale;\\n}\\n\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\n\\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\\n\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\n\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\";\n\nvar premultiplied_alpha_fragment = /* glsl */\"\\n#ifdef PREMULTIPLIED_ALPHA\\n\\n\\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n\\n#endif\\n\";\n\nvar project_vertex = /* glsl */\"\\nvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n\\ngl_Position = projectionMatrix * mvPosition;\\n\";\n\nvar dithering_fragment = /* glsl */\"\\n#if defined( DITHERING )\\n\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n\\n#endif\\n\";\n\nvar dithering_pars_fragment = /* glsl */\"\\n#if defined( DITHERING )\\n\\n\\t// based on https://www.shadertoy.com/view/MslGR8\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\t//Calculate grid position\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\n\\t\\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\n\\t\\t//modify shift acording to grid position.\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\n\\t\\t//shift the color by dither_shift\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n\\n#endif\\n\";\n\nvar roughnessmap_fragment = /* glsl */\"\\nfloat roughnessFactor = roughness;\\n\\n#ifdef USE_ROUGHNESSMAP\\n\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\n\\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\\n\\troughnessFactor *= texelRoughness.g;\\n\\n#endif\\n\";\n\nvar roughnessmap_pars_fragment = /* glsl */\"\\n#ifdef USE_ROUGHNESSMAP\\n\\n\\tuniform sampler2D roughnessMap;\\n\\n#endif\\n\";\n\nvar shadowmap_pars_fragment = /* glsl */\"\\n#ifdef USE_SHADOWMAP\\n\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\n\\t#endif\\n\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\n\\t#endif\\n\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\n\\t#endif\\n\\n\\t/*\\n\\t#if NUM_RECT_AREA_LIGHTS > 0\\n\\n\\t\\t// TODO (abelnation): create uniforms for area light shadows\\n\\n\\t#endif\\n\\t*/\\n\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\n\\t}\\n\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\n\\t\\treturn c;\\n\\n\\t}\\n\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\n\\t\\tfloat shadow = 1.0;\\n\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\n\\t\\t// if ( something && something ) breaks ATI OpenGL shader compiler\\n\\t\\t// if ( all( something, something ) ) using this instead\\n\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\n\\t\\tif ( frustumTest ) {\\n\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\n\\t\\t#else // no percentage-closer filtering:\\n\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\n\\t\\t#endif\\n\\n\\t\\t}\\n\\n\\t\\treturn shadow;\\n\\n\\t}\\n\\n\\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\\n\\t// vector suitable for 2D texture mapping. This code uses the following layout for the\\n\\t// 2D texture:\\n\\t//\\n\\t// xzXZ\\n\\t//  y Y\\n\\t//\\n\\t// Y - Positive y direction\\n\\t// y - Negative y direction\\n\\t// X - Positive x direction\\n\\t// x - Negative x direction\\n\\t// Z - Positive z direction\\n\\t// z - Negative z direction\\n\\t//\\n\\t// Source and test bed:\\n\\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\\n\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\n\\t\\t// Number of texels to avoid at the edge of each square\\n\\n\\t\\tvec3 absV = abs( v );\\n\\n\\t\\t// Intersect unit cube\\n\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\n\\t\\t// Apply scale to avoid seams\\n\\n\\t\\t// two texels less per square (one texel will do for NEAREST)\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\n\\t\\t// Unwrap\\n\\n\\t\\t// space: -1 ... 1 range for each square\\n\\t\\t//\\n\\t\\t// #X##\\t\\tdim    := ( 4 , 2 )\\n\\t\\t//  # #\\t\\tcenter := ( 1 , 1 )\\n\\n\\t\\tvec2 planar = v.xy;\\n\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\n\\t\\t}\\n\\n\\t\\t// Transform to UV space\\n\\n\\t\\t// scale := 0.5 / dim\\n\\t\\t// translate := ( center + 0.5 ) / dim\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\n\\t}\\n\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\n\\t\\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\\n\\t\\t// the vector from the light to the world-space position of the fragment.\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\n\\t\\t// dp = normalized distance from light to fragment position\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\\n\\t\\tdp += shadowBias;\\n\\n\\t\\t// bd3D = base direction 3D\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\n\\t\\t#else // no percentage-closer filtering\\n\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\n\\t\\t#endif\\n\\n\\t}\\n\\n#endif\\n\";\n\nvar shadowmap_pars_vertex = /* glsl */\"\\n#ifdef USE_SHADOWMAP\\n\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\n\\t#endif\\n\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\n\\t#endif\\n\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\n\\t#endif\\n\\n\\t/*\\n\\t#if NUM_RECT_AREA_LIGHTS > 0\\n\\n\\t\\t// TODO (abelnation): uniforms for area light shadows\\n\\n\\t#endif\\n\\t*/\\n\\n#endif\\n\";\n\nvar shadowmap_vertex = /* glsl */\"\\n#ifdef USE_SHADOWMAP\\n\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\n\\t}\\n\\n\\t#endif\\n\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\n\\t}\\n\\n\\t#endif\\n\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\n\\t}\\n\\n\\t#endif\\n\\n\\t/*\\n\\t#if NUM_RECT_AREA_LIGHTS > 0\\n\\n\\t\\t// TODO (abelnation): update vAreaShadowCoord with area light info\\n\\n\\t#endif\\n\\t*/\\n\\n#endif\\n\";\n\nvar shadowmask_pars_fragment = /* glsl */\"\\nfloat getShadowMask() {\\n\\n\\tfloat shadow = 1.0;\\n\\n\\t#ifdef USE_SHADOWMAP\\n\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\n\\tDirectionalLight directionalLight;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\n\\t}\\n\\n\\t#endif\\n\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\n\\tSpotLight spotLight;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\n\\t}\\n\\n\\t#endif\\n\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\n\\tPointLight pointLight;\\n\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\n\\t}\\n\\n\\t#endif\\n\\n\\t/*\\n\\t#if NUM_RECT_AREA_LIGHTS > 0\\n\\n\\t\\t// TODO (abelnation): update shadow for Area light\\n\\n\\t#endif\\n\\t*/\\n\\n\\t#endif\\n\\n\\treturn shadow;\\n\\n}\\n\";\n\nvar skinbase_vertex = /* glsl */\"\\n#ifdef USE_SKINNING\\n\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n\\n#endif\\n\";\n\nvar skinning_pars_vertex = /* glsl */\"\\n#ifdef USE_SKINNING\\n\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\n\\t#ifdef BONE_TEXTURE\\n\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\n\\t\\t\\treturn bone;\\n\\n\\t\\t}\\n\\n\\t#else\\n\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\n\\t\\t}\\n\\n\\t#endif\\n\\n#endif\\n\";\n\nvar skinning_vertex = /* glsl */\"\\n#ifdef USE_SKINNING\\n\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n\\n#endif\\n\";\n\nvar skinnormal_vertex = /* glsl */\"\\n#ifdef USE_SKINNING\\n\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\n#endif\\n\";\n\nvar specularmap_fragment = /* glsl */\"\\nfloat specularStrength;\\n\\n#ifdef USE_SPECULARMAP\\n\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n\\n#else\\n\\n\\tspecularStrength = 1.0;\\n\\n#endif\\n\";\n\nvar specularmap_pars_fragment = /* glsl */\"\\n#ifdef USE_SPECULARMAP\\n\\n\\tuniform sampler2D specularMap;\\n\\n#endif\\n\";\n\nvar tonemapping_fragment = /* glsl */\"\\n#if defined( TONE_MAPPING )\\n\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n\\n#endif\\n\";\n\nvar tonemapping_pars_fragment = /* glsl */\"\\n#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\n\\n// exposure only\\nvec3 LinearToneMapping( vec3 color ) {\\n\\n\\treturn toneMappingExposure * color;\\n\\n}\\n\\n// source: https://www.cs.utah.edu/~reinhard/cdrom/\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n\\n}\\n\\n// source: http://filmicgames.com/archives/75\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\n\\t// John Hable's filmic operator from Uncharted 2 video game\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n\\n}\\n\\n// source: http://filmicgames.com/archives/75\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\n\\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n\\n}\\n\\n// source: https://knarkowicz.wordpress.com/2016/01/06/aces-filmic-tone-mapping-curve/\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n\\n}\\n\";\n\nvar uv_pars_fragment = /* glsl */\"\\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\n\\tvarying vec2 vUv;\\n\\n#endif\\n\";\n\nvar uv_pars_vertex = /* glsl */\"\\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n\\n#endif\\n\";\n\nvar uv_vertex = /* glsl */\"\\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\n#endif\\n\";\n\nvar uv2_pars_fragment = /* glsl */\"\\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\n\\tvarying vec2 vUv2;\\n\\n#endif\\n\";\n\nvar uv2_pars_vertex = /* glsl */\"\\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\n#endif\\n\";\n\nvar uv2_vertex = /* glsl */\"\\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\n\\tvUv2 = uv2;\\n\\n#endif\\n\";\n\nvar worldpos_vertex = /* glsl */\"\\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\\n#endif\\n\";\n\nvar background_frag = /* glsl */\"\\nuniform sampler2D t2D;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\n}\\n\";\n\nvar background_vert = /* glsl */\"\\nvarying vec2 vUv;\\nuniform mat3 uvTransform;\\n\\nvoid main() {\\n\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n\\n}\\n\";\n\nvar cube_frag = /* glsl */\"\\nuniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\n\\nvarying vec3 vWorldDirection;\\n\\nvoid main() {\\n\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\tgl_FragColor.a *= opacity;\\n\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\n}\\n\";\n\nvar cube_vert = /* glsl */\"\\nvarying vec3 vWorldDirection;\\n\\n#include <common>\\n\\nvoid main() {\\n\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\n\\tgl_Position.z = gl_Position.w; // set z to camera.far\\n\\n}\\n\";\n\nvar depth_frag = /* glsl */\"\\n#if DEPTH_PACKING == 3200\\n\\n\\tuniform float opacity;\\n\\n#endif\\n\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\n\\t#if DEPTH_PACKING == 3200\\n\\n\\t\\tdiffuseColor.a = opacity;\\n\\n\\t#endif\\n\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\n\\t#include <logdepthbuf_fragment>\\n\\n\\t#if DEPTH_PACKING == 3200\\n\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\n\\t#elif DEPTH_PACKING == 3201\\n\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\n\\t#endif\\n\\n}\\n\";\n\nvar depth_vert = /* glsl */\"\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\n\\t#include <skinbase_vertex>\\n\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\n\\t#endif\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\n}\\n\";\n\nvar distanceRGBA_frag = /* glsl */\"\\n#define DISTANCE\\n\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main () {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist ); // clamp to [ 0, 1 ]\\n\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n\\n}\\n\";\n\nvar distanceRGBA_vert = /* glsl */\"\\n#define DISTANCE\\n\\nvarying vec3 vWorldPosition;\\n\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\n\\t#include <skinbase_vertex>\\n\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\n\\t#endif\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\n\\tvWorldPosition = worldPosition.xyz;\\n\\n}\\n\";\n\nvar equirect_frag = /* glsl */\"\\nuniform sampler2D tEquirect;\\n\\nvarying vec3 vWorldDirection;\\n\\n#include <common>\\n\\nvoid main() {\\n\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\n\\tvec2 sampleUV;\\n\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\n}\\n\";\n\nvar equirect_vert = /* glsl */\"\\nvarying vec3 vWorldDirection;\\n\\n#include <common>\\n\\nvoid main() {\\n\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\n}\\n\";\n\nvar linedashed_frag = /* glsl */\"\\nuniform vec3 diffuse;\\nuniform float opacity;\\n\\nuniform float dashSize;\\nuniform float totalSize;\\n\\nvarying float vLineDistance;\\n\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\n\\t\\tdiscard;\\n\\n\\t}\\n\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\n\\toutgoingLight = diffuseColor.rgb; // simple shader\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\n}\\n\";\n\nvar linedashed_vert = /* glsl */\"\\nuniform float scale;\\nattribute float lineDistance;\\n\\nvarying float vLineDistance;\\n\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <color_vertex>\\n\\n\\tvLineDistance = scale * lineDistance;\\n\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\n}\\n\";\n\nvar meshbasic_frag = /* glsl */\"\\nuniform vec3 diffuse;\\nuniform float opacity;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\n\\t// accumulation (baked indirect lighting only)\\n\\t#ifdef USE_LIGHTMAP\\n\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\n\\t#else\\n\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\n\\t#endif\\n\\n\\t// modulation\\n\\t#include <aomap_fragment>\\n\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\n\\t#include <envmap_fragment>\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\n}\\n\";\n\nvar meshbasic_vert = /* glsl */\"\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\n\\t#ifdef USE_ENVMAP\\n\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\n\\t#endif\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n\\n}\\n\";\n\nvar meshlambert_frag = /* glsl */\"\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n\\n\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\n\\t// accumulation\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\n\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\n\\t#else\\n\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\n\\t#endif\\n\\n\\t#include <lightmap_fragment>\\n\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\n\\t#ifdef DOUBLE_SIDED\\n\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\n\\t#else\\n\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\n\\t#endif\\n\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\n\\t// modulation\\n\\t#include <aomap_fragment>\\n\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\n\\t#include <envmap_fragment>\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\";\n\nvar meshlambert_vert = /* glsl */\"\\n#define LAMBERT\\n\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\";\n\nvar meshmatcap_frag = /* glsl */\"\\n#define MATCAP\\n\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\n\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\\n\\n\\t#ifdef USE_MATCAP\\n\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\n\\t#else\\n\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\n\\t#endif\\n\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\n}\\n\";\n\nvar meshmatcap_vert = /* glsl */\"\\n#define MATCAP\\n\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\n\\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\\n\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\n\\t#endif\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\n\\tvViewPosition = - mvPosition.xyz;\\n\\n}\\n\";\n\nvar meshphong_frag = /* glsl */\"\\n#define PHONG\\n\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\n\\t// accumulation\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\n\\t// modulation\\n\\t#include <aomap_fragment>\\n\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\n\\t#include <envmap_fragment>\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n\\n}\\n\";\n\nvar meshphong_vert = /* glsl */\"\\n#define PHONG\\n\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\\n\\n\\tvNormal = normalize( transformedNormal );\\n\\n#endif\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\n\\tvViewPosition = - mvPosition.xyz;\\n\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n\\n}\\n\";\n\nvar meshphysical_frag = /* glsl */\"\\n#define PHYSICAL\\n\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\n\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\n\\t// accumulation\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\n\\t// modulation\\n\\t#include <aomap_fragment>\\n\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n\\n}\\n\";\n\nvar meshphysical_vert = /* glsl */\"\\n#define PHYSICAL\\n\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\\n\\n\\tvNormal = normalize( transformedNormal );\\n\\n#endif\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\n\\tvViewPosition = - mvPosition.xyz;\\n\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n\\n}\\n\";\n\nvar normal_frag = /* glsl */\"\\n#define NORMAL\\n\\nuniform float opacity;\\n\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\n\\tvarying vec3 vViewPosition;\\n\\n#endif\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n\\n}\\n\";\n\nvar normal_vert = /* glsl */\"\\n#define NORMAL\\n\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\n\\tvarying vec3 vViewPosition;\\n\\n#endif\\n\\n#ifndef FLAT_SHADED\\n\\n\\tvarying vec3 vNormal;\\n\\n#endif\\n\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\\n\\n\\tvNormal = normalize( transformedNormal );\\n\\n#endif\\n\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\n\\tvViewPosition = - mvPosition.xyz;\\n\\n#endif\\n\\n}\\n\";\n\nvar points_frag = /* glsl */\"\\nuniform vec3 diffuse;\\nuniform float opacity;\\n\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\n\\toutgoingLight = diffuseColor.rgb;\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\n}\\n\";\n\nvar points_vert = /* glsl */\"\\nuniform float size;\\nuniform float scale;\\n\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\n\\tgl_PointSize = size;\\n\\n\\t#ifdef USE_SIZEATTENUATION\\n\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\n\\t#endif\\n\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n\\n}\\n\";\n\nvar shadow_frag = /* glsl */\"\\nuniform vec3 color;\\nuniform float opacity;\\n\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n\\nvoid main() {\\n\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\n\\t#include <fog_fragment>\\n\\n}\\n\";\n\nvar shadow_vert = /* glsl */\"\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n\\n}\\n\";\n\nvar sprite_frag = /* glsl */\"\\nuniform vec3 diffuse;\\nuniform float opacity;\\n\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nvoid main() {\\n\\n\\t#include <clipping_planes_fragment>\\n\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\n\\toutgoingLight = diffuseColor.rgb;\\n\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\n}\\n\";\n\nvar sprite_vert = /* glsl */\"\\nuniform float rotation;\\nuniform vec2 center;\\n\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\n\\nvoid main() {\\n\\n\\t#include <uv_vertex>\\n\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\n\\t#ifndef USE_SIZEATTENUATION\\n\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\n\\t#endif\\n\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\n\\tmvPosition.xy += rotatedPosition;\\n\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\n}\\n\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {},\n\n\t\t\tshadow: {},\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: {\n\t\t\ttCube: { value: null },\n\t\t\ttFlip: { value: - 1 },\n\t\t\topacity: { value: 1.0 }\n\t\t},\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t} ] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearCoat: { value: 0 },\n\t\t\tclearCoatRoughness: { value: 0 }\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) { return; }\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) { return; }\n\t\t\tif ( animationLoop === null ) { return; }\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl ) {\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = gl.FLOAT;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = gl.FLOAT;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = gl.UNSIGNED_SHORT;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = gl.SHORT;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = gl.UNSIGNED_INT;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = gl.INT;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = gl.BYTE;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = gl.UNSIGNED_BYTE;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( attribute.dynamic === false ) {\n\n\t\t\tgl.bufferData( bufferType, array, gl.STATIC_DRAW );\n\n\t\t} else if ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else if ( updateRange.count === 0 ) {\n\n\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\n\t\t} else {\n\n\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) { attribute = attribute.data; }\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) { attribute = attribute.data; }\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) { attribute = attribute.data; }\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar geometryId = 0; // Geometry uses even numbers as Id\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: geometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) { this.faceVertexUvs[ 1 ] = []; }\n\n\t\tfor ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) { areaWeighted = true; }\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) { face.__originalVertexNormals = []; }\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tuvs1 = this.faceVertexUvs[ 0 ],\n\t\t\tuvs2 = geometry.faceVertexUvs[ 0 ],\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) { materialIndexOffset = 0; }\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) { vertexCopy.applyMatrix4( matrix ); }\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\n\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\n\t\t\tif ( uv === undefined ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\n\t\t\t\tuvCopy.push( uv[ j ].clone() );\n\n\t\t\t}\n\n\t\t\tuvs1.push( uvCopy );\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) { mesh.updateMatrix(); }\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) { newUvs1 = []; }\n\t\tif ( uvs2 && uvs2.length === length ) { newUvs2 = []; }\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) { newUvs1.push( uvs1[ id ] ); }\n\t\t\tif ( newUvs2 ) { newUvs2.push( uvs2[ id ] ); }\n\n\t\t}\n\n\t\tif ( newUvs1 ) { this.faceVertexUvs[ 0 ] = newUvs1; }\n\t\tif ( newUvs2 ) { this.faceVertexUvs[ 1 ] = newUvs2; }\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) { data.name = this.name; }\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) { data[ key ] = parameters[ key ]; }\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) { data.data.colors = colors; }\n\t\tif ( uvs.length > 0 ) { data.data.uvs = [ uvs ]; } // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) { return - Infinity; }\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) { max = array[ i ]; }\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\taddAttribute: function ( name, attribute ) {\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tremoveAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tmatrix.applyToBufferAttribute( position );\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormalMatrix.applyToBufferAttribute( normal );\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function () {\n\n\t\t// rotate geometry around world x-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateX( angle ) {\n\n\t\t\tm1.makeRotationX( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateY: function () {\n\n\t\t// rotate geometry around world y-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateY( angle ) {\n\n\t\t\tm1.makeRotationY( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\trotateZ: function () {\n\n\t\t// rotate geometry around world z-axis\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function rotateZ( angle ) {\n\n\t\t\tm1.makeRotationZ( angle );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\ttranslate: function () {\n\n\t\t// translate geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function translate( x, y, z ) {\n\n\t\t\tm1.makeTranslation( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tscale: function () {\n\n\t\t// scale geometry\n\n\t\tvar m1 = new Matrix4();\n\n\t\treturn function scale( x, y, z ) {\n\n\t\t\tm1.makeScale( x, y, z );\n\n\t\t\tthis.applyMatrix( m1 );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar obj = new Object3D();\n\n\t\treturn function lookAt( vector ) {\n\n\t\t\tobj.lookAt( vector );\n\n\t\t\tobj.updateMatrix();\n\n\t\t\tthis.applyMatrix( obj.matrix );\n\n\t\t};\n\n\t}(),\n\n\tcenter: function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function center() {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t\tthis.boundingBox.getCenter( offset ).negate();\n\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tvar box = new Box3();\n\t\tvar vector = new Vector3();\n\n\t\treturn function computeBoundingSphere() {\n\n\t\t\tif ( this.boundingSphere === null ) {\n\n\t\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t\t}\n\n\t\t\tvar position = this.attributes.position;\n\n\t\t\tif ( position ) {\n\n\t\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t\tbox.setFromBufferAttribute( position );\n\t\t\t\tbox.getCenter( center );\n\n\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\t\tvar maxRadiusSq = 0;\n\n\t\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t\tvector.x = position.getX( i );\n\t\t\t\t\tvector.y = position.getY( i );\n\t\t\t\t\tvector.z = position.getZ( i );\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) { continue; }\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeSize = attribute2.itemSize;\n\n\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar vector = new Vector3();\n\n\t\treturn function normalizeNormals() {\n\n\t\t\tvar normals = this.attributes.normal;\n\n\t\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t\tvector.x = normals.getX( i );\n\t\t\t\tvector.y = normals.getY( i );\n\t\t\t\tvector.z = normals.getZ( i );\n\n\t\t\t\tvector.normalize();\n\n\t\t\t\tnormals.setXYZ( i, vector.x, vector.y, vector.z );\n\n\t\t\t}\n\n\t\t};\n\n\t}(),\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.addAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = this.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar morphArray = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = morphAttribute[ i ];\n\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) { data.name = this.name; }\n\t\tif ( Object.keys( this.userData ).length > 0 ) { data.userData = this.userData; }\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) { data[ key ] = parameters[ key ]; }\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tvar array = Array.prototype.slice.call( index.array );\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: array\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar array = Array.prototype.slice.call( attribute.array );\n\n\t\t\tdata.data.attributes[ key ] = {\n\t\t\t\titemSize: attribute.itemSize,\n\t\t\t\ttype: attribute.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: attribute.normalized\n\t\t\t};\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nfunction BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'BoxGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\tthis.mergeVertices();\n\n}\n\nBoxGeometry.prototype = Object.create( Geometry.prototype );\nBoxGeometry.prototype.constructor = BoxGeometry;\n\n// BoxBufferGeometry\n\nfunction BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'BoxBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\tdepth: depth,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tdepthSegments: depthSegments\n\t};\n\n\tvar scope = this;\n\n\twidth = width || 1;\n\theight = height || 1;\n\tdepth = depth || 1;\n\n\t// segments\n\n\twidthSegments = Math.floor( widthSegments ) || 1;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar numberOfVertices = 0;\n\tvar groupStart = 0;\n\n\t// build each side of the box geometry\n\n\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\tvar segmentWidth = width / gridX;\n\t\tvar segmentHeight = height / gridY;\n\n\t\tvar widthHalf = width / 2;\n\t\tvar heightHalf = height / 2;\n\t\tvar depthHalf = depth / 2;\n\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\n\t\tvar vertexCounter = 0;\n\t\tvar groupCount = 0;\n\n\t\tvar ix, iy;\n\n\t\tvar vector = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// set values to correct vector component\n\n\t\t\t\tvector[ u ] = 0;\n\t\t\t\tvector[ v ] = 0;\n\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t// uvs\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t// counters\n\n\t\t\t\tvertexCounter += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\t// 1. you need three indices to draw a single face\n\t\t// 2. a single segment consists of two faces\n\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// increase counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t\t// update total number of vertices\n\n\t\tnumberOfVertices += vertexCounter;\n\n\t}\n\n}\n\nBoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nBoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = _Math.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\tthis.lights = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.userData = {};\n\n\tthis.needsUpdate = true;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) { return; }\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) { data.name = this.name; }\n\n\t\tif ( this.color && this.color.isColor ) { data.color = this.color.getHex(); }\n\n\t\tif ( this.roughness !== undefined ) { data.roughness = this.roughness; }\n\t\tif ( this.metalness !== undefined ) { data.metalness = this.metalness; }\n\n\t\tif ( this.emissive && this.emissive.isColor ) { data.emissive = this.emissive.getHex(); }\n\t\tif ( this.emissiveIntensity !== 1 ) { data.emissiveIntensity = this.emissiveIntensity; }\n\n\t\tif ( this.specular && this.specular.isColor ) { data.specular = this.specular.getHex(); }\n\t\tif ( this.shininess !== undefined ) { data.shininess = this.shininess; }\n\t\tif ( this.clearCoat !== undefined ) { data.clearCoat = this.clearCoat; }\n\t\tif ( this.clearCoatRoughness !== undefined ) { data.clearCoatRoughness = this.clearCoatRoughness; }\n\n\t\tif ( this.map && this.map.isTexture ) { data.map = this.map.toJSON( meta ).uuid; }\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) { data.alphaMap = this.alphaMap.toJSON( meta ).uuid; }\n\t\tif ( this.lightMap && this.lightMap.isTexture ) { data.lightMap = this.lightMap.toJSON( meta ).uuid; }\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) { data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid; }\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) { data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid; }\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) { data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid; }\n\t\tif ( this.specularMap && this.specularMap.isTexture ) { data.specularMap = this.specularMap.toJSON( meta ).uuid; }\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\n\t\t\tif ( this.combine !== undefined ) { data.combine = this.combine; }\n\t\t\tif ( this.envMapIntensity !== undefined ) { data.envMapIntensity = this.envMapIntensity; }\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) { data.size = this.size; }\n\t\tif ( this.sizeAttenuation !== undefined ) { data.sizeAttenuation = this.sizeAttenuation; }\n\n\t\tif ( this.blending !== NormalBlending ) { data.blending = this.blending; }\n\t\tif ( this.flatShading === true ) { data.flatShading = this.flatShading; }\n\t\tif ( this.side !== FrontSide ) { data.side = this.side; }\n\t\tif ( this.vertexColors !== NoColors ) { data.vertexColors = this.vertexColors; }\n\n\t\tif ( this.opacity < 1 ) { data.opacity = this.opacity; }\n\t\tif ( this.transparent === true ) { data.transparent = this.transparent; }\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation !== 0 ) { data.rotation = this.rotation; }\n\n\t\tif ( this.polygonOffset === true ) { data.polygonOffset = true; }\n\t\tif ( this.polygonOffsetFactor !== 0 ) { data.polygonOffsetFactor = this.polygonOffsetFactor; }\n\t\tif ( this.polygonOffsetUnits !== 0 ) { data.polygonOffsetUnits = this.polygonOffsetUnits; }\n\n\t\tif ( this.linewidth !== 1 ) { data.linewidth = this.linewidth; }\n\t\tif ( this.dashSize !== undefined ) { data.dashSize = this.dashSize; }\n\t\tif ( this.gapSize !== undefined ) { data.gapSize = this.gapSize; }\n\t\tif ( this.scale !== undefined ) { data.scale = this.scale; }\n\n\t\tif ( this.dithering === true ) { data.dithering = true; }\n\n\t\tif ( this.alphaTest > 0 ) { data.alphaTest = this.alphaTest; }\n\t\tif ( this.premultipliedAlpha === true ) { data.premultipliedAlpha = this.premultipliedAlpha; }\n\n\t\tif ( this.wireframe === true ) { data.wireframe = this.wireframe; }\n\t\tif ( this.wireframeLinewidth > 1 ) { data.wireframeLinewidth = this.wireframeLinewidth; }\n\t\tif ( this.wireframeLinecap !== 'round' ) { data.wireframeLinecap = this.wireframeLinecap; }\n\t\tif ( this.wireframeLinejoin !== 'round' ) { data.wireframeLinejoin = this.wireframeLinejoin; }\n\n\t\tif ( this.morphTargets === true ) { data.morphTargets = true; }\n\t\tif ( this.skinning === true ) { data.skinning = true; }\n\n\t\tif ( this.visible === false ) { data.visible = false; }\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) { data.userData = this.userData; }\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) { data.textures = textures; }\n\t\t\tif ( images.length > 0 ) { data.images = images; }\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\t\tthis.lights = source.lights;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tthis.clipShadows = source.clipShadows;\n\t\tthis.clipIntersection = source.clipIntersection;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\t{ dstPlanes[ i ] = srcPlanes[ i ].clone(); }\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n\tthis.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) { data.defines = this.defines; }\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tvar extensions = {};\n\n\tfor ( var key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) { extensions[ key ] = true; }\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) { data.extensions = extensions; }\n\n\treturn data;\n\n};\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3();\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function recast( t ) {\n\n\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function distanceSqToPoint( point ) {\n\n\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t\t// point behind the ray\n\n\t\t\tif ( directionDistance < 0 ) {\n\n\t\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t\t}\n\n\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\t\treturn v1.distanceToSquared( point );\n\n\t\t};\n\n\t}(),\n\n\tdistanceSqToSegment: function () {\n\n\t\tvar segCenter = new Vector3();\n\t\tvar segDir = new Vector3();\n\t\tvar diff = new Vector3();\n\n\t\treturn function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\n\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\n\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\tvar c = diff.lengthSq();\n\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\tvar s0, s1, sqrDist, extDet;\n\n\t\t\tif ( det > 0 ) {\n\n\t\t\t\t// The ray and segment are not parallel.\n\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 5\n\n\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t\t// region 4\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 3\n\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 2\n\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Ray and segment are parallel.\n\n\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnRay ) {\n\n\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t\t}\n\n\t\t\tif ( optionalPointOnSegment ) {\n\n\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\n\t\t};\n\n\t}(),\n\n\tintersectSphere: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function intersectSphere( sphere, target ) {\n\n\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\t\tvar tca = v1.dot( this.direction );\n\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\t\tif ( d2 > radius2 ) { return null; }\n\n\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\tvar t0 = tca - thc;\n\n\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\tvar t1 = tca + thc;\n\n\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\tif ( t0 < 0 && t1 < 0 ) { return null; }\n\n\t\t\t// test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\tif ( t0 < 0 ) { return this.at( t1, target ); }\n\n\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\treturn this.at( t0, target );\n\n\t\t};\n\n\t}(),\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) { return null; }\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) { tmin = tymin; }\n\n\t\tif ( tymax < tmax || tmax !== tmax ) { tmax = tymax; }\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) { return null; }\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) { tmin = tzmin; }\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) { tmax = tzmax; }\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) { return null; }\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: ( function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function intersectsBox( box ) {\n\n\t\t\treturn this.intersectBox( box, v ) !== null;\n\n\t\t};\n\n\t} )(),\n\n\tintersectTriangle: function () {\n\n\t\t// Compute the offset origin, edges, and normal.\n\t\tvar diff = new Vector3();\n\t\tvar edge1 = new Vector3();\n\t\tvar edge2 = new Vector3();\n\t\tvar normal = new Vector3();\n\n\t\treturn function intersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t\tedge1.subVectors( b, a );\n\t\t\tedge2.subVectors( c, a );\n\t\t\tnormal.crossVectors( edge1, edge2 );\n\n\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\tvar sign;\n\n\t\t\tif ( DdN > 0 ) {\n\n\t\t\t\tif ( backfaceCulling ) { return null; }\n\t\t\t\tsign = 1;\n\n\t\t\t} else if ( DdN < 0 ) {\n\n\t\t\t\tsign = - 1;\n\t\t\t\tDdN = - DdN;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tdiff.subVectors( this.origin, a );\n\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\n\t\t\t// b1 < 0, no intersection\n\t\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\n\t\t\t// b2 < 0, no intersection\n\t\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// b1+b2 > 1, no intersection\n\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Line intersects triangle, check if ray does.\n\t\t\tvar QdN = - sign * diff.dot( normal );\n\n\t\t\t// t < 0, no intersection\n\t\t\tif ( QdN < 0 ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\t// Ray intersects triangle.\n\t\t\treturn this.at( QdN / DdN, target );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function () {\n\n\t\tvar v0 = new Vector3();\n\n\t\treturn function getNormal( a, b, c, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\ttarget.subVectors( c, b );\n\t\t\tv0.subVectors( a, b );\n\t\t\ttarget.cross( v0 );\n\n\t\t\tvar targetLengthSq = target.lengthSq();\n\t\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t\t}\n\n\t\t\treturn target.set( 0, 0, 0 );\n\n\t\t};\n\n\t}(),\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\t\tvar v2 = new Vector3();\n\n\t\treturn function getBarycoord( point, a, b, c, target ) {\n\n\t\t\tv0.subVectors( c, a );\n\t\t\tv1.subVectors( b, a );\n\t\t\tv2.subVectors( point, a );\n\n\t\t\tvar dot00 = v0.dot( v0 );\n\t\t\tvar dot01 = v0.dot( v1 );\n\t\t\tvar dot02 = v0.dot( v2 );\n\t\t\tvar dot11 = v1.dot( v1 );\n\t\t\tvar dot12 = v1.dot( v2 );\n\n\t\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\t// collinear or singular triangle\n\t\t\tif ( denom === 0 ) {\n\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t\t}\n\n\t\t\tvar invDenom = 1 / denom;\n\t\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t\t// barycentric coordinates must always sum to 1\n\t\t\treturn target.set( 1 - u - v, v, u );\n\n\t\t};\n\n\t}(),\n\n\tcontainsPoint: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function containsPoint( point, a, b, c ) {\n\n\t\t\tTriangle.getBarycoord( point, a, b, c, v1 );\n\n\t\t\treturn ( v1.x >= 0 ) && ( v1.y >= 0 ) && ( ( v1.x + v1.y ) <= 1 );\n\n\t\t};\n\n\t}(),\n\n\tgetUV: function () {\n\n\t\tvar barycoord = new Vector3();\n\n\t\treturn function getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\t\tthis.getBarycoord( point, p1, p2, p3, barycoord );\n\n\t\t\ttarget.set( 0, 0 );\n\t\t\ttarget.addScaledVector( uv1, barycoord.x );\n\t\t\ttarget.addScaledVector( uv2, barycoord.y );\n\t\t\ttarget.addScaledVector( uv3, barycoord.z );\n\n\t\t\treturn target;\n\n\t\t};\n\n\t}()\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\tvar v0 = new Vector3();\n\t\tvar v1 = new Vector3();\n\n\t\treturn function getArea() {\n\n\t\t\tv0.subVectors( this.c, this.b );\n\t\t\tv1.subVectors( this.a, this.b );\n\n\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\n\t\t};\n\n\t}(),\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, result ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, result );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function () {\n\n\t\tvar vab = new Vector3();\n\t\tvar vac = new Vector3();\n\t\tvar vbc = new Vector3();\n\t\tvar vap = new Vector3();\n\t\tvar vbp = new Vector3();\n\t\tvar vcp = new Vector3();\n\n\t\treturn function closestPointToPoint( p, target ) {\n\n\t\t\tif ( target === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\t\ttarget = new Vector3();\n\n\t\t\t}\n\n\t\t\tvar a = this.a, b = this.b, c = this.c;\n\t\t\tvar v, w;\n\n\t\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t\tvab.subVectors( b, a );\n\t\t\tvac.subVectors( c, a );\n\t\t\tvap.subVectors( p, a );\n\t\t\tvar d1 = vab.dot( vap );\n\t\t\tvar d2 = vac.dot( vap );\n\t\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\t\treturn target.copy( a );\n\n\t\t\t}\n\n\t\t\tvbp.subVectors( p, b );\n\t\t\tvar d3 = vab.dot( vbp );\n\t\t\tvar d4 = vac.dot( vbp );\n\t\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\t\treturn target.copy( b );\n\n\t\t\t}\n\n\t\t\tvar vc = d1 * d4 - d3 * d2;\n\t\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\t\treturn target.copy( a ).addScaledVector( vab, v );\n\n\t\t\t}\n\n\t\t\tvcp.subVectors( p, c );\n\t\t\tvar d5 = vab.dot( vcp );\n\t\t\tvar d6 = vac.dot( vcp );\n\t\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\t\treturn target.copy( c );\n\n\t\t\t}\n\n\t\t\tvar vb = d5 * d2 - d1 * d6;\n\t\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\t\treturn target.copy( a ).addScaledVector( vac, w );\n\n\t\t\t}\n\n\t\t\tvar va = d3 * d6 - d5 * d4;\n\t\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t\tvbc.subVectors( c, b );\n\t\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\t\treturn target.copy( b ).addScaledVector( vbc, w ); // edge region of BC\n\n\t\t\t}\n\n\t\t\t// face region\n\t\t\tvar denom = 1 / ( va + vb + vc );\n\t\t\t// u = va * denom\n\t\t\tv = vb * denom;\n\t\t\tw = vc * denom;\n\t\t\treturn target.copy( a ).addScaledVector( vab, v ).addScaledVector( vac, w );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\n\tthis.drawMode = TrianglesDrawMode;\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tsetDrawMode: function ( value ) {\n\n\t\tthis.drawMode = value;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.drawMode = source.drawMode;\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\tvar vA = new Vector3();\n\t\tvar vB = new Vector3();\n\t\tvar vC = new Vector3();\n\n\t\tvar tempA = new Vector3();\n\t\tvar tempB = new Vector3();\n\t\tvar tempC = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tvar intersectionPoint = new Vector3();\n\t\tvar intersectionPointWorld = new Vector3();\n\n\t\tfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\t\t\tvar intersect;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t\t\t} else {\n\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t\t\t}\n\n\t\t\tif ( intersect === null ) { return null; }\n\n\t\t\tintersectionPointWorld.copy( point );\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) { return null; }\n\n\t\t\treturn {\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectionPointWorld.clone(),\n\t\t\t\tobject: object\n\t\t\t};\n\n\t\t}\n\n\t\tfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, uv, a, b, c ) {\n\n\t\t\tvA.fromBufferAttribute( position, a );\n\t\t\tvB.fromBufferAttribute( position, b );\n\t\t\tvC.fromBufferAttribute( position, c );\n\n\t\t\tvar intersection = checkIntersection( object, material, raycaster, ray, vA, vB, vC, intersectionPoint );\n\n\t\t\tif ( intersection ) {\n\n\t\t\t\tif ( uv ) {\n\n\t\t\t\t\tuvA.fromBufferAttribute( uv, a );\n\t\t\t\t\tuvB.fromBufferAttribute( uv, b );\n\t\t\t\t\tuvC.fromBufferAttribute( uv, c );\n\n\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t\tvar face = new Face3( a, b, c );\n\t\t\t\tTriangle.getNormal( vA, vB, vC, face.normal );\n\n\t\t\t\tintersection.face = face;\n\n\t\t\t}\n\n\t\t\treturn intersection;\n\n\t\t}\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar material = this.material;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\tif ( material === undefined ) { return; }\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) { geometry.computeBoundingSphere(); }\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) { return; }\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\t// Check boundingBox before continuing\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tif ( ray.intersectsBox( geometry.boundingBox ) === false ) { return; }\n\n\t\t\t}\n\n\t\t\tvar intersection;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar position = geometry.attributes.position;\n\t\t\t\tvar uv = geometry.attributes.uv;\n\t\t\t\tvar groups = geometry.groups;\n\t\t\t\tvar drawRange = geometry.drawRange;\n\t\t\t\tvar i, j, il, jl;\n\t\t\t\tvar group, groupMaterial;\n\t\t\t\tvar start, end;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\t// indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\t\ta = i;\n\t\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar fvA, fvB, fvC;\n\t\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar uvs;\n\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\t\tif ( faceVertexUvs.length > 0 ) { uvs = faceVertexUvs; }\n\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tvar face = faces[ f ];\n\t\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\t\tif ( faceMaterial === undefined ) { continue; }\n\n\t\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\t\tif ( faceMaterial.morphTargets === true ) {\n\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = this.morphTargetInfluences;\n\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\n\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\n\t\t\t\t\t\t\tif ( influence === 0 ) { continue; }\n\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\n\t\t\t\t\t\t\tvA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\n\t\t\t\t\t\t\tvB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\n\t\t\t\t\t\t\tvC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvA.add( fvA );\n\t\t\t\t\t\tvB.add( fvB );\n\t\t\t\t\t\tvC.add( fvC );\n\n\t\t\t\t\t\tfvA = vA;\n\t\t\t\t\t\tfvB = vB;\n\t\t\t\t\t\tfvC = vC;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\n\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\t\tintersection.uv = Triangle.getUV( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC, new Vector2() );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tintersection.face = face;\n\t\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\t// Store the current background texture and its `version`\n\t// so we can recompile the material accordingly.\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\t\t\tcurrentBackground = null;\n\t\t\tcurrentBackgroundVersion = 0;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLRenderTargetCube ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.removeAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.removeAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.tCube.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLRenderTargetCube ? background.texture : background;\n\t\t\tboxMesh.material.uniforms.tCube.value = texture;\n\t\t\tboxMesh.material.uniforms.tFlip.value = ( background.isWebGLRenderTargetCube ) ? 1 : - 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t     currentBackgroundVersion !== texture.version ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.removeAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\t   currentBackgroundVersion !== background.version ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawArraysInstanced' : 'drawArraysInstancedANGLE' ]( mode, start, count, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) { return maxAnisotropy; }\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\n\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\tvar isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\n\tvar maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n\tvar maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\n\tvar maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\n\n\tvar maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\tvar maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\n\tvar maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\n\tvar maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tvar maxSamples = isWebGL2 ? gl.getParameter( gl.MAX_SAMPLES ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = {};\n\tvar wireframeAttributes = {};\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tvar attribute = wireframeAttributes[ buffergeometry.id ];\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\tdelete wireframeAttributes[ buffergeometry.id ];\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries[ geometry.id ];\n\n\t\tif ( buffergeometry ) { return buffergeometry; }\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries[ geometry.id ] = buffergeometry;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, gl.ELEMENT_ARRAY_BUFFER );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], gl.ARRAY_BUFFER );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], gl.ARRAY_BUFFER );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar attribute = wireframeAttributes[ geometry.id ];\n\n\t\tif ( attribute ) { return attribute; }\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\t// console.time( 'wireframe' );\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryAttributes.position.array;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// console.timeEnd( 'wireframe' );\n\n\t\tattribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\n\t\tattributes.update( attribute, gl.ELEMENT_ARRAY_BUFFER );\n\n\t\twireframeAttributes[ geometry.id ] = attribute;\n\n\t\treturn attribute;\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count ) {\n\n\t\tvar extension;\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\textension = gl;\n\n\t\t} else {\n\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ capabilities.isWebGL2 ? 'drawElementsInstanced' : 'drawElementsInstancedANGLE' ]( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\n\n\t\tinfo.update( count, mode, geometry.maxInstancedCount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase gl.TRIANGLES:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase gl.TRIANGLE_STRIP:\n\t\t\tcase gl.TRIANGLE_FAN:\n\t\t\t\trender.triangles += instanceCount * ( count - 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase gl.LINES:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase gl.LINE_STRIP:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase gl.LINE_LOOP:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase gl.POINTS:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\tvar length = objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) { geometry.removeAttribute( 'morphTarget' + i ); }\n\t\t\t\tif ( morphNormals ) { geometry.removeAttribute( 'morphNormal' + i ); }\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) { geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] ); }\n\t\t\t\t\tif ( morphNormals ) { geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] ); }\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( geometries, info ) {\n\n\tvar updateList = {};\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateList[ buffergeometry.id ] !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateList[ buffergeometry.id ] = frame;\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateList = {};\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data, width: width, height: height, depth: depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [renderer] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'renderer' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (renderer factorizations):\n *\n * .upload( gl, seq, values, renderer )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (renderer factorizations):\n *\n * .setValue( gl, name, value )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .set( gl, obj, prop )\n *\n * \t\tsets uniform from object and property with same name than uniform\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Base for inner nodes (including the root) ---\n\nfunction UniformContainer() {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) { return array; }\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) { return false; }\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) { return false; }\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( renderer, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\t{ r[ i ] = renderer.allocTextureUnit(); }\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValue1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) { return; }\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValue1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) { return; }\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValue2fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) { return; }\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValue3fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) { return; }\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValue4fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) { return; }\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValue2fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) { return; }\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) { return; }\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValue3fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) { return; }\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) { return; }\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValue4fm( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) { return; }\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) { return; }\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar unit = renderer.allocTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\trenderer.setTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValue2iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) { return; }\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValue3iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) { return; }\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValue4iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) { return; }\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1f; // FLOAT\n\t\tcase 0x8b50: return setValue2fv; // _VEC2\n\t\tcase 0x8b51: return setValue3fv; // _VEC3\n\t\tcase 0x8b52: return setValue4fv; // _VEC4\n\n\t\tcase 0x8b5a: return setValue2fm; // _MAT2\n\t\tcase 0x8b5b: return setValue3fm; // _MAT3\n\t\tcase 0x8b5c: return setValue4fm; // _MAT4\n\n\t\tcase 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n\t\tcase 0x8B5F: return setValueT3D1; // SAMPLER_3D\n\t\tcase 0x8b60: return setValueT6; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// Array of scalars\n\nfunction setValue1fv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) { return; }\n\n\tgl.uniform1fv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\nfunction setValue1iv( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) { return; }\n\n\tgl.uniform1iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 2 );\n\n\tif ( arraysEqual( cache, data ) ) { return; }\n\n\tgl.uniform2fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueV3a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 3 );\n\n\tif ( arraysEqual( cache, data ) ) { return; }\n\n\tgl.uniform3fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueV4a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 4 );\n\n\tif ( arraysEqual( cache, data ) ) { return; }\n\n\tgl.uniform4fv( this.addr, data );\n\n\tthis.updateCache( data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 4 );\n\n\tif ( arraysEqual( cache, data ) ) { return; }\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueM3a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 9 );\n\n\tif ( arraysEqual( cache, data ) ) { return; }\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\nfunction setValueM4a( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar data = flatten( v, this.size, 16 );\n\n\tif ( arraysEqual( cache, data ) ) { return; }\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n\tthis.updateCache( data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1a( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( renderer, n );\n\n\tif ( arraysEqual( cache, units ) === false ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6a( gl, v, renderer ) {\n\n\tvar cache = this.cache;\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( renderer, n );\n\n\tif ( arraysEqual( cache, units ) === false ) {\n\n\t\tgl.uniform1iv( this.addr, units );\n\t\tcopyArray( cache, units );\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\trenderer.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValue1fv; // FLOAT\n\t\tcase 0x8b50: return setValueV2a; // _VEC2\n\t\tcase 0x8b51: return setValueV3a; // _VEC3\n\t\tcase 0x8b52: return setValueV4a; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2a; // _MAT2\n\t\tcase 0x8b5b: return setValueM3a; // _MAT3\n\t\tcase 0x8b5c: return setValueM4a; // _MAT4\n\n\t\tcase 0x8b5e: return setValueT1a; // SAMPLER_2D\n\t\tcase 0x8b60: return setValueT6a; // SAMPLER_CUBE\n\n\t\tcase 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tUniformContainer.call( this ); // mix-in\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, renderer ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], renderer );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) { id = id | 0; } // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program, renderer ) {\n\n\tUniformContainer.call( this );\n\n\tthis.renderer = renderer;\n\n\tvar n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) { u.setValue( gl, value, this.renderer ); }\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) { this.setValue( gl, name, v ); }\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, renderer ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, renderer );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) { r.push( u ); }\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\tif ( gl.getShaderParameter( shader, gl.COMPILE_STATUS ) === false ) {\n\n\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\n\t}\n\n\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\n\t}\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( extensions, parameters, rendererExtensions ) {\n\n\textensions = extensions || {};\n\n\tvar chunks = [\n\t\t( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || ( parameters.normalMap && ! parameters.objectSpaceNormalMap ) || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) { continue; }\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\nfunction parseIncludes( string ) {\n\n\tvar pattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n\tfunction replace( match, include ) {\n\n\t\tvar replace = ShaderChunk[ include ];\n\n\t\tif ( replace === undefined ) {\n\n\t\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t\t}\n\n\t\treturn parseIncludes( replace );\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction unrollLoops( string ) {\n\n\tvar pattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n\tfunction replace( match, start, end, snippet ) {\n\n\t\tvar unroll = '';\n\n\t\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\t\tunroll += snippet.replace( /\\[ i \\]/g, '[ ' + i + ' ]' );\n\n\t\t}\n\n\t\treturn unroll;\n\n\t}\n\n\treturn string.replace( pattern, replace );\n\n}\n\nfunction WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities ) {\n\n\tvar gl = renderer.context;\n\n\tvar defines = material.defines;\n\n\tvar vertexShader = shader.vertexShader;\n\tvar fragmentShader = shader.fragmentShader;\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t}\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.envMap.mapping ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tswitch ( material.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\t// console.log( 'building new program ' );\n\n\t//\n\n\tvar customExtensions = capabilities.isWebGL2 ? '' : generateExtensions( material.extensions, parameters, extensions );\n\n\tvar customDefines = generateDefines( defines );\n\n\t//\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( material.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t'precision ' + parameters.precision + ' int;',\n\n\t\t\t'#define SHADER_NAME ' + shader.name,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\tparameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\tparameters.envMap && ( capabilities.isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = parseIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = parseIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( capabilities.isWebGL2 && ! material.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( material.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( material.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\tvar runnable = true;\n\tvar haveDiagnostics = true;\n\n\t// console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n\t// console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n\tif ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\n\n\t\trunnable = false;\n\n\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\n\t} else if ( programLog !== '' ) {\n\n\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\thaveDiagnostics = false;\n\n\t}\n\n\tif ( haveDiagnostics ) {\n\n\t\tthis.diagnostics = {\n\n\t\t\trunnable: runnable,\n\t\t\tmaterial: material,\n\n\t\t\tprogramLog: programLog,\n\n\t\t\tvertexShader: {\n\n\t\t\t\tlog: vertexLog,\n\t\t\t\tprefix: prefixVertex\n\n\t\t\t},\n\n\t\t\tfragmentShader: {\n\n\t\t\t\tlog: fragmentLog,\n\t\t\t\tprefix: prefixFragment\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// clean up\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program, renderer );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t// DEPRECATED\n\n\tObject.defineProperties( this, {\n\n\t\tuniforms: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n\t\t\t\treturn this.getUniforms();\n\n\t\t\t}\n\t\t},\n\n\t\tattributes: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n\t\t\t\treturn this.getAttributes();\n\n\t\t\t}\n\t\t}\n\n\t} );\n\n\n\t//\n\n\tthis.name = shader.name;\n\tthis.id = programIdCount ++;\n\tthis.code = code;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'phong',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\",\n\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\"\n\t];\n\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map, gammaOverrideLinear ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\t// add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\t\tif ( encoding === LinearEncoding && gammaOverrideLinear ) {\n\n\t\t\tencoding = GammaEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\t\tvar precision = capabilities.precision;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tshaderID: shaderID,\n\n\t\t\tprecision: precision,\n\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\t\toutputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap, renderer.gammaInput ),\n\t\t\tenvMap: !! material.envMap,\n\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\n\t\t\tenvMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexColors: material.vertexColors,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: capabilities.floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: renderer.toneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCode = function ( material, parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( material.fragmentShader );\n\t\t\tarray.push( material.vertexShader );\n\n\t\t}\n\n\t\tif ( material.defines !== undefined ) {\n\n\t\t\tfor ( var name in material.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( material.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t}\n\n\t\tarray.push( material.onBeforeCompile.toString() );\n\n\t\tarray.push( renderer.gammaOutput );\n\n\t\tarray.push( renderer.gammaFactor );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( material, shader, parameters, code ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar programInfo = programs[ p ];\n\n\t\t\tif ( programInfo.code === code ) {\n\n\t\t\t\tprogram = programInfo;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program && b.program && a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort() {\n\n\t\tif ( opaque.length > 1 ) { opaque.sort( painterSortStable ); }\n\t\tif ( transparent.length > 1 ) { transparent.sort( reversePainterSortStable ); }\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = {};\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tdelete lists[ scene.id ];\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists[ scene.id ];\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists[ scene.id ] = {};\n\t\t\tlists[ scene.id ][ camera.id ] = list;\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras[ camera.id ];\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras[ camera.id ] = list;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0,\n\n\t\t\t\t\t\tshadow: false,\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nvar count = 0;\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar state = {\n\n\t\tid: count ++,\n\n\t\thash: {\n\t\t\tstateID: - 1,\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\t\t\tshadowsLength: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tdirectional: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tuniforms.shadow = light.castShadow;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tuniforms.shadowBias = shadow.bias;\n\t\t\t\t\tuniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tuniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tuniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tuniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t}\n\n\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tstate.directional.length = directionalLength;\n\t\tstate.spot.length = spotLength;\n\t\tstate.rectArea.length = rectAreaLength;\n\t\tstate.point.length = pointLength;\n\t\tstate.hemi.length = hemiLength;\n\n\t\tstate.hash.stateID = state.id;\n\t\tstate.hash.directionalLength = directionalLength;\n\t\tstate.hash.pointLength = pointLength;\n\t\tstate.hash.spotLength = spotLength;\n\t\tstate.hash.rectAreaLength = rectAreaLength;\n\t\tstate.hash.hemiLength = hemiLength;\n\t\tstate.hash.shadowsLength = shadows.length;\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = {};\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tdelete renderStates[ scene.id ];\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates[ scene.id ] === undefined ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates[ scene.id ] = {};\n\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates[ scene.id ][ camera.id ] === undefined ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates[ scene.id ][ camera.id ] = renderState;\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates[ scene.id ][ camera.id ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = {};\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\n\n\t\t_lookTarget = new Vector3(),\n\t\t_lightPositionWorld = new Vector3(),\n\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants ),\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tvar cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n\tvar cube2DViewPorts = [\n\t\tnew Vector4(), new Vector4(), new Vector4(),\n\t\tnew Vector4(), new Vector4(), new Vector4()\n\t];\n\n\t// init\n\n\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\n\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\n\t\tvar depthMaterial = new MeshDepthMaterial( {\n\n\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_depthMaterials[ i ] = depthMaterial;\n\n\t\t//\n\n\t\tvar distanceMaterial = new MeshDistanceMaterial( {\n\n\t\t\tmorphTargets: useMorphing,\n\t\t\tskinning: useSkinning\n\n\t\t} );\n\n\t\t_distanceMaterials[ i ] = distanceMaterial;\n\n\t}\n\n\t//\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) { return; }\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) { return; }\n\n\t\tif ( lights.length === 0 ) { return; }\n\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tvar faceCount;\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\t\t\tvar isPointLight = light && light.isPointLight;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar shadowCamera = shadow.camera;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\t\t\t_shadowMapSize.min( _maxShadowMapSize );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tvar vpWidth = _shadowMapSize.x;\n\t\t\t\tvar vpHeight = _shadowMapSize.y;\n\n\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t\t// following orientation:\n\t\t\t\t//\n\t\t\t\t//  xzXZ\n\t\t\t\t//   y Y\n\t\t\t\t//\n\t\t\t\t// X - Positive x direction\n\t\t\t\t// x - Negative x direction\n\t\t\t\t// Y - Positive y direction\n\t\t\t\t// y - Negative y direction\n\t\t\t\t// Z - Positive z direction\n\t\t\t\t// z - Negative z direction\n\n\t\t\t\t// positive X\n\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative X\n\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Z\n\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// negative Z\n\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n\t\t\t\t// positive Y\n\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n\t\t\t\t// negative Y\n\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\n\t\t\t\t_shadowMapSize.x *= 4.0;\n\t\t\t\t_shadowMapSize.y *= 2.0;\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadowCamera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.isSpotLightShadow ) {\n\n\t\t\t\tshadow.update( light );\n\n\t\t\t}\n\n\t\t\tvar shadowMap = shadow.map;\n\t\t\tvar shadowMatrix = shadow.matrix;\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\t\tshadowCamera.position.copy( _lightPositionWorld );\n\n\t\t\tif ( isPointLight ) {\n\n\t\t\t\tfaceCount = 6;\n\n\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\n\t\t\t\t// equal to inverse of the light's position\n\n\t\t\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t\t} else {\n\n\t\t\t\tfaceCount = 1;\n\n\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t// compute shadow matrix\n\n\t\t\t\tshadowMatrix.set(\n\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t\t);\n\n\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t_renderer.clear();\n\n\t\t\t// render shadow map for each cube face (if omni-directional) or\n\t\t\t// run a single pass if not\n\n\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\n\n\t\t\t\tif ( isPointLight ) {\n\n\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\n\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\n\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\n\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\n\t\t\t\t\t_state.viewport( vpDimensions );\n\n\t\t\t\t}\n\n\t\t\t\t// update camera matrices and frustum\n\n\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t\t\t// set object matrices & frustum culling\n\n\t\t\t\trenderObject( scene, camera, shadowCamera, isPointLight );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t};\n\n\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar materialVariants = _depthMaterials;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( isPointLight ) {\n\n\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( ! customMaterial ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets ) {\n\n\t\t\t\tif ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry && geometry.isGeometry ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( object.isSkinnedMesh && material.skinning === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t}\n\n\t\t\tvar useSkinning = object.isSkinnedMesh && material.skinning;\n\n\t\t\tvar variantIndex = 0;\n\n\t\t\tif ( useMorphing ) { variantIndex |= _MorphingFlag; }\n\t\t\tif ( useSkinning ) { variantIndex |= _SkinningFlag; }\n\n\t\t\tresult = materialVariants[ variantIndex ];\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tresult.side = ( material.shadowSide != null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( isPointLight && result.isMeshDistanceMaterial ) {\n\n\t\t\tresult.referencePosition.copy( lightPositionWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, isPointLight ) {\n\n\t\tif ( object.visible === false ) { return; }\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, isPointLight );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, utils, capabilities ) {\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( gl.DEPTH_TEST );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( gl.DEPTH_TEST );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NEVER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.ALWAYS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LESS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.EQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GREATER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NOTEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\tenable( gl.STENCIL_TEST );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( gl.STENCIL_TEST );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar compressedTextureFormats = null;\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( gl.VERSION );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( type, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ gl.TEXTURE_2D ] = createTexture( gl.TEXTURE_2D, gl.TEXTURE_2D, 1 );\n\temptyTextures[ gl.TEXTURE_CUBE_MAP ] = createTexture( gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( gl.DEPTH_TEST );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( gl.CULL_FACE );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction getCompressedTextureFormats() {\n\n\t\tif ( compressedTextureFormats === null ) {\n\n\t\t\tcompressedTextureFormats = [];\n\n\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_etc1' ) ||\n\t\t\t     extensions.get( 'WEBGL_compressed_texture_astc' ) ) {\n\n\t\t\t\tvar formats = gl.getParameter( gl.COMPRESSED_TEXTURE_FORMATS );\n\n\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\n\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn compressedTextureFormats;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( gl.BLEND );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( gl.BLEND );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ONE, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.SRC_COLOR );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( gl.CULL_FACE )\n\t\t\t: enable( gl.CULL_FACE );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) { flipSided = ! flipSided; }\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( gl.CW );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( gl.CCW );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( gl.CULL_FACE );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( gl.BACK );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT_AND_BACK );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.CULL_FACE );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) { gl.lineWidth( width ); }\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( gl.POLYGON_OFFSET_FILL );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.POLYGON_OFFSET_FILL );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( gl.SCISSOR_TEST );\n\n\t\t} else {\n\n\t\t\tdisable( gl.SCISSOR_TEST );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) { webglSlot = gl.TEXTURE0 + maxTextures - 1; }\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcompressedTextureFormats = null;\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\t\tgetCompressedTextureFormats: getCompressedTextureFormats,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar _videoTextures = {};\n\tvar _canvas;\n\n\t//\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tvar scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement || image instanceof ImageBitmap ) {\n\n\t\t\t\tif ( _canvas === undefined ) { _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ); }\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tvar canvas = needsNewCanvas ? document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ) : _canvas;\n\n\t\t\t\tvar floor = needsPowerOfTwo ? _Math.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tcanvas.width = floor( scale * image.width );\n\t\t\t\tcanvas.height = floor( scale * image.height );\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, canvas.width, canvas.height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + canvas.width + 'x' + canvas.height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( capabilities.isWebGL2 ) { return false; }\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( glFormat, glType ) {\n\n\t\tif ( ! capabilities.isWebGL2 ) { return glFormat; }\n\n\t\tvar internalFormat = glFormat;\n\n\t\tif ( glFormat === _gl.RED ) {\n\n\t\t\tif ( glType === _gl.FLOAT ) { internalFormat = _gl.R32F; }\n\t\t\tif ( glType === _gl.HALF_FLOAT ) { internalFormat = _gl.R16F; }\n\t\t\tif ( glType === _gl.UNSIGNED_BYTE ) { internalFormat = _gl.R8; }\n\n\t\t}\n\n\t\tif ( glFormat === _gl.RGB ) {\n\n\t\t\tif ( glType === _gl.FLOAT ) { internalFormat = _gl.RGB32F; }\n\t\t\tif ( glType === _gl.HALF_FLOAT ) { internalFormat = _gl.RGB16F; }\n\t\t\tif ( glType === _gl.UNSIGNED_BYTE ) { internalFormat = _gl.RGB8; }\n\n\t\t}\n\n\t\tif ( glFormat === _gl.RGBA ) {\n\n\t\t\tif ( glType === _gl.FLOAT ) { internalFormat = _gl.RGBA32F; }\n\t\t\tif ( glType === _gl.HALF_FLOAT ) { internalFormat = _gl.RGBA16F; }\n\t\t\tif ( glType === _gl.UNSIGNED_BYTE ) { internalFormat = _gl.RGBA8; }\n\n\t\t}\n\n\t\tif ( internalFormat === _gl.R16F || internalFormat === _gl.R32F ||\n\t\t\tinternalFormat === _gl.RGBA16F || internalFormat === _gl.RGBA32F ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t} else if ( internalFormat === _gl.RGB16F || internalFormat === _gl.RGB32F ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\n\n\t\t\treturn _gl.NEAREST;\n\n\t\t}\n\n\t\treturn _gl.LINEAR;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\tdelete _videoTextures[ texture.id ];\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image && textureProperties.__image__webglTextureCube ) {\n\n\t\t\t// cube texture\n\n\t\t\t_gl.deleteTexture( textureProperties.__image__webglTextureCube );\n\n\t\t} else {\n\n\t\t\t// 2D texture\n\n\t\t\tif ( textureProperties.__webglInit === undefined ) { return; }\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\t// remove all webgl properties\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) { return; }\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) { _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] ); }\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) { _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer ); }\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) { updateVideoTexture( texture ); }\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_3D, textureProperties.__webglTexture );\n\n\t}\n\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.image.length === 6 ) {\n\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\t\tif ( ! textureProperties.__image__webglTextureCube ) {\n\n\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\ttextureProperties.__image__webglTextureCube = _gl.createTexture();\n\n\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n\t\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\n\t\t\t\tvar isCompressed = ( texture && texture.isCompressedTexture );\n\t\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\t\tvar cubeImage = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, capabilities.maxCubemapSize );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\t\tsupportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, supportsMips );\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! isCompressed ) {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\t\tgenerateMipmap( _gl.TEXTURE_CUBE_MAP, texture, image.width, image.height );\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\t\tif ( texture.onUpdate ) { texture.onUpdate( texture ); }\n\n\t\t\t} else {\n\n\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tvar extension;\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, utils.convert( texture.wrapS ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, utils.convert( texture.wrapT ) );\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, utils.convert( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, utils.convert( texture.minFilter ) );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) { return; }\n\t\t\tif ( texture.type === HalfFloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) { return; }\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType;\n\n\t\tif ( texture.isDataTexture3D ) {\n\n\t\t\ttextureType = _gl.TEXTURE_3D;\n\n\t\t} else {\n\n\t\t\ttextureType = _gl.TEXTURE_2D;\n\n\t\t}\n\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\n\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\n\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, capabilities.maxTextureSize );\n\n\t\tvar supportsMips = isPowerOfTwo( image ) || capabilities.isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( ! capabilities.isWebGL2 ) { throw new Error( 'Float Depth Texture only supported in WebGL2.0' ); }\n\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT32F;\n\n\t\t\t} else if ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT16;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === _gl.DEPTH_COMPONENT ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = _gl.DEPTH_STENCIL;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( _gl.TEXTURE_3D, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( _gl.TEXTURE_2D, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) { texture.onUpdate( texture ); }\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else {\n\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\n\t\tif ( isCube ) { throw new Error( 'Depth Texture with cube render targets is not supported' ); }\n\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) { throw new Error( 'target.depthTexture not supported in Cube render targets' ); }\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLRenderTargetCube === true );\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( glFormat, glType );\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( _gl.TEXTURE_2D, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( _gl.TEXTURE_2D, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || capabilities.isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( _gl.READ_FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( _gl.DRAW_FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar mask = _gl.COLOR_BUFFER_BIT;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) { mask |= _gl.DEPTH_BUFFER_BIT; }\n\t\t\t\tif ( renderTarget.stencilBuffer ) { mask |= _gl.STENCIL_BUFFER_BIT; }\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, _gl.NEAREST );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( capabilities.isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( capabilities.maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar id = texture.id;\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures[ id ] !== frame ) {\n\n\t\t\t_videoTextures[ id ] = frame;\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === RepeatWrapping ) { return gl.REPEAT; }\n\t\tif ( p === ClampToEdgeWrapping ) { return gl.CLAMP_TO_EDGE; }\n\t\tif ( p === MirroredRepeatWrapping ) { return gl.MIRRORED_REPEAT; }\n\n\t\tif ( p === NearestFilter ) { return gl.NEAREST; }\n\t\tif ( p === NearestMipMapNearestFilter ) { return gl.NEAREST_MIPMAP_NEAREST; }\n\t\tif ( p === NearestMipMapLinearFilter ) { return gl.NEAREST_MIPMAP_LINEAR; }\n\n\t\tif ( p === LinearFilter ) { return gl.LINEAR; }\n\t\tif ( p === LinearMipMapNearestFilter ) { return gl.LINEAR_MIPMAP_NEAREST; }\n\t\tif ( p === LinearMipMapLinearFilter ) { return gl.LINEAR_MIPMAP_LINEAR; }\n\n\t\tif ( p === UnsignedByteType ) { return gl.UNSIGNED_BYTE; }\n\t\tif ( p === UnsignedShort4444Type ) { return gl.UNSIGNED_SHORT_4_4_4_4; }\n\t\tif ( p === UnsignedShort5551Type ) { return gl.UNSIGNED_SHORT_5_5_5_1; }\n\t\tif ( p === UnsignedShort565Type ) { return gl.UNSIGNED_SHORT_5_6_5; }\n\n\t\tif ( p === ByteType ) { return gl.BYTE; }\n\t\tif ( p === ShortType ) { return gl.SHORT; }\n\t\tif ( p === UnsignedShortType ) { return gl.UNSIGNED_SHORT; }\n\t\tif ( p === IntType ) { return gl.INT; }\n\t\tif ( p === UnsignedIntType ) { return gl.UNSIGNED_INT; }\n\t\tif ( p === FloatType ) { return gl.FLOAT; }\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) { return gl.HALF_FLOAT; }\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) { return extension.HALF_FLOAT_OES; }\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) { return gl.ALPHA; }\n\t\tif ( p === RGBFormat ) { return gl.RGB; }\n\t\tif ( p === RGBAFormat ) { return gl.RGBA; }\n\t\tif ( p === LuminanceFormat ) { return gl.LUMINANCE; }\n\t\tif ( p === LuminanceAlphaFormat ) { return gl.LUMINANCE_ALPHA; }\n\t\tif ( p === DepthFormat ) { return gl.DEPTH_COMPONENT; }\n\t\tif ( p === DepthStencilFormat ) { return gl.DEPTH_STENCIL; }\n\t\tif ( p === RedFormat ) { return gl.RED; }\n\n\t\tif ( p === AddEquation ) { return gl.FUNC_ADD; }\n\t\tif ( p === SubtractEquation ) { return gl.FUNC_SUBTRACT; }\n\t\tif ( p === ReverseSubtractEquation ) { return gl.FUNC_REVERSE_SUBTRACT; }\n\n\t\tif ( p === ZeroFactor ) { return gl.ZERO; }\n\t\tif ( p === OneFactor ) { return gl.ONE; }\n\t\tif ( p === SrcColorFactor ) { return gl.SRC_COLOR; }\n\t\tif ( p === OneMinusSrcColorFactor ) { return gl.ONE_MINUS_SRC_COLOR; }\n\t\tif ( p === SrcAlphaFactor ) { return gl.SRC_ALPHA; }\n\t\tif ( p === OneMinusSrcAlphaFactor ) { return gl.ONE_MINUS_SRC_ALPHA; }\n\t\tif ( p === DstAlphaFactor ) { return gl.DST_ALPHA; }\n\t\tif ( p === OneMinusDstAlphaFactor ) { return gl.ONE_MINUS_DST_ALPHA; }\n\n\t\tif ( p === DstColorFactor ) { return gl.DST_COLOR; }\n\t\tif ( p === OneMinusDstColorFactor ) { return gl.ONE_MINUS_DST_COLOR; }\n\t\tif ( p === SrcAlphaSaturateFactor ) { return gl.SRC_ALPHA_SATURATE; }\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) { return extension.COMPRESSED_RGB_S3TC_DXT1_EXT; }\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) { return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT; }\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) { return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT; }\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) { return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT; }\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) { return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG; }\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) { return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG; }\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) { return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG; }\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) { return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG; }\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) { return extension.COMPRESSED_RGB_ETC1_WEBGL; }\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn p;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === MinEquation || p === MaxEquation ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tif ( p === MinEquation ) { return gl.MIN; }\n\t\t\t\tif ( p === MaxEquation ) { return gl.MAX; }\n\n\t\t\t}\n\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === MinEquation ) { return extension.MIN_EXT; }\n\t\t\t\tif ( p === MaxEquation ) { return extension.MAX_EXT; }\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) { return gl.UNSIGNED_INT_24_8; }\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) { return extension.UNSIGNED_INT_24_8_WEBGL; }\n\n\t\t}\n\n\t\treturn 0;\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn _Math.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) { left += near * skew / this.getFilmWidth(); }\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) { data.object.view = Object.assign( {}, this.view ); }\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author jsantell / https://www.jsantell.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar cameraLPos = new Vector3();\nvar cameraRPos = new Vector3();\n\n/**\n * Assumes 2 cameras that are parallel and share an X-axis, and that\n * the cameras' projection and world matrices have already been set.\n * And that near and far planes are identical for both cameras.\n * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n */\nfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\tvar projL = cameraL.projectionMatrix.elements;\n\tvar projR = cameraR.projectionMatrix.elements;\n\n\t// VR systems will have identical far and near planes, and\n\t// most likely identical top and bottom frustum extents.\n\t// Use the left camera for these values.\n\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\tvar left = near * leftFov;\n\tvar right = near * rightFov;\n\n\t// Calculate the new camera's position offset from the\n\t// left camera. xOffset should be roughly half `ipd`.\n\tvar zOffset = ipd / ( - leftFov + rightFov );\n\tvar xOffset = zOffset * - leftFov;\n\n\t// TODO: Better way to apply this offset?\n\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\tcamera.translateX( xOffset );\n\tcamera.translateZ( zOffset );\n\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t// Find the union of the frustum values of the cameras and scale\n\t// the values so that the near plane's position does not change in world space,\n\t// although must now be relative to the new union camera.\n\tvar near2 = near + zOffset;\n\tvar far2 = far + zOffset;\n\tvar left2 = left - xOffset;\n\tvar right2 = right + ( ipd - xOffset );\n\tvar top2 = topFov * far / far2 * near2;\n\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebVRManager( renderer ) {\n\n\tvar scope = this;\n\n\tvar device = null;\n\tvar frameData = null;\n\n\tvar poseTarget = null;\n\n\tvar controllers = [];\n\tvar standingMatrix = new Matrix4();\n\tvar standingMatrixInverse = new Matrix4();\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar frameOfReferenceType = 'stage';\n\n\tif ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\n\n\t\tframeData = new window.VRFrameData();\n\t\twindow.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\n\n\t}\n\n\tvar matrixWorldInverse = new Matrix4();\n\tvar tempQuaternion = new Quaternion();\n\tvar tempPosition = new Vector3();\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.bounds = new Vector4( 0.0, 0.0, 0.5, 1.0 );\n\tcameraL.layers.enable( 1 );\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.bounds = new Vector4( 0.5, 0.0, 0.5, 1.0 );\n\tcameraR.layers.enable( 2 );\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tfunction isPresenting() {\n\n\t\treturn device !== null && device.isPresenting === true;\n\n\t}\n\n\tvar currentSize, currentPixelRatio;\n\n\tfunction onVRDisplayPresentChange() {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar eyeParameters = device.getEyeParameters( 'left' );\n\t\t\tvar renderWidth = eyeParameters.renderWidth * framebufferScaleFactor;\n\t\t\tvar renderHeight = eyeParameters.renderHeight * framebufferScaleFactor;\n\n\t\t\tcurrentPixelRatio = renderer.getPixelRatio();\n\t\t\tcurrentSize = renderer.getSize();\n\n\t\t\trenderer.setDrawingBufferSize( renderWidth * 2, renderHeight, 1 );\n\n\t\t\tanimation.start();\n\n\t\t} else {\n\n\t\t\tif ( scope.enabled ) {\n\n\t\t\t\trenderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\n\n\t\t\t}\n\n\t\t\tanimation.stop();\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar triggers = [];\n\n\tfunction findGamepad( id ) {\n\n\t\tvar gamepads = navigator.getGamepads && navigator.getGamepads();\n\n\t\tfor ( var i = 0, j = 0, l = gamepads.length; i < l; i ++ ) {\n\n\t\t\tvar gamepad = gamepads[ i ];\n\n\t\t\tif ( gamepad && ( gamepad.id === 'Daydream Controller' ||\n\t\t\t\tgamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' ||\n\t\t\t\tgamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith( 'Oculus Touch' ) ||\n\t\t\t\tgamepad.id.startsWith( 'Spatial Controller' ) ) ) {\n\n\t\t\t\tif ( j === id ) { return gamepad; }\n\n\t\t\t\tj ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateControllers() {\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar gamepad = findGamepad( i );\n\n\t\t\tif ( gamepad !== undefined && gamepad.pose !== undefined ) {\n\n\t\t\t\tif ( gamepad.pose === null ) { return; }\n\n\t\t\t\t//  Pose\n\n\t\t\t\tvar pose = gamepad.pose;\n\n\t\t\t\tif ( pose.hasPosition === false ) { controller.position.set( 0.2, - 0.6, - 0.05 ); }\n\n\t\t\t\tif ( pose.position !== null ) { controller.position.fromArray( pose.position ); }\n\t\t\t\tif ( pose.orientation !== null ) { controller.quaternion.fromArray( pose.orientation ); }\n\t\t\t\tcontroller.matrix.compose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrix.premultiply( standingMatrix );\n\t\t\t\tcontroller.matrix.decompose( controller.position, controller.quaternion, controller.scale );\n\t\t\t\tcontroller.matrixWorldNeedsUpdate = true;\n\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t//  Trigger\n\n\t\t\t\tvar buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;\n\n\t\t\t\tif ( triggers[ i ] !== gamepad.buttons[ buttonId ].pressed ) {\n\n\t\t\t\t\ttriggers[ i ] = gamepad.buttons[ buttonId ].pressed;\n\n\t\t\t\t\tif ( triggers[ i ] === true ) {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectstart' } );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'selectend' } );\n\t\t\t\t\t\tcontroller.dispatchEvent( { type: 'select' } );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tcontroller.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) { device = value; }\n\n\t\tanimation.setContext( value );\n\n\t};\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setFrameOfReferenceType = function ( value ) {\n\n\t\tframeOfReferenceType = value;\n\n\t};\n\n\tthis.setPoseTarget = function ( object ) {\n\n\t\tif ( object !== undefined ) { poseTarget = object; }\n\n\t};\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tvar userHeight = frameOfReferenceType === 'stage' ? 1.6 : 0;\n\n\t\tif ( device === null ) {\n\n\t\t\tcamera.position.set( 0, userHeight, 0 );\n\t\t\treturn camera;\n\n\t\t}\n\n\t\tdevice.depthNear = camera.near;\n\t\tdevice.depthFar = camera.far;\n\n\t\tdevice.getFrameData( frameData );\n\n\t\t//\n\n\t\tif ( frameOfReferenceType === 'stage' ) {\n\n\t\t\tvar stageParameters = device.stageParameters;\n\n\t\t\tif ( stageParameters ) {\n\n\t\t\t\tstandingMatrix.fromArray( stageParameters.sittingToStandingTransform );\n\n\t\t\t} else {\n\n\t\t\t\tstandingMatrix.makeTranslation( 0, userHeight, 0 );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar pose = frameData.pose;\n\t\tvar poseObject = poseTarget !== null ? poseTarget : camera;\n\n\t\t// We want to manipulate poseObject by its position and quaternion components since users may rely on them.\n\t\tposeObject.matrix.copy( standingMatrix );\n\t\tposeObject.matrix.decompose( poseObject.position, poseObject.quaternion, poseObject.scale );\n\n\t\tif ( pose.orientation !== null ) {\n\n\t\t\ttempQuaternion.fromArray( pose.orientation );\n\t\t\tposeObject.quaternion.multiply( tempQuaternion );\n\n\t\t}\n\n\t\tif ( pose.position !== null ) {\n\n\t\t\ttempQuaternion.setFromRotationMatrix( standingMatrix );\n\t\t\ttempPosition.fromArray( pose.position );\n\t\t\ttempPosition.applyQuaternion( tempQuaternion );\n\t\t\tposeObject.position.add( tempPosition );\n\n\t\t}\n\n\t\tposeObject.updateMatrixWorld();\n\n\t\tif ( device.isPresenting === false ) { return camera; }\n\n\t\t//\n\n\t\tcameraL.near = camera.near;\n\t\tcameraR.near = camera.near;\n\n\t\tcameraL.far = camera.far;\n\t\tcameraR.far = camera.far;\n\n\t\tcameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\n\t\tcameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\n\n\t\t// TODO (mrdoob) Double check this code\n\n\t\tstandingMatrixInverse.getInverse( standingMatrix );\n\n\t\tif ( frameOfReferenceType === 'stage' ) {\n\n\t\t\tcameraL.matrixWorldInverse.multiply( standingMatrixInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( standingMatrixInverse );\n\n\t\t}\n\n\t\tvar parent = poseObject.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\n\t\t\tcameraL.matrixWorldInverse.multiply( matrixWorldInverse );\n\t\t\tcameraR.matrixWorldInverse.multiply( matrixWorldInverse );\n\n\t\t}\n\n\t\t// envMap and Mirror needs camera.matrixWorld\n\n\t\tcameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\n\t\tcameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\n\n\t\tcameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\n\t\tcameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t//\n\n\t\tvar layers = device.getLayers();\n\n\t\tif ( layers.length ) {\n\n\t\t\tvar layer = layers[ 0 ];\n\n\t\t\tif ( layer.leftBounds !== null && layer.leftBounds.length === 4 ) {\n\n\t\t\t\tcameraL.bounds.fromArray( layer.leftBounds );\n\n\t\t\t}\n\n\t\t\tif ( layer.rightBounds !== null && layer.rightBounds.length === 4 ) {\n\n\t\t\t\tcameraR.bounds.fromArray( layer.rightBounds );\n\n\t\t\t}\n\n\t\t}\n\n\t\tupdateControllers();\n\n\t\treturn cameraVR;\n\n\t};\n\n\tthis.getStandingMatrix = function () {\n\n\t\treturn standingMatrix;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar animation = new WebGLAnimation();\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tanimation.setAnimationLoop( callback );\n\n\t};\n\n\tthis.submitFrame = function () {\n\n\t\tif ( isPresenting() ) { device.submitFrame(); }\n\n\t};\n\n\tthis.dispose = function () {\n\n\t\tif ( typeof window !== 'undefined' ) {\n\n\t\t\twindow.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer ) {\n\n\tvar gl = renderer.context;\n\n\tvar device = null;\n\tvar session = null;\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar frameOfReference = null;\n\tvar frameOfReferenceType = 'stage';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSources = [];\n\n\tfunction isPresenting() {\n\n\t\treturn session !== null && frameOfReference !== null;\n\n\t}\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new Group();\n\t\t\tcontroller.matrixAutoUpdate = false;\n\t\t\tcontroller.visible = false;\n\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\treturn controller;\n\n\t};\n\n\tthis.getDevice = function () {\n\n\t\treturn device;\n\n\t};\n\n\tthis.setDevice = function ( value ) {\n\n\t\tif ( value !== undefined ) { device = value; }\n\t\tif ( value instanceof XRDevice ) { gl.setCompatibleXRDevice( value ); }\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tvar controller = controllers[ inputSources.indexOf( event.inputSource ) ];\n\t\tif ( controller ) { controller.dispatchEvent( { type: event.type } ); }\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\trenderer.setFramebuffer( null );\n\t\tanimation.stop();\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t};\n\n\tthis.setFrameOfReferenceType = function ( value ) {\n\n\t\tframeOfReferenceType = value;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tsession.baseLayer = new XRWebGLLayer( session, gl, { framebufferScaleFactor: framebufferScaleFactor } );\n\t\t\tsession.requestFrameOfReference( frameOfReferenceType ).then( function ( value ) {\n\n\t\t\t\tframeOfReference = value;\n\n\t\t\t\trenderer.setFramebuffer( session.baseLayer.framebuffer );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t} );\n\n\t\t\t//\n\n\t\t\tinputSources = session.getInputSources();\n\n\t\t\tsession.addEventListener( 'inputsourceschange', function () {\n\n\t\t\t\tinputSources = session.getInputSources();\n\t\t\t\tconsole.log( inputSources );\n\n\t\t\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\t\tvar controller = controllers[ i ];\n\t\t\t\t\tcontroller.userData.inputSource = inputSources[ i ];\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t};\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tif ( isPresenting() ) {\n\n\t\t\tvar parent = camera.parent;\n\t\t\tvar cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tvar children = camera.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\treturn cameraVR;\n\n\t\t}\n\n\t\treturn camera;\n\n\t};\n\n\tthis.isPresenting = isPresenting;\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getDevicePose( frameOfReference );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar layer = session.baseLayer;\n\t\t\tvar views = frame.views;\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = layer.getViewport( view );\n\t\t\t\tvar viewMatrix = pose.getViewMatrix( view );\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( viewMatrix ).getInverse( camera.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tvar inputPose = frame.getInputPose( inputSource, frameOfReference );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\tif ( 'targetRay' in inputPose ) {\n\n\t\t\t\t\t\tcontroller.matrix.elements = inputPose.targetRay.transformMatrix;\n\n\t\t\t\t\t} else if ( 'pointerMatrix' in inputPose ) {\n\n\t\t\t\t\t\t// DEPRECATED\n\n\t\t\t\t\t\tcontroller.matrix.elements = inputPose.pointerMatrix;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontroller.matrix.decompose( controller.position, controller.rotation, controller.scale );\n\t\t\t\t\tcontroller.visible = true;\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tcontroller.visible = false;\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) { onAnimationFrameCallback( time ); }\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n\t// DEPRECATED\n\n\tthis.getStandingMatrix = function () {\n\n\t\tconsole.warn( 'THREE.WebXRManager: getStandingMatrix() is no longer needed.' );\n\t\treturn new THREE.Matrix4();\n\n\t};\n\n\tthis.submitFrame = function () {};\n\n}\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tconsole.log( 'THREE.WebGLRenderer', REVISION );\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default';\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\tthis.context = null;\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.gammaInput = false;\n\tthis.gammaOutput = false;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_usedTextureUnits = 0,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( ! capabilities.isWebGL2 ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, utils, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( geometries, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.context = _gl;\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// vr\n\n\tvar vr = null;\n\n\tif ( typeof navigator !== 'undefined' ) {\n\n\t\tvr = ( 'xr' in navigator ) ? new WebXRManager( _this ) : new WebVRManager( _this );\n\n\t}\n\n\tthis.vr = vr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) { extension.loseContext(); }\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) { extension.restoreContext(); }\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) { return; }\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width,\n\t\t\theight: _height\n\t\t};\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( vr.isPresenting() ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = width * _pixelRatio;\n\t\t_canvas.height = height * _pixelRatio;\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function () {\n\n\t\treturn {\n\t\t\twidth: _width * _pixelRatio,\n\t\t\theight: _height * _pixelRatio\n\t\t};\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = width * pixelRatio;\n\t\t_canvas.height = height * pixelRatio;\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function () {\n\n\t\treturn _currentViewport;\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\t_viewport.set( x, _height - y - height, width, height );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\t_scissor.set( x, _height - y - height, width, height );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) { bits |= _gl.COLOR_BUFFER_BIT; }\n\t\tif ( depth === undefined || depth ) { bits |= _gl.DEPTH_BUFFER_BIT; }\n\t\tif ( stencil === undefined || stencil ) { bits |= _gl.STENCIL_BUFFER_BIT; }\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\tvr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) { buffers.position = _gl.createBuffer(); }\n\t\tif ( object.hasNormals && ! buffers.normal ) { buffers.normal = _gl.createBuffer(); }\n\t\tif ( object.hasUvs && ! buffers.uv ) { buffers.uv = _gl.createBuffer(); }\n\t\tif ( object.hasColors && ! buffers.color ) { buffers.color = _gl.createBuffer(); }\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( _gl.TRIANGLES, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\n\n\t\tvar frontFaceCW = ( object.isMesh && object.normalMatrix.determinant() < 0 );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar program = setProgram( camera, fog, material, object );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = Infinity;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdataCount = index.count;\n\n\t\t} else if ( position !== undefined ) {\n\n\t\t\tdataCount = position.count;\n\n\t\t}\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) { return; }\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else {\n\n\t\t\t\tswitch ( object.drawMode ) {\n\n\t\t\t\t\tcase TrianglesDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLES );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleStripDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_STRIP );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TriangleFanDrawMode:\n\t\t\t\t\t\trenderer.setMode( _gl.TRIANGLE_FAN );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) { lineWidth = 1; } // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( _gl.LINE_LOOP );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( _gl.LINE_STRIP );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( _gl.POINTS );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( _gl.TRIANGLES );\n\n\t\t}\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry ) {\n\n\t\t\tif ( geometry.maxInstancedCount > 0 ) {\n\n\t\t\t\trenderer.renderInstances( geometry, drawStart, drawCount );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( material, program, geometry ) {\n\n\t\tif ( geometry && geometry.isInstancedBufferGeometry & ! capabilities.isWebGL2 ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) { continue; }\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tinitMaterial( object.material[ i ], scene.fog, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinitMaterial( object.material, scene.fog, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( vr.isPresenting() ) { return; }\n\t\tif ( onAnimationFrameCallback ) { onAnimationFrameCallback( time ); }\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) { animation.setContext( window ); }\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\tvr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) { return; }\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) { scene.updateMatrixWorld(); }\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) { camera.updateMatrixWorld(); }\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tcamera = vr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort();\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) { _clipping.beginShadows(); }\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) { _clipping.endShadows(); }\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) { this.info.reset(); }\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\trenderTarget = null;\n\n\t\t}\n\n\t\tthis.setRenderTarget( renderTarget );\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) { renderObjects( opaqueObjects, scene, camera, overrideMaterial ); }\n\t\t\tif ( transparentObjects.length ) { renderObjects( transparentObjects, scene, camera, overrideMaterial ); }\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) { renderObjects( opaqueObjects, scene, camera ); }\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) { renderObjects( transparentObjects, scene, camera ); }\n\n\t\t}\n\n\t\t//\n\n\t\tif ( renderTarget ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( renderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\tif ( vr.enabled ) {\n\n\t\t\tvr.submitFrame();\n\n\t\t}\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) { return; }\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\tobject.skeleton.update();\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tif ( 'viewport' in camera2 ) { // XR\n\n\t\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tvar bounds = camera2.bounds;\n\n\t\t\t\t\t\t\tvar x = bounds.x * _width;\n\t\t\t\t\t\t\tvar y = bounds.y * _height;\n\t\t\t\t\t\t\tvar width = bounds.z * _width;\n\t\t\t\t\t\t\tvar height = bounds.w * _height;\n\n\t\t\t\t\t\t\tstate.viewport( _currentViewport.set( x, y, width, height ).multiplyScalar( _pixelRatio ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tvar program = setProgram( camera, scene.fog, material, object );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, fog, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tvar parameters = programCache.getParameters(\n\t\t\tmaterial, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\n\n\t\tvar code = programCache.getProgramCode( material, parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.code !== code ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) {\n\n\t\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tif ( parameters.shaderID ) {\n\n\t\t\t\tvar shader = ShaderLib[ parameters.shaderID ];\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tmaterialProperties.shader = {\n\t\t\t\t\tname: material.type,\n\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tmaterial.onBeforeCompile( materialProperties.shader, _this );\n\n\t\t\t// Computing code again as onBeforeCompile may have changed the shaders\n\t\t\tcode = programCache.getProgramCode( material, parameters );\n\n\t\t\tprogram = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = fog;\n\n\t\t// store the light setup it was created for\n\t\tif ( lightsHash === undefined ) {\n\n\t\t\tmaterialProperties.lightsHash = lightsHash = {};\n\n\t\t}\n\n\t\tlightsHash.stateID = lightsStateHash.stateID;\n\t\tlightsHash.directionalLength = lightsStateHash.directionalLength;\n\t\tlightsHash.pointLength = lightsStateHash.pointLength;\n\t\tlightsHash.spotLength = lightsStateHash.spotLength;\n\t\tlightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\n\t\tlightsHash.hemiLength = lightsStateHash.hemiLength;\n\t\tlightsHash.shadowsLength = lightsStateHash.shadowsLength;\n\n\t\tif ( material.lights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, fog, material, object ) {\n\n\t\t_usedTextureUnits = 0;\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tvar lightsHash = materialProperties.lightsHash;\n\t\tvar lightsStateHash = lights.state.hash;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate === false ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( material.lights && ( lightsHash.stateID !== lightsStateHash.stateID ||\n\t\t\t\tlightsHash.directionalLength !== lightsStateHash.directionalLength ||\n\t\t\t\tlightsHash.pointLength !== lightsStateHash.pointLength ||\n\t\t\t\tlightsHash.spotLength !== lightsStateHash.spotLength ||\n\t\t\t\tlightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\n\t\t\t\tlightsHash.hemiLength !== lightsStateHash.hemiLength ||\n\t\t\t\tlightsHash.shadowsLength !== lightsStateHash.shadowsLength ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.needsUpdate ) {\n\n\t\t\tinitMaterial( material, fog, object );\n\t\t\tmaterial.needsUpdate = false;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.shader.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// not sure why, but otherwise weird things happen\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = _Math.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\t\t\t\t\t\tboneTexture.needsUpdate = true;\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( material.lights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshToonMaterial ) {\n\n\t\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value = material.color;\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) { m_uniforms.ltc_1.value = UniformsLib.LTC_1; }\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) { m_uniforms.ltc_2.value = UniformsLib.LTC_2; }\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value = material.color;\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\tuniforms.envMap.value = material.envMap;\n\n\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( material.envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value = material.color;\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\t\tuniforms.map.value = material.map;\n\n\t\tif ( material.map !== null ) {\n\n\t\t\tif ( material.map.matrixAutoUpdate === true ) {\n\n\t\t\t\tmaterial.map.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( material.map.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value = fog.color;\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value = material.specular;\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) { uniforms.bumpScale.value *= - 1; }\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) { uniforms.normalScale.value.negate(); }\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\trefreshUniformsPhong( uniforms, material );\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) { uniforms.bumpScale.value *= - 1; }\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) { uniforms.normalScale.value.negate(); }\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearCoat.value = material.clearCoat;\n\t\tuniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) { uniforms.bumpScale.value *= - 1; }\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) { uniforms.normalScale.value.negate(); }\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) { uniforms.bumpScale.value *= - 1; }\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) { uniforms.normalScale.value.negate(); }\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\t// Textures\n\n\tfunction allocTextureUnit() {\n\n\t\tvar textureUnit = _usedTextureUnits;\n\n\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\n\t\t}\n\n\t\t_usedTextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\tthis.allocTextureUnit = allocTextureUnit;\n\n\t// this.setTexture2D = setTexture2D;\n\tthis.setTexture2D = ( function () {\n\n\t\tvar warned = false;\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture2D( texture, slot ) {\n\n\t\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture3D = ( function () {\n\n\t\t// backwards compatibility: peel texture.texture\n\t\treturn function setTexture3D( texture, slot ) {\n\n\t\t\ttextures.setTexture3D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTexture = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTexture( texture, slot ) {\n\n\t\t\tif ( ! warned ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\" );\n\t\t\t\twarned = true;\n\n\t\t\t}\n\n\t\t\ttextures.setTexture2D( texture, slot );\n\n\t\t};\n\n\t}() );\n\n\tthis.setTextureCube = ( function () {\n\n\t\tvar warned = false;\n\n\t\treturn function setTextureCube( texture, slot ) {\n\n\t\t\t// backwards compatibility: peel texture.texture\n\t\t\tif ( texture && texture.isWebGLRenderTargetCube ) {\n\n\t\t\t\tif ( ! warned ) {\n\n\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\t\twarned = true;\n\n\t\t\t\t}\n\n\t\t\t\ttexture = texture.texture;\n\n\t\t\t}\n\n\t\t\t// currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n\t\t\t// TODO: unify these code paths\n\t\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t\t// this function alone should take care of cube textures\n\t\t\t\ttextures.setTextureCube( texture, slot );\n\n\t\t\t} else {\n\n\t\t\t\t// assumed: texture property of THREE.WebGLRenderTargetCube\n\n\t\t\t\ttextures.setTextureCubeDynamic( texture, slot );\n\n\t\t\t}\n\n\t\t};\n\n\t}() );\n\n\t//\n\n\tthis.setFramebuffer = function ( value ) {\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLRenderTargetCube ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ renderTarget.activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tvar width = texture.image.width;\n\t\tvar height = texture.image.height;\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\tthis.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( _gl.TEXTURE_2D, level || 0, glFormat, position.x, position.y, width, height, 0 );\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\tthis.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( _gl.TEXTURE_2D, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( _gl.TEXTURE_2D, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar object = this;\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\t\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) { geometry.computeBoundingSphere(); }\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += threshold;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) { return; }\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\n\t\t\tvar position = new Vector3();\n\t\t\tvar intersectPoint = new Vector3();\n\n\t\t\tfunction testPoint( point, index ) {\n\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\n\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\t\t\t\tray.closestPointToPoint( point, intersectPoint );\n\t\t\t\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) { return; }\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tobject: object\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\n\n\t\t\t\t\t\ttestPoint( position, a );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\n\n\t\t\t\t\t\ttestPoint( position, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\ttestPoint( vertices[ i ], i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.lights = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i ] += start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() ),\n\n\traycast: ( function () {\n\n\t\tvar inverseMatrix = new Matrix4();\n\t\tvar ray = new Ray();\n\t\tvar sphere = new Sphere();\n\n\t\treturn function raycast( raycaster, intersects ) {\n\n\t\t\tvar precision = raycaster.linePrecision;\n\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar matrixWorld = this.matrixWorld;\n\n\t\t\t// Checking boundingSphere distance to ray\n\n\t\t\tif ( geometry.boundingSphere === null ) { geometry.computeBoundingSphere(); }\n\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\t\tsphere.radius += precision;\n\n\t\t\tif ( raycaster.ray.intersectsSphere( sphere ) === false ) { return; }\n\n\t\t\t//\n\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\n\t\t\tvar localPrecision = precision / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localPrecisionSq = localPrecision * localPrecision;\n\n\t\t\tvar vStart = new Vector3();\n\t\t\tvar vEnd = new Vector3();\n\t\t\tvar interSegment = new Vector3();\n\t\t\tvar interRay = new Vector3();\n\t\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\n\t\t\t\tif ( index !== null ) {\n\n\t\t\t\t\tvar indices = index.array;\n\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) { continue; }\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) { continue; }\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\t\tif ( distSq > localPrecisionSq ) { continue; }\n\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) { continue; }\n\n\t\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localPrecisionSq ) { continue; }\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) { continue; }\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}() ),\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: ( function () {\n\n\t\tvar start = new Vector3();\n\t\tvar end = new Vector3();\n\n\t\treturn function computeLineDistances() {\n\n\t\t\tvar geometry = this.geometry;\n\n\t\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t\t// we assume non-indexed geometry\n\n\t\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\t\tvar lineDistances = [];\n\n\t\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t\tstart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t\tend.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t\tstart.copy( vertices[ i ] );\n\t\t\t\t\tend.copy( vertices[ i + 1 ] );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}() )\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\n\t\t\tvar zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.width;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.height;\n\n\t\t\tleft += scaleW * ( this.view.offsetX / zoomW );\n\t\t\tright = left + scaleW * ( this.view.width / zoomW );\n\t\t\ttop -= scaleH * ( this.view.offsetY / zoomH );\n\t\t\tbottom = top - scaleH * ( this.view.height / zoomH );\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) { data.object.view = Object.assign( {}, this.view ); }\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: {},\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.visible === false ) { return; }\n\n\tobject.raycast( raycaster, intersects );\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tlinePrecision: 1,\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n// export * from '../../build/three.js';\nfunction Float32BufferAttribute$1( array, itemSize, normalized ) {\n  if(Array.isArray( array )){\n    array = new Float32Array( array );\n  }\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n}\n\nFloat32BufferAttribute$1.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute$1.prototype.constructor = Float32BufferAttribute$1;\n\nvar THREE$1 = /*#__PURE__*/Object.freeze({\n__proto__: null,\nFloat32BufferAttribute: Float32BufferAttribute$1,\nScene: Scene,\nWebGLRenderer: WebGLRenderer,\nCanvasTexture: CanvasTexture,\nObject3D: Object3D,\nGroup: Group,\nClock: Clock,\nPoints: Points,\nLineSegments: LineSegments,\nMesh: Mesh,\nTexture: Texture,\nWebGLRenderTarget: WebGLRenderTarget,\nPerspectiveCamera: PerspectiveCamera,\nOrthographicCamera: OrthographicCamera,\nBufferGeometry: BufferGeometry,\nInstancedBufferGeometry: InstancedBufferGeometry,\nPlaneBufferGeometry: PlaneBufferGeometry,\nBoxBufferGeometry: BoxBufferGeometry,\nRaycaster: Raycaster,\nUniformsUtils: UniformsUtils,\nMatrix4: Matrix4,\nMatrix3: Matrix3,\nLine: Line,\nVector4: Vector4,\nVector3: Vector3,\nVector2: Vector2,\nShaderMaterial: ShaderMaterial,\nDataTexture: DataTexture,\nColor: Color,\nFloat64BufferAttribute: Float64BufferAttribute,\nUint32BufferAttribute: Uint32BufferAttribute,\nInt32BufferAttribute: Int32BufferAttribute,\nUint16BufferAttribute: Uint16BufferAttribute,\nInt16BufferAttribute: Int16BufferAttribute,\nUint8ClampedBufferAttribute: Uint8ClampedBufferAttribute,\nUint8BufferAttribute: Uint8BufferAttribute,\nInt8BufferAttribute: Int8BufferAttribute,\nBufferAttribute: BufferAttribute,\nInstancedBufferAttribute: InstancedBufferAttribute,\nREVISION: REVISION,\nMOUSE: MOUSE,\nCullFaceNone: CullFaceNone,\nCullFaceBack: CullFaceBack,\nCullFaceFront: CullFaceFront,\nCullFaceFrontBack: CullFaceFrontBack,\nFrontFaceDirectionCW: FrontFaceDirectionCW,\nFrontFaceDirectionCCW: FrontFaceDirectionCCW,\nBasicShadowMap: BasicShadowMap,\nPCFShadowMap: PCFShadowMap,\nPCFSoftShadowMap: PCFSoftShadowMap,\nFrontSide: FrontSide,\nBackSide: BackSide,\nDoubleSide: DoubleSide,\nFlatShading: FlatShading,\nSmoothShading: SmoothShading,\nNoColors: NoColors,\nFaceColors: FaceColors,\nVertexColors: VertexColors,\nNoBlending: NoBlending,\nNormalBlending: NormalBlending,\nAdditiveBlending: AdditiveBlending,\nSubtractiveBlending: SubtractiveBlending,\nMultiplyBlending: MultiplyBlending,\nCustomBlending: CustomBlending,\nAddEquation: AddEquation,\nSubtractEquation: SubtractEquation,\nReverseSubtractEquation: ReverseSubtractEquation,\nMinEquation: MinEquation,\nMaxEquation: MaxEquation,\nZeroFactor: ZeroFactor,\nOneFactor: OneFactor,\nSrcColorFactor: SrcColorFactor,\nOneMinusSrcColorFactor: OneMinusSrcColorFactor,\nSrcAlphaFactor: SrcAlphaFactor,\nOneMinusSrcAlphaFactor: OneMinusSrcAlphaFactor,\nDstAlphaFactor: DstAlphaFactor,\nOneMinusDstAlphaFactor: OneMinusDstAlphaFactor,\nDstColorFactor: DstColorFactor,\nOneMinusDstColorFactor: OneMinusDstColorFactor,\nSrcAlphaSaturateFactor: SrcAlphaSaturateFactor,\nNeverDepth: NeverDepth,\nAlwaysDepth: AlwaysDepth,\nLessDepth: LessDepth,\nLessEqualDepth: LessEqualDepth,\nEqualDepth: EqualDepth,\nGreaterEqualDepth: GreaterEqualDepth,\nGreaterDepth: GreaterDepth,\nNotEqualDepth: NotEqualDepth,\nMultiplyOperation: MultiplyOperation,\nMixOperation: MixOperation,\nAddOperation: AddOperation,\nNoToneMapping: NoToneMapping,\nLinearToneMapping: LinearToneMapping,\nReinhardToneMapping: ReinhardToneMapping,\nUncharted2ToneMapping: Uncharted2ToneMapping,\nCineonToneMapping: CineonToneMapping,\nACESFilmicToneMapping: ACESFilmicToneMapping,\nUVMapping: UVMapping,\nCubeReflectionMapping: CubeReflectionMapping,\nCubeRefractionMapping: CubeRefractionMapping,\nEquirectangularReflectionMapping: EquirectangularReflectionMapping,\nEquirectangularRefractionMapping: EquirectangularRefractionMapping,\nSphericalReflectionMapping: SphericalReflectionMapping,\nCubeUVReflectionMapping: CubeUVReflectionMapping,\nCubeUVRefractionMapping: CubeUVRefractionMapping,\nRepeatWrapping: RepeatWrapping,\nClampToEdgeWrapping: ClampToEdgeWrapping,\nMirroredRepeatWrapping: MirroredRepeatWrapping,\nNearestFilter: NearestFilter,\nNearestMipMapNearestFilter: NearestMipMapNearestFilter,\nNearestMipMapLinearFilter: NearestMipMapLinearFilter,\nLinearFilter: LinearFilter,\nLinearMipMapNearestFilter: LinearMipMapNearestFilter,\nLinearMipMapLinearFilter: LinearMipMapLinearFilter,\nUnsignedByteType: UnsignedByteType,\nByteType: ByteType,\nShortType: ShortType,\nUnsignedShortType: UnsignedShortType,\nIntType: IntType,\nUnsignedIntType: UnsignedIntType,\nFloatType: FloatType,\nHalfFloatType: HalfFloatType,\nUnsignedShort4444Type: UnsignedShort4444Type,\nUnsignedShort5551Type: UnsignedShort5551Type,\nUnsignedShort565Type: UnsignedShort565Type,\nUnsignedInt248Type: UnsignedInt248Type,\nAlphaFormat: AlphaFormat,\nRGBFormat: RGBFormat,\nRGBAFormat: RGBAFormat,\nLuminanceFormat: LuminanceFormat,\nLuminanceAlphaFormat: LuminanceAlphaFormat,\nRGBEFormat: RGBEFormat,\nDepthFormat: DepthFormat,\nDepthStencilFormat: DepthStencilFormat,\nRedFormat: RedFormat,\nRGB_S3TC_DXT1_Format: RGB_S3TC_DXT1_Format,\nRGBA_S3TC_DXT1_Format: RGBA_S3TC_DXT1_Format,\nRGBA_S3TC_DXT3_Format: RGBA_S3TC_DXT3_Format,\nRGBA_S3TC_DXT5_Format: RGBA_S3TC_DXT5_Format,\nRGB_PVRTC_4BPPV1_Format: RGB_PVRTC_4BPPV1_Format,\nRGB_PVRTC_2BPPV1_Format: RGB_PVRTC_2BPPV1_Format,\nRGBA_PVRTC_4BPPV1_Format: RGBA_PVRTC_4BPPV1_Format,\nRGBA_PVRTC_2BPPV1_Format: RGBA_PVRTC_2BPPV1_Format,\nRGB_ETC1_Format: RGB_ETC1_Format,\nRGBA_ASTC_4x4_Format: RGBA_ASTC_4x4_Format,\nRGBA_ASTC_5x4_Format: RGBA_ASTC_5x4_Format,\nRGBA_ASTC_5x5_Format: RGBA_ASTC_5x5_Format,\nRGBA_ASTC_6x5_Format: RGBA_ASTC_6x5_Format,\nRGBA_ASTC_6x6_Format: RGBA_ASTC_6x6_Format,\nRGBA_ASTC_8x5_Format: RGBA_ASTC_8x5_Format,\nRGBA_ASTC_8x6_Format: RGBA_ASTC_8x6_Format,\nRGBA_ASTC_8x8_Format: RGBA_ASTC_8x8_Format,\nRGBA_ASTC_10x5_Format: RGBA_ASTC_10x5_Format,\nRGBA_ASTC_10x6_Format: RGBA_ASTC_10x6_Format,\nRGBA_ASTC_10x8_Format: RGBA_ASTC_10x8_Format,\nRGBA_ASTC_10x10_Format: RGBA_ASTC_10x10_Format,\nRGBA_ASTC_12x10_Format: RGBA_ASTC_12x10_Format,\nRGBA_ASTC_12x12_Format: RGBA_ASTC_12x12_Format,\nLoopOnce: LoopOnce,\nLoopRepeat: LoopRepeat,\nLoopPingPong: LoopPingPong,\nInterpolateDiscrete: InterpolateDiscrete,\nInterpolateLinear: InterpolateLinear,\nInterpolateSmooth: InterpolateSmooth,\nZeroCurvatureEnding: ZeroCurvatureEnding,\nZeroSlopeEnding: ZeroSlopeEnding,\nWrapAroundEnding: WrapAroundEnding,\nTrianglesDrawMode: TrianglesDrawMode,\nTriangleStripDrawMode: TriangleStripDrawMode,\nTriangleFanDrawMode: TriangleFanDrawMode,\nLinearEncoding: LinearEncoding,\nsRGBEncoding: sRGBEncoding,\nGammaEncoding: GammaEncoding,\nRGBEEncoding: RGBEEncoding,\nLogLuvEncoding: LogLuvEncoding,\nRGBM7Encoding: RGBM7Encoding,\nRGBM16Encoding: RGBM16Encoding,\nRGBDEncoding: RGBDEncoding,\nBasicDepthPacking: BasicDepthPacking,\nRGBADepthPacking: RGBADepthPacking,\nTangentSpaceNormalMap: TangentSpaceNormalMap,\nObjectSpaceNormalMap: ObjectSpaceNormalMap\n});\n\nvar isArrayLike_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexports[\"default\"] = isArrayLike;\n\n});\n\nunwrapExports(isArrayLike_1);\n\nvar contains_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar contains = function (arr, value) {\n    if (!isArrayLike_1[\"default\"](arr)) {\n        return false;\n    }\n    return arr.indexOf(value) > -1;\n};\nexports[\"default\"] = contains;\n\n});\n\nunwrapExports(contains_1);\n\nvar isType_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexports[\"default\"] = isType;\n\n});\n\nunwrapExports(isType_1);\n\nvar isArray = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports[\"default\"] = (function (value) {\n    return Array.isArray ?\n        Array.isArray(value) :\n        isType_1[\"default\"](value, 'Array');\n});\n\n});\n\nunwrapExports(isArray);\n\nvar isObject = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nexports[\"default\"] = (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return value !== null && type === 'object' || type === 'function';\n});\n\n});\n\nunwrapExports(isObject);\n\nvar each_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (isArray[\"default\"](elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (isObject[\"default\"](elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexports[\"default\"] = each;\n\n});\n\nunwrapExports(each_1);\n\nvar filter_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar filter = function (arr, func) {\n    if (!isArrayLike_1[\"default\"](arr)) {\n        return arr;\n    }\n    var result = [];\n    each_1[\"default\"](arr, function (value, index) {\n        if (func(value, index)) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexports[\"default\"] = filter;\n\n});\n\nunwrapExports(filter_1);\n\nvar difference_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\nvar difference = function (arr, values) {\n    if (values === void 0) { values = []; }\n    return filter_1[\"default\"](arr, function (value) { return !contains_1[\"default\"](values, value); });\n};\nexports[\"default\"] = difference;\n\n});\n\nunwrapExports(difference_1);\n\nvar isFunction = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\n\nexports[\"default\"] = (function (value) {\n    return isType_1[\"default\"](value, 'Function');\n});\n\n});\n\nunwrapExports(isFunction);\n\nvar isNil_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexports[\"default\"] = isNil;\n\n});\n\nunwrapExports(isNil_1);\n\nvar keys_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar keys = Object.keys ? function (obj) { return Object.keys(obj); } : function (obj) {\n    var result = [];\n    each_1[\"default\"](obj, function (value, key) {\n        if (!(isFunction[\"default\"](obj) && key === 'prototype')) {\n            result.push(key);\n        }\n    });\n    return result;\n};\nexports[\"default\"] = keys;\n\n});\n\nunwrapExports(keys_1);\n\nvar isMatch_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nfunction isMatch(obj, attrs) {\n    var _keys = keys_1[\"default\"](attrs);\n    var length = _keys.length;\n    if (isNil_1[\"default\"](obj))\n        { return !length; }\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexports[\"default\"] = isMatch;\n\n});\n\nunwrapExports(isMatch_1);\n\nvar isObjectLike_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexports[\"default\"] = isObjectLike;\n\n});\n\nunwrapExports(isObjectLike_1);\n\nvar isPlainObject_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike_1[\"default\"](value) || !isType_1[\"default\"](value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexports[\"default\"] = isPlainObject;\n\n});\n\nunwrapExports(isPlainObject_1);\n\nvar find_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\nfunction find(arr, predicate) {\n    if (!isArray[\"default\"](arr))\n        { return null; }\n    var _predicate;\n    if (isFunction[\"default\"](predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject_1[\"default\"](predicate)) {\n        _predicate = function (a) { return isMatch_1[\"default\"](a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexports[\"default\"] = find;\n\n});\n\nunwrapExports(find_1);\n\nvar findIndex_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nfunction findIndex(arr, predicate, fromIndex) {\n    if (fromIndex === void 0) { fromIndex = 0; }\n    for (var i = fromIndex; i < arr.length; i++) {\n        if (predicate(arr[i], i)) {\n            // 找到终止循环\n            return i;\n        }\n    }\n    return -1;\n}\nexports[\"default\"] = findIndex;\n\n});\n\nunwrapExports(findIndex_1);\n\nvar firstValue_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar firstValue = function (data, name) {\n    var rst = null;\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil_1[\"default\"](value)) {\n            if (isArray[\"default\"](value)) {\n                rst = value[0]; // todo 这里是否应该使用递归，调用 firstValue @绝云\n            }\n            else {\n                rst = value;\n            }\n            break;\n        }\n    }\n    return rst;\n};\nexports[\"default\"] = firstValue;\n\n});\n\nunwrapExports(firstValue_1);\n\nvar flatten_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\nvar flatten = function (arr) {\n    if (!isArray[\"default\"](arr)) {\n        return [];\n    }\n    var rst = [];\n    for (var i = 0; i < arr.length; i++) {\n        rst = rst.concat(arr[i]);\n    }\n    return rst;\n};\nexports[\"default\"] = flatten;\n\n});\n\nvar flatten$1 = unwrapExports(flatten_1);\n\nvar flattenDeep_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\nvar flattenDeep = function (arr, result) {\n    if (result === void 0) { result = []; }\n    if (!isArray[\"default\"](arr)) {\n        result.push(arr);\n    }\n    else {\n        for (var i = 0; i < arr.length; i += 1) {\n            flattenDeep(arr[i], result);\n        }\n    }\n    return result;\n};\nexports[\"default\"] = flattenDeep;\n\n});\n\nunwrapExports(flattenDeep_1);\n\nvar getRange_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar getRange = function (values) {\n    // 存在 NaN 时，min,max 判定会出问题\n    values = filter_1[\"default\"](values, function (v) {\n        return !isNaN(v);\n    });\n    if (!values.length) { // 如果没有数值则直接返回0\n        return {\n            min: 0,\n            max: 0\n        };\n    }\n    if (isArray[\"default\"](values[0])) {\n        var tmp = [];\n        for (var i = 0; i < values.length; i++) {\n            tmp = tmp.concat(values[i]);\n        }\n        values = tmp;\n    }\n    var max = Math.max.apply(null, values);\n    var min = Math.min.apply(null, values);\n    return {\n        min: min,\n        max: max\n    };\n};\nexports[\"default\"] = getRange;\n\n});\n\nunwrapExports(getRange_1);\n\nvar pull_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar pull = function (arr) {\n    var arguments$1 = arguments;\n\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments$1[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var fromIndex = -1;\n        while ((fromIndex = indexOf.call(arr, value)) > -1) {\n            splice.call(arr, fromIndex, 1);\n        }\n    }\n    return arr;\n};\nexports[\"default\"] = pull;\n\n});\n\nunwrapExports(pull_1);\n\nvar pullAt_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar splice = Array.prototype.splice;\nvar pullAt = function pullAt(arr, indexes) {\n    if (!isArrayLike_1[\"default\"](arr)) {\n        return [];\n    }\n    var length = arr ? indexes.length : 0;\n    var last = length - 1;\n    while (length--) {\n        var previous = void 0;\n        var index = indexes[length];\n        if (length === last || index !== previous) {\n            previous = index;\n            splice.call(arr, index, 1);\n        }\n    }\n    return arr;\n};\nexports[\"default\"] = pullAt;\n\n});\n\nunwrapExports(pullAt_1);\n\nvar reduce_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nvar reduce = function (arr, fn, init) {\n    if (!isArray[\"default\"](arr) && !isPlainObject_1[\"default\"](arr)) {\n        return arr;\n    }\n    var result = init;\n    each_1[\"default\"](arr, function (data, i) {\n        result = fn(result, data, i);\n    });\n    return result;\n};\nexports[\"default\"] = reduce;\n\n});\n\nunwrapExports(reduce_1);\n\nvar remove_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar remove = function (arr, predicate) {\n    /**\n     * const arr = [1, 2, 3, 4]\n     * const evens = remove(arr, n => n % 2 == 0)\n     * console.log(arr) // => [1, 3]\n     * console.log(evens) // => [2, 4]\n     */\n    var result = [];\n    if (!isArrayLike_1[\"default\"](arr)) {\n        return result;\n    }\n    var i = -1;\n    var indexes = [];\n    var length = arr.length;\n    while (++i < length) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            result.push(value);\n            indexes.push(i);\n        }\n    }\n    pullAt_1[\"default\"](arr, indexes);\n    return result;\n};\nexports[\"default\"] = remove;\n\n});\n\nunwrapExports(remove_1);\n\nvar isString = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports[\"default\"] = (function (str) {\n    return isType_1[\"default\"](str, 'String');\n});\n\n});\n\nvar isString$1 = unwrapExports(isString);\n\nvar sortBy_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nfunction sortBy(arr, key) {\n    var comparer;\n    if (isFunction[\"default\"](key)) {\n        comparer = function (a, b) { return key(a) - key(b); };\n    }\n    else {\n        var keys_1 = [];\n        if (isString[\"default\"](key)) {\n            keys_1.push(key);\n        }\n        else if (isArray[\"default\"](key)) {\n            keys_1 = key;\n        }\n        comparer = function (a, b) {\n            for (var i = 0; i < keys_1.length; i += 1) {\n                var prop = keys_1[i];\n                if (a[prop] > b[prop]) {\n                    return 1;\n                }\n                if (a[prop] < b[prop]) {\n                    return -1;\n                }\n            }\n            return 0;\n        };\n    }\n    arr.sort(comparer);\n    return arr;\n}\nexports[\"default\"] = sortBy;\n\n});\n\nunwrapExports(sortBy_1);\n\nvar uniq_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar uniq = function (arr) {\n    var resultArr = [];\n    each_1[\"default\"](arr, function (item) {\n        if (!contains_1[\"default\"](resultArr, item)) {\n            resultArr.push(item);\n        }\n    });\n    return resultArr;\n};\nexports[\"default\"] = uniq;\n\n});\n\nvar uniq = unwrapExports(uniq_1);\n\nvar union_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar union = function () {\n    var arguments$1 = arguments;\n\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments$1[_i];\n    }\n    return uniq_1[\"default\"]([].concat.apply([], sources));\n};\nexports[\"default\"] = union;\n\n});\n\nunwrapExports(union_1);\n\nvar valuesOfKey = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nexports[\"default\"] = (function (data, name) {\n    var rst = [];\n    var tmpMap = {};\n    data.forEach(function (obj) {\n        var value = obj[name];\n        if (!isNil_1[\"default\"](value)) {\n            // flatten\n            if (!isArray[\"default\"](value)) {\n                value = [value];\n            }\n            each_1[\"default\"](value, function (val) {\n                // unique\n                if (!tmpMap[val]) {\n                    rst.push(val);\n                    tmpMap[val] = true;\n                }\n            });\n        }\n    });\n    return rst;\n});\n\n});\n\nunwrapExports(valuesOfKey);\n\nvar head_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nfunction head(o) {\n    if (isArrayLike_1[\"default\"](o)) {\n        return o[0];\n    }\n    return undefined;\n}\nexports[\"default\"] = head;\n\n});\n\nunwrapExports(head_1);\n\nvar last_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nfunction last(o) {\n    if (isArrayLike_1[\"default\"](o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\nexports[\"default\"] = last;\n\n});\n\nunwrapExports(last_1);\n\nvar startsWith_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nfunction startsWith(arr, e) {\n    return (isArray[\"default\"](arr) || isString[\"default\"](arr)) ? arr[0] === e : false;\n}\nexports[\"default\"] = startsWith;\n\n});\n\nunwrapExports(startsWith_1);\n\nvar endsWith_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nfunction endsWith(arr, e) {\n    return (isArray[\"default\"](arr) || isString[\"default\"](arr)) ? arr[arr.length - 1] === e : false;\n}\nexports[\"default\"] = endsWith;\n\n});\n\nunwrapExports(endsWith_1);\n\nvar every_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 只要有一个不满足条件就返回 false\n * @param arr\n * @param func\n */\nvar every = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (!func(arr[i], i))\n            { return false; }\n    }\n    return true;\n};\nexports[\"default\"] = every;\n\n});\n\nunwrapExports(every_1);\n\nvar some_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 只要有一个满足条件就返回 true\n * @param arr\n * @param func\n */\nvar some = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (func(arr[i], i))\n            { return true; }\n    }\n    return false;\n};\nexports[\"default\"] = some;\n\n});\n\nunwrapExports(some_1);\n\nvar groupBy_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction groupBy(data, condition) {\n    if (!condition || !isArray[\"default\"](data)) {\n        return {};\n    }\n    var result = {};\n    // 兼容方法和 字符串的写法\n    var predicate = isFunction[\"default\"](condition) ? condition : function (item) { return item[condition]; };\n    var key;\n    each_1[\"default\"](data, function (item) {\n        key = predicate(item);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n    });\n    return result;\n}\nexports[\"default\"] = groupBy;\n\n});\n\nunwrapExports(groupBy_1);\n\nvar groupToMap_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nvar groupToMap = function (data, condition) {\n    if (!condition) {\n        return {\n            0: data\n        };\n    }\n    if (!isFunction[\"default\"](condition)) {\n        var paramsCondition_1 = isArray[\"default\"](condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n        condition = function (row) {\n            var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n            for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n                unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n            }\n            return unique;\n        };\n    }\n    var groups = groupBy_1[\"default\"](data, condition);\n    return groups;\n};\nexports[\"default\"] = groupToMap;\n\n});\n\nunwrapExports(groupToMap_1);\n\nvar group = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports[\"default\"] = (function (data, condition) {\n    if (!condition) {\n        // 没有条件，则自身改成数组\n        return [data];\n    }\n    var groups = groupToMap_1[\"default\"](data, condition);\n    var array = [];\n    for (var i in groups) {\n        array.push(groups[i]);\n    }\n    return array;\n});\n\n});\n\nunwrapExports(group);\n\nvar getWrapBehavior_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n    return obj['_wrap_' + action];\n}\nexports[\"default\"] = getWrapBehavior;\n\n});\n\nunwrapExports(getWrapBehavior_1);\n\nvar wrapBehavior_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n        return obj['_wrap_' + action];\n    }\n    var method = function (e) {\n        obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n}\nexports[\"default\"] = wrapBehavior;\n\n});\n\nunwrapExports(wrapBehavior_1);\n\nvar number2color = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar numColorCache = {};\nfunction numberToColor(num) {\n    // 增加缓存\n    var color = numColorCache[num];\n    if (!color) {\n        var str = num.toString(16);\n        for (var i = str.length; i < 6; i++) {\n            str = '0' + str;\n        }\n        color = '#' + str;\n        numColorCache[num] = color;\n    }\n    return color;\n}\nexports[\"default\"] = numberToColor;\n\n});\n\nunwrapExports(number2color);\n\nvar parseRadius_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nfunction parseRadius(radius) {\n    var r1 = 0, r2 = 0, r3 = 0, r4 = 0;\n    if (isArray[\"default\"](radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4\n    };\n}\nexports[\"default\"] = parseRadius;\n\n});\n\nunwrapExports(parseRadius_1);\n\nvar clamp_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexports[\"default\"] = clamp;\n\n});\n\nunwrapExports(clamp_1);\n\nvar fixedBase_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar fixedBase = function (v, base) {\n    var str = base.toString();\n    var index = str.indexOf('.');\n    if (index === -1) {\n        return Math.round(v);\n    }\n    var length = str.substr(index + 1).length;\n    if (length > 20) {\n        length = 20;\n    }\n    return parseFloat(v.toFixed(length));\n};\nexports[\"default\"] = fixedBase;\n\n});\n\nunwrapExports(fixedBase_1);\n\nvar isNumber_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\n\nvar isNumber = function (value) {\n    return isType_1[\"default\"](value, 'Number');\n};\nexports[\"default\"] = isNumber;\n\n});\n\nunwrapExports(isNumber_1);\n\nvar isDecimal_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isDecimal = function (num) {\n    return isNumber_1[\"default\"](num) && num % 1 !== 0;\n};\nexports[\"default\"] = isDecimal;\n\n});\n\nunwrapExports(isDecimal_1);\n\nvar isEven_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isEven = function (num) {\n    return isNumber_1[\"default\"](num) && num % 2 === 0;\n};\nexports[\"default\"] = isEven;\n\n});\n\nunwrapExports(isEven_1);\n\nvar isInteger_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n    return isNumber_1[\"default\"](num) && num % 1 === 0;\n};\nexports[\"default\"] = isInteger;\n\n});\n\nunwrapExports(isInteger_1);\n\nvar isNegative_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isNegative = function (num) {\n    return isNumber_1[\"default\"](num) && num < 0;\n};\nexports[\"default\"] = isNegative;\n\n});\n\nunwrapExports(isNegative_1);\n\nvar isNumberEqual_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar PRECISION = 0.00001; // numbers less than this is considered as 0\nfunction isNumberEqual(a, b, precision) {\n    if (precision === void 0) { precision = PRECISION; }\n    return Math.abs((a - b)) < precision;\n}\nexports[\"default\"] = isNumberEqual;\n\n});\n\nunwrapExports(isNumberEqual_1);\n\nvar isOdd_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isOdd = function (num) {\n    return isNumber_1[\"default\"](num) && num % 2 !== 0;\n};\nexports[\"default\"] = isOdd;\n\n});\n\nunwrapExports(isOdd_1);\n\nvar isPositive_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isPositive = function (num) {\n    return isNumber_1[\"default\"](num) && num > 0;\n};\nexports[\"default\"] = isPositive;\n\n});\n\nunwrapExports(isPositive_1);\n\nvar maxBy = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nexports[\"default\"] = (function (arr, fn) {\n    if (!isArray[\"default\"](arr)) {\n        return undefined;\n    }\n    var max = arr[0];\n    var maxData;\n    if (isFunction[\"default\"](fn)) {\n        maxData = fn(arr[0]);\n    }\n    else {\n        maxData = arr[0][fn];\n    }\n    var data;\n    each_1[\"default\"](arr, function (val) {\n        if (isFunction[\"default\"](fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data > maxData) {\n            max = val;\n            maxData = data;\n        }\n    });\n    return max;\n});\n\n});\n\nunwrapExports(maxBy);\n\nvar minBy = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nexports[\"default\"] = (function (arr, fn) {\n    if (!isArray[\"default\"](arr)) {\n        return undefined;\n    }\n    var min = arr[0];\n    var minData;\n    if (isFunction[\"default\"](fn)) {\n        minData = fn(arr[0]);\n    }\n    else {\n        minData = arr[0][fn];\n    }\n    var data;\n    each_1[\"default\"](arr, function (val) {\n        if (isFunction[\"default\"](fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data < minData) {\n            min = val;\n            minData = data;\n        }\n    });\n    return min;\n});\n\n});\n\nunwrapExports(minBy);\n\nvar mod_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar mod = function (n, m) {\n    return ((n % m) + m) % m;\n};\nexports[\"default\"] = mod;\n\n});\n\nunwrapExports(mod_1);\n\nvar toDegree_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar DEGREE = 180 / Math.PI;\nvar toDegree = function (radian) {\n    return DEGREE * radian;\n};\nexports[\"default\"] = toDegree;\n\n});\n\nunwrapExports(toDegree_1);\n\nvar toInteger = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nexports[\"default\"] = parseInt;\n\n});\n\nunwrapExports(toInteger);\n\nvar toRadian_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar RADIAN = Math.PI / 180;\nvar toRadian = function (degree) {\n    return RADIAN * degree;\n};\nexports[\"default\"] = toRadian;\n\n});\n\nunwrapExports(toRadian_1);\n\nvar forIn = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports[\"default\"] = each_1[\"default\"];\n\n});\n\nunwrapExports(forIn);\n\nvar has = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nexports[\"default\"] = (function (obj, key) { return obj.hasOwnProperty(key); });\n\n});\n\nunwrapExports(has);\n\nvar hasKey = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports[\"default\"] = has[\"default\"];\n\n});\n\nunwrapExports(hasKey);\n\nvar values_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n// @ts-ignore\nvar values = Object.values ? function (obj) { return Object.values(obj); } : function (obj) {\n    var result = [];\n    each_1[\"default\"](obj, function (value, key) {\n        if (!(isFunction[\"default\"](obj) && key === 'prototype')) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexports[\"default\"] = values;\n\n});\n\nunwrapExports(values_1);\n\nvar hasValue = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nexports[\"default\"] = (function (obj, value) { return contains_1[\"default\"](values_1[\"default\"](obj), value); });\n\n});\n\nunwrapExports(hasValue);\n\nvar toString_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports[\"default\"] = (function (value) {\n    if (isNil_1[\"default\"](value))\n        { return ''; }\n    return value.toString();\n});\n\n});\n\nunwrapExports(toString_1);\n\nvar lowerCase_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar lowerCase = function (str) {\n    return toString_1[\"default\"](str).toLowerCase();\n};\nexports[\"default\"] = lowerCase;\n\n});\n\nunwrapExports(lowerCase_1);\n\nvar lowerFirst_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar lowerFirst = function (value) {\n    var str = toString_1[\"default\"](value);\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\nexports[\"default\"] = lowerFirst;\n\n});\n\nunwrapExports(lowerFirst_1);\n\nvar substitute_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nfunction substitute(str, o) {\n    if (!str || !o) {\n        return str;\n    }\n    return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n            return match.slice(1);\n        }\n        return (o[name] === undefined) ? '' : o[name];\n    });\n}\nexports[\"default\"] = substitute;\n\n});\n\nunwrapExports(substitute_1);\n\nvar upperCase_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar upperCase = function (str) {\n    return toString_1[\"default\"](str).toUpperCase();\n};\nexports[\"default\"] = upperCase;\n\n});\n\nunwrapExports(upperCase_1);\n\nvar upperFirst_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar upperFirst = function (value) {\n    var str = toString_1[\"default\"](value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexports[\"default\"] = upperFirst;\n\n});\n\nunwrapExports(upperFirst_1);\n\nvar getType_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar toString = {}.toString;\nvar getType = function (value) {\n    return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\nexports[\"default\"] = getType;\n\n});\n\nunwrapExports(getType_1);\n\nvar isArguments_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\n\nvar isArguments = function (value) {\n    return isType_1[\"default\"](value, 'Arguments');\n};\nexports[\"default\"] = isArguments;\n\n});\n\nunwrapExports(isArguments_1);\n\nvar isBoolean_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\n\nvar isBoolean = function (value) {\n    return isType_1[\"default\"](value, 'Boolean');\n};\nexports[\"default\"] = isBoolean;\n\n});\n\nunwrapExports(isBoolean_1);\n\nvar isDate_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isDate = function (value) {\n    return isType_1[\"default\"](value, 'Date');\n};\nexports[\"default\"] = isDate;\n\n});\n\nunwrapExports(isDate_1);\n\nvar isError_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\n\nvar isError = function (value) {\n    return isType_1[\"default\"](value, 'Error');\n};\nexports[\"default\"] = isError;\n\n});\n\nunwrapExports(isError_1);\n\nvar _isFinite = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 判断是否为有限数\n * @return {Boolean}\n */\n\nfunction default_1(value) {\n    return isNumber_1[\"default\"](value) && isFinite(value);\n}\nexports[\"default\"] = default_1;\n\n});\n\nunwrapExports(_isFinite);\n\nvar isNull_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar isNull = function (value) {\n    return value === null;\n};\nexports[\"default\"] = isNull;\n\n});\n\nunwrapExports(isNull_1);\n\nvar isPrototype_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar objectProto = Object.prototype;\nvar isPrototype = function (value) {\n    var Ctor = value && value.constructor;\n    var proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n};\nexports[\"default\"] = isPrototype;\n\n});\n\nunwrapExports(isPrototype_1);\n\nvar isRegExp_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar isRegExp = function (str) {\n    return isType_1[\"default\"](str, 'RegExp');\n};\nexports[\"default\"] = isRegExp;\n\n});\n\nunwrapExports(isRegExp_1);\n\nvar isUndefined_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar isUndefined = function (value) {\n    return value === undefined;\n};\nexports[\"default\"] = isUndefined;\n\n});\n\nunwrapExports(isUndefined_1);\n\nvar isElement_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * 判断是否HTML元素\n * @return {Boolean} 是否HTML元素\n */\nvar isElement = function (o) {\n    return o instanceof Element || o instanceof HTMLDocument;\n};\nexports[\"default\"] = isElement;\n\n});\n\nunwrapExports(isElement_1);\n\nvar requestAnimationFrame_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nfunction requestAnimationFrame(fn) {\n    var method = window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        // @ts-ignore\n        window.mozRequestAnimationFrame ||\n        // @ts-ignore\n        window.msRequestAnimationFrame ||\n        function (f) {\n            return setTimeout(f, 16);\n        };\n    return method(fn);\n}\nexports[\"default\"] = requestAnimationFrame;\n\n});\n\nunwrapExports(requestAnimationFrame_1);\n\nvar clearAnimationFrame = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nfunction cancelAnimationFrame(handler) {\n    var method = window.cancelAnimationFrame ||\n        window.webkitCancelAnimationFrame ||\n        // @ts-ignore\n        window.mozCancelAnimationFrame ||\n        // @ts-ignore\n        window.msCancelAnimationFrame ||\n        clearTimeout;\n    method(handler);\n}\nexports[\"default\"] = cancelAnimationFrame;\n\n});\n\nunwrapExports(clearAnimationFrame);\n\nvar mix_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n            dist[key] = obj[key];\n        }\n    }\n}\nfunction mix(dist, src1, src2, src3) {\n    if (src1)\n        { _mix(dist, src1); }\n    if (src2)\n        { _mix(dist, src2); }\n    if (src3)\n        { _mix(dist, src3); }\n    return dist;\n}\nexports[\"default\"] = mix;\n\n});\n\nunwrapExports(mix_1);\n\nvar augment_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar augment = function () {\n    var arguments$1 = arguments;\n\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments$1[_i];\n    }\n    var c = args[0];\n    for (var i = 1; i < args.length; i++) {\n        var obj = args[i];\n        if (isFunction[\"default\"](obj)) {\n            obj = obj.prototype;\n        }\n        mix_1[\"default\"](c.prototype, obj);\n    }\n};\nexports[\"default\"] = augment;\n\n});\n\nunwrapExports(augment_1);\n\nvar clone_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar clone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    var rst;\n    if (isArray[\"default\"](obj)) {\n        rst = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n            if (typeof obj[i] === 'object' && obj[i] != null) {\n                rst[i] = clone(obj[i]);\n            }\n            else {\n                rst[i] = obj[i];\n            }\n        }\n    }\n    else {\n        rst = {};\n        for (var k in obj) {\n            if (typeof obj[k] === 'object' && obj[k] != null) {\n                rst[k] = clone(obj[k]);\n            }\n            else {\n                rst[k] = obj[k];\n            }\n        }\n    }\n    return rst;\n};\nexports[\"default\"] = clone;\n\n});\n\nunwrapExports(clone_1);\n\nvar debounce_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nfunction debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexports[\"default\"] = debounce;\n\n});\n\nunwrapExports(debounce_1);\n\nvar cache = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * k-v 存储\n */\nvar default_1 = /** @class */ (function () {\n    function default_1() {\n        this.map = {};\n    }\n    default_1.prototype.has = function (key) {\n        return this.map[key] !== undefined;\n    };\n    default_1.prototype.get = function (key, def) {\n        var v = this.map[key];\n        return v === undefined ? def : v;\n    };\n    default_1.prototype.set = function (key, value) {\n        this.map[key] = value;\n    };\n    default_1.prototype.clear = function () {\n        this.map = {};\n    };\n    default_1.prototype[\"delete\"] = function (key) {\n        delete this.map[key];\n    };\n    default_1.prototype.size = function () {\n        return Object.keys(this.map).length;\n    };\n    return default_1;\n}());\nexports[\"default\"] = default_1;\n\n});\n\nunwrapExports(cache);\n\nvar memoize = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexports[\"default\"] = (function (f, resolver) {\n    if (!isFunction[\"default\"](f)) {\n        throw new TypeError('Expected a function');\n    }\n    var memoized = function () {\n        var arguments$1 = arguments;\n\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments$1[_i];\n        }\n        // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n        var key = resolver ? resolver.apply(this, args) : args[0];\n        var cache = memoized.cache;\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        var result = f.apply(this, args);\n        // 缓存起来\n        cache.set(key, result);\n        return result;\n    };\n    memoized.cache = new cache[\"default\"]();\n    return memoized;\n});\n\n});\n\nunwrapExports(memoize);\n\nvar deepMix_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject_1[\"default\"](value)) {\n                if (!isPlainObject_1[\"default\"](dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray[\"default\"](value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo 重写\nvar deepMix = function (rst) {\n    var arguments$1 = arguments;\n\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments$1[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexports[\"default\"] = deepMix;\n\n});\n\nvar merge = unwrapExports(deepMix_1);\n\nvar extend_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar extend = function (subclass, superclass, overrides, staticOverrides) {\n    // 如果只提供父类构造函数，则自动生成子类构造函数\n    if (!isFunction[\"default\"](superclass)) {\n        overrides = superclass;\n        superclass = subclass;\n        subclass = function () { };\n    }\n    var create = Object.create ?\n        function (proto, c) {\n            return Object.create(proto, {\n                constructor: {\n                    value: c\n                }\n            });\n        } :\n        function (proto, c) {\n            function Tmp() { }\n            Tmp.prototype = proto;\n            var o = new Tmp();\n            o.constructor = c;\n            return o;\n        };\n    var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n    subclass.prototype = mix_1[\"default\"](superObj, subclass.prototype); // 指定子类的prototype\n    subclass.superclass = create(superclass.prototype, superclass);\n    mix_1[\"default\"](superObj, overrides);\n    mix_1[\"default\"](subclass, staticOverrides);\n    return subclass;\n};\nexports[\"default\"] = extend;\n\n});\n\nunwrapExports(extend_1);\n\nvar indexOf_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike_1[\"default\"](arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexports[\"default\"] = indexOf;\n\n});\n\nunwrapExports(indexOf_1);\n\nvar isEmpty_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmpty(value) {\n    /**\n     * isEmpty(null) => true\n     * isEmpty() => true\n     * isEmpty(true) => true\n     * isEmpty(1) => true\n     * isEmpty([1, 2, 3]) => false\n     * isEmpty('abc') => false\n     * isEmpty({ a: 1 }) => false\n     */\n    if (isNil_1[\"default\"](value)) {\n        return true;\n    }\n    if (isArrayLike_1[\"default\"](value)) {\n        return !value.length;\n    }\n    var type = getType_1[\"default\"](value);\n    if (type === 'Map' || type === 'Set') {\n        return !value.size;\n    }\n    if (isPrototype_1[\"default\"](value)) {\n        return !Object.keys(value).length;\n    }\n    for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n}\nexports[\"default\"] = isEmpty;\n\n});\n\nunwrapExports(isEmpty_1);\n\nvar isEqual_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (isString[\"default\"](value) || isString[\"default\"](other)) {\n        return false;\n    }\n    if (isArrayLike_1[\"default\"](value) || isArrayLike_1[\"default\"](other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (isObjectLike_1[\"default\"](value) || isObjectLike_1[\"default\"](other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexports[\"default\"] = isEqual;\n\n});\n\nunwrapExports(isEqual_1);\n\nvar isEqualWith = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\nexports[\"default\"] = (function (value, other, fn) {\n    if (!isFunction[\"default\"](fn)) {\n        return isEqual_1[\"default\"](value, other);\n    }\n    return !!fn(value, other);\n});\n\n});\n\nunwrapExports(isEqualWith);\n\nvar map_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar map = function (arr, func) {\n    if (!isArrayLike_1[\"default\"](arr)) {\n        // @ts-ignore\n        return arr;\n    }\n    var result = [];\n    each_1[\"default\"](arr, function (value, index) {\n        result.push(func(value, index));\n    });\n    return result;\n};\nexports[\"default\"] = map;\n\n});\n\nunwrapExports(map_1);\n\nvar mapValues = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar identity = function (v) { return v; };\nexports[\"default\"] = (function (object, func) {\n    if (func === void 0) { func = identity; }\n    var r = {};\n    if (isObject[\"default\"](object) && !isNil_1[\"default\"](object)) {\n        Object.keys(object).forEach(function (key) {\n            // @ts-ignore\n            r[key] = func(object[key], key);\n        });\n    }\n    return r;\n});\n\n});\n\nunwrapExports(mapValues);\n\nvar get = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexports[\"default\"] = (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString[\"default\"](key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return (obj === undefined || p < keyArr.length) ? defaultValue : obj;\n});\n\n});\n\nunwrapExports(get);\n\nvar set = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\nexports[\"default\"] = (function (obj, path, value) {\n    var o = obj;\n    var keyArr = isString[\"default\"](path) ? path.split('.') : path;\n    keyArr.forEach(function (key, idx) {\n        // 不是最后一个\n        if (idx < keyArr.length - 1) {\n            if (!isObject[\"default\"](o[key])) {\n                o[key] = isNumber_1[\"default\"](keyArr[idx + 1]) ? [] : {};\n            }\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return obj;\n});\n\n});\n\nunwrapExports(set);\n\nvar pick = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexports[\"default\"] = (function (object, keys) {\n    if (object === null || !isPlainObject_1[\"default\"](object)) {\n        return {};\n    }\n    var result = {};\n    each_1[\"default\"](keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n\n});\n\nunwrapExports(pick);\n\nvar throttle = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nexports[\"default\"] = (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        { options = {}; }\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            { context = args = null; }\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            { previous = now; }\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                { context = args = null; }\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n\n});\n\nunwrapExports(throttle);\n\nvar toArray = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports[\"default\"] = (function (value) {\n    return isArrayLike_1[\"default\"](value) ? Array.prototype.slice.call(value) : [];\n});\n\n});\n\nunwrapExports(toArray);\n\nvar uniqueId = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar map = {};\nexports[\"default\"] = (function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n        map[prefix] = 1;\n    }\n    else {\n        map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n});\n\n});\n\nunwrapExports(uniqueId);\n\nvar noop = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nexports[\"default\"] = (function () { });\n\n});\n\nunwrapExports(noop);\n\nvar identity = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nexports[\"default\"] = (function (v) { return v; });\n\n});\n\nunwrapExports(identity);\n\nvar size_1 = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\nfunction size(o) {\n    if (isNil_1[\"default\"](o)) {\n        return 0;\n    }\n    if (isArrayLike_1[\"default\"](o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\nexports[\"default\"] = size;\n\n});\n\nunwrapExports(size_1);\n\nvar lib = createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n// array\n\nexports.contains = contains_1[\"default\"];\nexports.includes = contains_1[\"default\"];\n\nexports.difference = difference_1[\"default\"];\n\nexports.find = find_1[\"default\"];\n\nexports.findIndex = findIndex_1[\"default\"];\n\nexports.firstValue = firstValue_1[\"default\"];\n\nexports.flatten = flatten_1[\"default\"];\n\nexports.flattenDeep = flattenDeep_1[\"default\"];\n\nexports.getRange = getRange_1[\"default\"];\n\nexports.pull = pull_1[\"default\"];\n\nexports.pullAt = pullAt_1[\"default\"];\n\nexports.reduce = reduce_1[\"default\"];\n\nexports.remove = remove_1[\"default\"];\n\nexports.sortBy = sortBy_1[\"default\"];\n\nexports.union = union_1[\"default\"];\n\nexports.uniq = uniq_1[\"default\"];\n\nexports.valuesOfKey = valuesOfKey[\"default\"];\n\nexports.head = head_1[\"default\"];\n\nexports.last = last_1[\"default\"];\n\nexports.startsWith = startsWith_1[\"default\"];\n\nexports.endsWith = endsWith_1[\"default\"];\n\nexports.filter = filter_1[\"default\"];\n\nexports.every = every_1[\"default\"];\n\nexports.some = some_1[\"default\"];\n\nexports.group = group[\"default\"];\n\nexports.groupBy = groupBy_1[\"default\"];\n\nexports.groupToMap = groupToMap_1[\"default\"];\n// event\n\nexports.getWrapBehavior = getWrapBehavior_1[\"default\"];\n\nexports.wrapBehavior = wrapBehavior_1[\"default\"];\n// format\n\nexports.number2color = number2color[\"default\"];\n\nexports.parseRadius = parseRadius_1[\"default\"];\n// math\n\nexports.clamp = clamp_1[\"default\"];\n\nexports.fixedBase = fixedBase_1[\"default\"];\n\nexports.isDecimal = isDecimal_1[\"default\"];\n\nexports.isEven = isEven_1[\"default\"];\n\nexports.isInteger = isInteger_1[\"default\"];\n\nexports.isNegative = isNegative_1[\"default\"];\n\nexports.isNumberEqual = isNumberEqual_1[\"default\"];\n\nexports.isOdd = isOdd_1[\"default\"];\n\nexports.isPositive = isPositive_1[\"default\"];\n\nexports.maxBy = maxBy[\"default\"];\n\nexports.minBy = minBy[\"default\"];\n\nexports.mod = mod_1[\"default\"];\n\nexports.toDegree = toDegree_1[\"default\"];\n\nexports.toInteger = toInteger[\"default\"];\n\nexports.toRadian = toRadian_1[\"default\"];\n// object\n\nexports.forIn = forIn[\"default\"];\n\nexports.has = has[\"default\"];\n\nexports.hasKey = hasKey[\"default\"];\n\nexports.hasValue = hasValue[\"default\"];\n\nexports.keys = keys_1[\"default\"];\n\nexports.isMatch = isMatch_1[\"default\"];\n\nexports.values = values_1[\"default\"];\n// string\n\nexports.lowerCase = lowerCase_1[\"default\"];\n\nexports.lowerFirst = lowerFirst_1[\"default\"];\n\nexports.substitute = substitute_1[\"default\"];\n\nexports.upperCase = upperCase_1[\"default\"];\n\nexports.upperFirst = upperFirst_1[\"default\"];\n// type\n\nexports.getType = getType_1[\"default\"];\n\nexports.isArguments = isArguments_1[\"default\"];\n\nexports.isArray = isArray[\"default\"];\n\nexports.isArrayLike = isArrayLike_1[\"default\"];\n\nexports.isBoolean = isBoolean_1[\"default\"];\n\nexports.isDate = isDate_1[\"default\"];\n\nexports.isError = isError_1[\"default\"];\n\nexports.isFunction = isFunction[\"default\"];\n\nexports.isFinite = _isFinite[\"default\"];\n\nexports.isNil = isNil_1[\"default\"];\n\nexports.isNull = isNull_1[\"default\"];\n\nexports.isNumber = isNumber_1[\"default\"];\n\nexports.isObject = isObject[\"default\"];\n\nexports.isObjectLike = isObjectLike_1[\"default\"];\n\nexports.isPlainObject = isPlainObject_1[\"default\"];\n\nexports.isPrototype = isPrototype_1[\"default\"];\n\nexports.isRegExp = isRegExp_1[\"default\"];\n\nexports.isString = isString[\"default\"];\n\nexports.isType = isType_1[\"default\"];\n\nexports.isUndefined = isUndefined_1[\"default\"];\n\nexports.isElement = isElement_1[\"default\"];\n\nexports.requestAnimationFrame = requestAnimationFrame_1[\"default\"];\n\nexports.clearAnimationFrame = clearAnimationFrame[\"default\"];\n// other\n\nexports.augment = augment_1[\"default\"];\n\nexports.clone = clone_1[\"default\"];\n\nexports.debounce = debounce_1[\"default\"];\n\nexports.memoize = memoize[\"default\"];\n\nexports.deepMix = deepMix_1[\"default\"];\n\nexports.each = each_1[\"default\"];\n\nexports.extend = extend_1[\"default\"];\n\nexports.indexOf = indexOf_1[\"default\"];\n\nexports.isEmpty = isEmpty_1[\"default\"];\n\nexports.isEqual = isEqual_1[\"default\"];\n\nexports.isEqualWith = isEqualWith[\"default\"];\n\nexports.map = map_1[\"default\"];\n\nexports.mapValues = mapValues[\"default\"];\n\nexports.mix = mix_1[\"default\"];\nexports.assign = mix_1[\"default\"];\n\nexports.get = get[\"default\"];\n\nexports.set = set[\"default\"];\n\nexports.pick = pick[\"default\"];\n\nexports.throttle = throttle[\"default\"];\n\nexports.toArray = toArray[\"default\"];\n\nexports.toString = toString_1[\"default\"];\n\nexports.uniqueId = uniqueId[\"default\"];\n\nexports.noop = noop[\"default\"];\n\nexports.identity = identity[\"default\"];\n\nexports.size = size_1[\"default\"];\n// 不知道为什么，需要把这个 export，不然 ts 会报类型错误\n\nexports.Cache = cache[\"default\"];\n\n});\n\nvar index = unwrapExports(lib);\nvar lib_1 = lib.contains;\nvar lib_2 = lib.includes;\nvar lib_3 = lib.difference;\nvar lib_4 = lib.find;\nvar lib_5 = lib.findIndex;\nvar lib_6 = lib.firstValue;\nvar lib_7 = lib.flatten;\nvar lib_8 = lib.flattenDeep;\nvar lib_9 = lib.getRange;\nvar lib_10 = lib.pull;\nvar lib_11 = lib.pullAt;\nvar lib_12 = lib.reduce;\nvar lib_13 = lib.remove;\nvar lib_14 = lib.sortBy;\nvar lib_15 = lib.union;\nvar lib_16 = lib.uniq;\nvar lib_17 = lib.valuesOfKey;\nvar lib_18 = lib.head;\nvar lib_19 = lib.last;\nvar lib_20 = lib.startsWith;\nvar lib_21 = lib.endsWith;\nvar lib_22 = lib.filter;\nvar lib_23 = lib.every;\nvar lib_24 = lib.some;\nvar lib_25 = lib.group;\nvar lib_26 = lib.groupBy;\nvar lib_27 = lib.groupToMap;\nvar lib_28 = lib.getWrapBehavior;\nvar lib_29 = lib.wrapBehavior;\nvar lib_30 = lib.number2color;\nvar lib_31 = lib.parseRadius;\nvar lib_32 = lib.clamp;\nvar lib_33 = lib.fixedBase;\nvar lib_34 = lib.isDecimal;\nvar lib_35 = lib.isEven;\nvar lib_36 = lib.isInteger;\nvar lib_37 = lib.isNegative;\nvar lib_38 = lib.isNumberEqual;\nvar lib_39 = lib.isOdd;\nvar lib_40 = lib.isPositive;\nvar lib_41 = lib.maxBy;\nvar lib_42 = lib.minBy;\nvar lib_43 = lib.mod;\nvar lib_44 = lib.toDegree;\nvar lib_45 = lib.toInteger;\nvar lib_46 = lib.toRadian;\nvar lib_47 = lib.forIn;\nvar lib_48 = lib.has;\nvar lib_49 = lib.hasKey;\nvar lib_50 = lib.hasValue;\nvar lib_51 = lib.keys;\nvar lib_52 = lib.isMatch;\nvar lib_53 = lib.values;\nvar lib_54 = lib.lowerCase;\nvar lib_55 = lib.lowerFirst;\nvar lib_56 = lib.substitute;\nvar lib_57 = lib.upperCase;\nvar lib_58 = lib.upperFirst;\nvar lib_59 = lib.getType;\nvar lib_60 = lib.isArguments;\nvar lib_61 = lib.isArray;\nvar lib_62 = lib.isArrayLike;\nvar lib_63 = lib.isBoolean;\nvar lib_64 = lib.isDate;\nvar lib_65 = lib.isError;\nvar lib_66 = lib.isFunction;\nvar lib_67 = lib.isFinite;\nvar lib_68 = lib.isNil;\nvar lib_69 = lib.isNull;\nvar lib_70 = lib.isNumber;\nvar lib_71 = lib.isObject;\nvar lib_72 = lib.isObjectLike;\nvar lib_73 = lib.isPlainObject;\nvar lib_74 = lib.isPrototype;\nvar lib_75 = lib.isRegExp;\nvar lib_76 = lib.isString;\nvar lib_77 = lib.isType;\nvar lib_78 = lib.isUndefined;\nvar lib_79 = lib.isElement;\nvar lib_80 = lib.requestAnimationFrame;\nvar lib_81 = lib.clearAnimationFrame;\nvar lib_82 = lib.augment;\nvar lib_83 = lib.clone;\nvar lib_84 = lib.debounce;\nvar lib_85 = lib.memoize;\nvar lib_86 = lib.deepMix;\nvar lib_87 = lib.each;\nvar lib_88 = lib.extend;\nvar lib_89 = lib.indexOf;\nvar lib_90 = lib.isEmpty;\nvar lib_91 = lib.isEqual;\nvar lib_92 = lib.isEqualWith;\nvar lib_93 = lib.map;\nvar lib_94 = lib.mapValues;\nvar lib_95 = lib.mix;\nvar lib_96 = lib.assign;\nvar lib_97 = lib.get;\nvar lib_98 = lib.set;\nvar lib_99 = lib.pick;\nvar lib_100 = lib.throttle;\nvar lib_101 = lib.toArray;\nvar lib_102 = lib.uniqueId;\nvar lib_103 = lib.noop;\nvar lib_104 = lib.identity;\nvar lib_105 = lib.size;\nvar lib_106 = lib.Cache;\n\nvar Utils = /*#__PURE__*/Object.freeze({\n__proto__: null,\n'default': index,\n__moduleExports: lib,\ncontains: lib_1,\nincludes: lib_2,\ndifference: lib_3,\nfind: lib_4,\nfindIndex: lib_5,\nfirstValue: lib_6,\nflatten: lib_7,\nflattenDeep: lib_8,\ngetRange: lib_9,\npull: lib_10,\npullAt: lib_11,\nreduce: lib_12,\nremove: lib_13,\nsortBy: lib_14,\nunion: lib_15,\nuniq: lib_16,\nvaluesOfKey: lib_17,\nhead: lib_18,\nlast: lib_19,\nstartsWith: lib_20,\nendsWith: lib_21,\nfilter: lib_22,\nevery: lib_23,\nsome: lib_24,\ngroup: lib_25,\ngroupBy: lib_26,\ngroupToMap: lib_27,\ngetWrapBehavior: lib_28,\nwrapBehavior: lib_29,\nnumber2color: lib_30,\nparseRadius: lib_31,\nclamp: lib_32,\nfixedBase: lib_33,\nisDecimal: lib_34,\nisEven: lib_35,\nisInteger: lib_36,\nisNegative: lib_37,\nisNumberEqual: lib_38,\nisOdd: lib_39,\nisPositive: lib_40,\nmaxBy: lib_41,\nminBy: lib_42,\nmod: lib_43,\ntoDegree: lib_44,\ntoInteger: lib_45,\ntoRadian: lib_46,\nforIn: lib_47,\nhas: lib_48,\nhasKey: lib_49,\nhasValue: lib_50,\nkeys: lib_51,\nisMatch: lib_52,\nvalues: lib_53,\nlowerCase: lib_54,\nlowerFirst: lib_55,\nsubstitute: lib_56,\nupperCase: lib_57,\nupperFirst: lib_58,\ngetType: lib_59,\nisArguments: lib_60,\nisArray: lib_61,\nisArrayLike: lib_62,\nisBoolean: lib_63,\nisDate: lib_64,\nisError: lib_65,\nisFunction: lib_66,\nisFinite: lib_67,\nisNil: lib_68,\nisNull: lib_69,\nisNumber: lib_70,\nisObject: lib_71,\nisObjectLike: lib_72,\nisPlainObject: lib_73,\nisPrototype: lib_74,\nisRegExp: lib_75,\nisString: lib_76,\nisType: lib_77,\nisUndefined: lib_78,\nisElement: lib_79,\nrequestAnimationFrame: lib_80,\nclearAnimationFrame: lib_81,\naugment: lib_82,\nclone: lib_83,\ndebounce: lib_84,\nmemoize: lib_85,\ndeepMix: lib_86,\neach: lib_87,\nextend: lib_88,\nindexOf: lib_89,\nisEmpty: lib_90,\nisEqual: lib_91,\nisEqualWith: lib_92,\nmap: lib_93,\nmapValues: lib_94,\nmix: lib_95,\nassign: lib_96,\nget: lib_97,\nset: lib_98,\npick: lib_99,\nthrottle: lib_100,\ntoArray: lib_101,\nuniqueId: lib_102,\nnoop: lib_103,\nidentity: lib_104,\nsize: lib_105,\nCache: lib_106\n});\n\nvar Util = Object.assign({}, {assign: lib_95, // simple mix\n  merge: lib_86, // deep mix\n  cloneDeep: lib_83,\n  isFinite: isFinite,\n  isNaN: isNaN,\n  snapEqual: lib_38,\n  remove: lib_10,\n  inArray: lib_1},\n  Utils);\n\nUtil.Array = {\n  groupToMap: lib_27,\n  group: lib_25,\n  merge: Util.merge,\n  values: lib_17,\n  getRange: lib_9,\n  firstValue: lib_6,\n  remove: lib_10\n};\n\n/**\n * @fileOverview Chart、View、Geometry 的基类\n * @author dxq613@gmail.com\n */\n\nvar Base = /*@__PURE__*/(function (EventEmitter) {\n  function Base(cfg) {\n    EventEmitter.call(this);\n    var attrs = {\n      visible: true\n    };\n    var defaultCfg = this.getDefaultCfg();\n    this._attrs = attrs;\n    Util.assign(attrs, defaultCfg, cfg);\n  }\n\n  if ( EventEmitter ) Base.__proto__ = EventEmitter;\n  Base.prototype = Object.create( EventEmitter && EventEmitter.prototype );\n  Base.prototype.constructor = Base;\n\n  Base.prototype.getDefaultCfg = function getDefaultCfg () {\n    return {};\n  };\n\n  Base.prototype.get = function get (name) {\n    return this._attrs[name];\n  };\n\n  Base.prototype.set = function set (name, value) {\n    this._attrs[name] = value;\n  };\n  Base.prototype.destroy = function destroy () {\n    this._attrs = {};\n    this.removeAllListeners();\n    this.destroyed = true;\n  };\n\n  return Base;\n}(EventEmitter));\n\nvar name = \"@antv/l7\";\nvar version = \"1.4.4\";\nvar description = \"Large-scale WebGL-powered Geospatial Data Visualization\";\nvar main = \"build/L7.js\";\nvar homepage = \"https://github.com/antvis/l7\";\nvar repository = {\n\ttype: \"git\",\n\turl: \"git@github.com:antvis/l7.git\"\n};\nvar bugs = {\n\turl: \"https://github.com/antvis/l7/issues\"\n};\nvar keywords = [\n\t\"l7\",\n\t\"gis\",\n\t\"geometry\"\n];\nvar author = \"https://github.com/orgs/antvis/people\";\nvar license = \"MIT\";\nvar devDependencies = {\n\t\"@babel/cli\": \"^7.4.3\",\n\t\"@babel/core\": \"~7.4.3\",\n\t\"@babel/preset-env\": \"~7.4.3\",\n\t\"babel-eslint\": \"~8.0.3\",\n\t\"babel-loader\": \"~8.0.0\",\n\t\"babel-plugin-transform-remove-strict-mode\": \"~0.0.2\",\n\t\"babel-preset-env\": \"~1.6.1\",\n\t\"body-parser\": \"^1.18.2\",\n\tchai: \"~4.1.2\",\n\tcommander: \"~2.12.2\",\n\tconnect: \"^3.6.6\",\n\t\"d3-queue\": \"~3.0.7\",\n\tdebug: \"~3.1.0\",\n\telectron: \"~2.0.2\",\n\teslint: \"~6.1.0\",\n\t\"eslint-config-egg\": \"~7.4.1\",\n\t\"eslint-plugin-html\": \"~6.0.0\",\n\t\"event-simulate\": \"~1.0.0\",\n\t\"get-port\": \"~3.2.0\",\n\t\"glsl-shaders-loader\": \"^1.0.0\",\n\tjszip: \"^3.1.5\",\n\tnightmare: \"~2.10.0\",\n\tnunjucks: \"~3.0.1\",\n\topen: \"~6.4.0\",\n\tparseurl: \"~1.3.2\",\n\t\"postcss-url\": \"^8.0.0\",\n\t\"pre-commit\": \"^1.2.2\",\n\trollup: \"^1.16.2\",\n\t\"rollup-plugin-buble\": \"^0.19.6\",\n\t\"rollup-plugin-commonjs\": \"^9.2.1\",\n\t\"rollup-plugin-css-porter\": \"^1.0.2\",\n\t\"rollup-plugin-image\": \"^1.0.2\",\n\t\"rollup-plugin-json\": \"^4.0.0\",\n\t\"rollup-plugin-node-builtins\": \"^2.1.2\",\n\t\"rollup-plugin-node-resolve\": \"^4.0.1\",\n\t\"rollup-plugin-postcss\": \"^2.0.3\",\n\t\"rollup-plugin-sourcemaps\": \"^0.4.2\",\n\t\"rollup-plugin-terser\": \"^4.0.4\",\n\t\"serve-static\": \"^1.13.2\",\n\tshelljs: \"~0.7.8\",\n\t\"string-replace-loader\": \"~1.3.0\",\n\ttorchjs: \"~2.1.0\",\n\t\"uglify-js\": \"~3.1.10\"\n};\nvar scripts = {\n\t\"build-dev\": \"rollup -c --environment BUILD:dev\",\n\t\"watch-dev\": \"rollup -c --environment BUILD:dev,MINIFY:false --watch & npm run demos-web \",\n\t\"build-prod\": \"rollup -c --environment BUILD:production,MINIFY:false\",\n\t\"build-prod-min\": \"rollup -c --environment BUILD:production,MINIFY:true\",\n\tbuild: \"rollup -c --environment BUILD:production\",\n\t\"build-lib\": \"babel src --out-dir lib\",\n\tbundler: \"electron ./bundler/app.js\",\n\tci: \"npm run lint && npm run test\",\n\t\"compress-l7\": \"uglifyjs -c -m -o dist/l7.min.js -- build/l7.js\",\n\t\"compress-core\": \"uglifyjs -c -m -o dist/l7-core.min.js -- build/l7-core.js\",\n\t\"compress-simple\": \"uglifyjs -c -m -o dist/l7-simple.min.js -- build/l7-simple.js\",\n\tcompress: \"npm run compress-l7\",\n\tcoverage: \"npm run coverage-generator && npm run coverage-viewer\",\n\t\"coverage-generator\": \"torch --compile --coverage --renderer --recursive test/unit\",\n\t\"coverage-viewer\": \"torch-coverage\",\n\tdemos: \"electron ./demos/app.js\",\n\t\"demos-web\": \"node ./demos/app.js --web --port 2046\",\n\tdev: \"npm run watch & npm run demos-web\",\n\tdist: \"npm run build-prod-min && npm run build-prod\",\n\tlint: \"eslint --ext .html,.js ./\",\n\t\"lint-fix\": \"eslint --ext .html,.js --fix ./\",\n\t\"mkdir-dist\": \"node ./bin/mkdir-dist.js\",\n\tprepublishOnly: \"npm run dist\",\n\tscreenshot: \"node ./bin/screenshot.js\",\n\tstart: \"npm run watch-dev\",\n\ttest: \"torch  --compile-opts ./.torch.compile.opts.js --compile --renderer --recursive test/unit\",\n\t\"test-all\": \"npm run test && npm run test-bugs\",\n\t\"test-bugs\": \"torch --compile --renderer --recursive test/bugs\",\n\t\"test-bugs-live\": \"torch --compile --interactive --watch --recursive test/bugs\",\n\t\"test-live\": \"torch  --compile --interactive --watch --recursive test/unit\",\n\twatch: \"webpack --config webpack-dev.config.js\",\n\t\"win-dev\": \"node ./bin/win-dev.js\"\n};\nvar dependencies = {\n\t\"@antv/geo-coord\": \"^1.0.8\",\n\t\"@antv/util\": \"2.0.1\",\n\t\"@mapbox/geojson-rewind\": \"^0.4.0\",\n\t\"@mapbox/tiny-sdf\": \"^1.1.0\",\n\t\"@mapbox/vector-tile\": \"^1.3.1\",\n\t\"@turf/bbox\": \"^6.0.1\",\n\t\"@turf/clean-coords\": \"^6.0.1\",\n\t\"@turf/invariant\": \"^6.1.2\",\n\t\"@turf/meta\": \"^6.0.2\",\n\t\"d3-dsv\": \"^1.0.10\",\n\t\"d3-hexbin\": \"^0.2.2\",\n\tearcut: \"^2.1.3\",\n\tfecha: \"^2.3.3\",\n\t\"geojson-rewind\": \"^0.3.1\",\n\t\"gl-matrix\": \"^2.4.1\",\n\t\"gl-vec2\": \"^1.3.0\",\n\tlodash: \"^4.17.5\",\n\tpbf: \"^3.2.0\",\n\t\"polyline-miter-util\": \"^1.0.1\",\n\trbush: \"^2.0.2\",\n\t\"simple-statistics\": \"^7.0.1\",\n\tsupercluster: \"^6.0.1\",\n\tthree: \"^0.101.1\",\n\t\"viewport-mercator-project\": \"^5.2.0\",\n\t\"webworkify-webpack\": \"^2.1.3\",\n\t\"wolfy87-eventemitter\": \"~5.2.4\"\n};\nvar pkg = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\thomepage: homepage,\n\trepository: repository,\n\tbugs: bugs,\n\tkeywords: keywords,\n\tauthor: author,\n\tlicense: license,\n\tdevDependencies: devDependencies,\n\tscripts: scripts,\n\t\"pre-commit\": {\n\trun: [\n\t\t\"lint\",\n\t\t\"test\"\n\t],\n\tsilent: false\n},\n\tdependencies: dependencies\n};\n\nvar version$1 = 'v' + pkg.version;\n\n/**\n * @fileOverview 全局变量\n * @author dxq613\n */\nvar FONT_FAMILY = '\"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",SimSun, \"sans-serif\"';\nvar Global = {\n  version: version$1,\n  scene: {\n    mapType: 'AMAP',\n    zoom: 5,\n    center: [ 107.622, 39.266 ],\n    minZoom: 3,\n    maxZoom: 18,\n    pitch: 0,\n    hash: false,\n    zoomControl: true,\n    scaleControl: true,\n    attributionControl: true\n  },\n  animate: true,\n  height: 0,\n  activeColor: '#2f54eb',\n  colors: [ 'rgb(103,0,31)', 'rgb(178,24,43)', 'rgb(214,96,77)', 'rgb(244,165,130)', 'rgb(253,219,199)', 'rgb(247,247,247)', 'rgb(209,229,240)', 'rgb(146,197,222)', 'rgb(67,147,195)', 'rgb(33,102,172)', 'rgb(5,48,97)' ],\n  size: 10000,\n  shape: 'circle',\n  pattern: '',\n  snapArray: [ 0, 1, 2, 4, 5, 10 ],\n  pointShape: {\n    '2d': [ 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica' ],\n    '3d': [ 'cylinder', 'triangleColumn', 'hexagonColumn', 'squareColumn' ]\n  },\n  sdfHomeUrl: 'https://sdf.amap.com',\n  scales: { },\n  textStyle: {\n    fontSize: 12,\n    fill: '#ccc',\n    textBaseline: 'middle',\n    fontFamily: FONT_FAMILY,\n    textAlign: 'center'\n  }\n};\n\n/**\n * @fileOverview the base class of scale\n * @author dxq613@gmail.com\n */\n\n/**\n * 度量的构造函数\n * @class Scale\n */\nvar Base$1 = function Base(cfg) {\n  var defaultCfg = this.getDefaultCfg();\n  Util.mix(this, defaultCfg, cfg);\n  this.init();\n};\n\n/**\n * 度量初始化\n * @protected\n */\nBase$1.prototype.getDefaultCfg = function getDefaultCfg () {\n  return {\n    /**\n     * type of the scale\n     * @type {String}\n     */\n    type: 'base',\n\n    /**\n     * 格式化函数,输出文本或者tick时的格式化函数\n     * @type {Function}\n     */\n    formatter: null,\n\n    /**\n     * 输出的值域\n     * @type {Array}\n     */\n    range: [ 0, 1 ],\n\n    /**\n     * 度量的标记\n     * @type {Array}\n     */\n    ticks: null,\n\n    /**\n     * 参与度量计算的值，可选项\n     * @type {Array}\n     */\n    values: []\n  };\n};\n\nBase$1.prototype.init = function init () {\n\n};\n\nBase$1.prototype.getTicks = function getTicks () {\n  var self = this;\n  var ticks = self.ticks;\n  var rst = [];\n  Util.each(ticks, function(tick) {\n    var obj;\n    if (Util.isObject(tick)) {\n      obj = tick;\n    } else {\n      obj = {\n        text: self.getText(tick),\n        tickValue: tick,\n        value: self.scale(tick)\n      };\n    }\n    rst.push(obj);\n  });\n  return rst;\n};\n\n/**\n * 获取格式化后的文本\n * @param{*} value 输入的数据\n * @return {String} 格式化的文本\n */\nBase$1.prototype.getText = function getText (value) {\n  var formatter = this.formatter;\n  value = formatter ? formatter(value) : value;\n  if (Util.isNil(value) || !value.toString) {\n    value = '';\n  }\n  return value.toString();\n};\n/**\n * 输出的值域最小值\n * @protected\n * @return {Number} 返回最小的值\n */\nBase$1.prototype.rangeMin = function rangeMin () {\n  return this.range[0];\n};\n/**\n * 输出的值域最大值\n * @protected\n * @return {Number} 返回最大的值\n */\nBase$1.prototype.rangeMax = function rangeMax () {\n  var range = this.range;\n  return range[range.length - 1];\n};\n\n/**\n * 度量转换后的结果，翻转回输入域\n * @param{Number} value 需要翻转的数值\n * @return {*} 度量的输入值\n */\nBase$1.prototype.invert = function invert (value) {\n  return value;\n};\n/**\n * 将传入的值从非数值转换成数值格式，如分类字符串、时间字符串等\n * @param{*} value 传入的值\n * @return {Number} 转换的值\n */\nBase$1.prototype.translate = function translate (value) {\n  return value;\n};\n/**\n * 进行度量转换\n * @param{*} value 输入值\n * @return {Number} 输出值，在设定的输出值域之间，默认[0,1]\n */\nBase$1.prototype.scale = function scale (value) {\n  return value;\n};\n/**\n * 克隆一个新的scale,拥有跟当前scale相同的输入域、输出域等\n * @return {Scale} 克隆的度量\n */\nBase$1.prototype.clone = function clone () {\n  var self = this;\n  var constr = self.constructor;\n  var cfg = {};\n  Util.each(self, function(v, k) {\n    cfg[k] = self[k];\n  });\n  return new constr(cfg);\n};\n/**\n * 更改度量的属性信息\n * @param{Object} info 属性信息\n * @return {Scale} 返回自身的引用\n */\nBase$1.prototype.change = function change (info) {\n  this.ticks = null;\n  Util.mix(this, info);\n  this.init();\n  return this;\n};\n\n/**\n * @fileOverview 计算方法\n * @author dxq613@gmail.com\n */\n\n// 如果小数点后面超过 10 位浮点数时进行一下处理\nvar DECIMAL_LENGTH = 12;\n// 获取系数\nfunction getFactor(v) {\n  var factor = 1;\n  if (v === Infinity || v === -Infinity) {\n    throw new Error('Not support Infinity!');\n  }\n  if (v < 1) {\n    var count = 0;\n    while (v < 1) {\n      factor = factor / 10;\n      v = v * 10;\n      count++;\n    }\n    // 浮点数计算出现问题\n    if (factor.toString().length > DECIMAL_LENGTH) {\n      factor = parseFloat(factor.toFixed(count));\n    }\n  } else {\n    while (v > 10) {\n      factor = factor * 10;\n      v = v / 10;\n    }\n  }\n\n  return factor;\n}\n\n// 取小于当前值的\nfunction arrayFloor(values, value) {\n  var length = values.length;\n  if (length === 0) {\n    return NaN;\n  }\n\n  var pre = values[0];\n\n  if (value < values[0]) {\n    return NaN;\n  }\n\n  if (value >= values[length - 1]) {\n    return values[length - 1];\n  }\n  for (var i = 1; i < values.length; i++) {\n    if (value < values[i]) {\n      break;\n    }\n    pre = values[i];\n  }\n\n  return pre;\n}\n\n// 大于当前值的第一个\nfunction arrayCeiling(values, value) {\n  var length = values.length;\n  if (length === 0) {\n    return NaN;\n  }\n  // var pre = values[0];\n  var rst;\n  if (value > values[length - 1]) {\n    return NaN;\n  }\n  if (value < values[0]) {\n    return values[0];\n  }\n\n  for (var i = 1; i < values.length; i++) {\n    if (value <= values[i]) {\n      rst = values[i];\n      break;\n    }\n  }\n\n  return rst;\n}\n\nvar Util$1 = {\n  // 获取逼近的数值\n  snapFactorTo: function snapFactorTo(v, arr, snapType) {\n    // 假设 v = -512,isFloor = true\n    if (isNaN(v)) {\n      return NaN;\n    }\n    var factor = 1; // 计算系数\n    if (v !== 0) {\n      if (v < 0) {\n        factor = -1;\n      }\n      v = v * factor; // v = 512\n      var tmpFactor = getFactor(v);\n      factor = factor * tmpFactor; // factor = -100\n\n      v = v / tmpFactor; // v = 5.12\n    }\n    if (snapType === 'floor') {\n      v = Util$1.snapFloor(arr, v); // v = 5\n    } else if (snapType === 'ceil') {\n      v = Util$1.snapCeiling(arr, v); // v = 6\n    } else {\n      v = Util$1.snapTo(arr, v); // 四舍五入 5\n    }\n    var rst = v * factor;\n    // 如果出现浮点数计算问题，需要处理一下\n    if (Math.abs(factor) < 1 && rst.toString().length > DECIMAL_LENGTH) {\n      var decimalVal = parseInt(1 / factor);\n      var symbol = factor > 0 ? 1 : -1;\n      rst = (v / decimalVal) * symbol;\n    }\n    return rst;\n  },\n  // 获取逼近的倍数\n  snapMultiple: function snapMultiple(v, base, snapType) {\n    var div;\n    if (snapType === 'ceil') {\n      div = Math.ceil(v / base);\n    } else if (snapType === 'floor') {\n      div = Math.floor(v / base);\n    } else {\n      div = Math.round(v / base);\n    }\n    return div * base;\n  },\n  /**\n   * 获取逼近的值，用于对齐数据\n   * @param  {Array} values   数据集合\n   * @param  {Number} value   数值\n   * @return {Number} 逼近的值\n   */\n  snapTo: function snapTo(values, value) {\n    // 这里假定values是升序排列\n    var floorVal = arrayFloor(values, value);\n    var ceilingVal = arrayCeiling(values, value);\n    if (isNaN(floorVal) || isNaN(ceilingVal)) {\n      if (values[0] >= value) {\n        return values[0];\n      }\n      var last = values[values.length - 1];\n      if (last <= value) {\n        return last;\n      }\n    }\n    if (Math.abs(value - floorVal) < Math.abs(ceilingVal - value)) {\n      return floorVal;\n    }\n    return ceilingVal;\n  },\n  /**\n   * 获取逼近的最小值，用于对齐数据\n   * @param  {Array} values   数据集合\n   * @param  {Number} value   数值\n   * @return {Number} 逼近的最小值\n   */\n  snapFloor: function snapFloor(values, value) {\n    // 这里假定values是升序排列\n    return arrayFloor(values, value);\n  },\n  /**\n   * 获取逼近的最大值，用于对齐数据\n   * @param  {Array} values   数据集合\n   * @param  {Number} value   数值\n   * @return {Number} 逼近的最大值\n   */\n  snapCeiling: function snapCeiling(values, value) {\n    // 这里假定values是升序排列\n    return arrayCeiling(values, value);\n  }\n};\n\n/**\n * @fileOverview 自动计算数字坐标轴\n * @author dxq613@gmail.com\n */\nvar MIN_COUNT = 5;\nvar MAX_COUNT = 7;\n\nfunction numberAuto(info) {\n  var min = info.min;\n  var max = info.max;\n  var interval = info.interval;\n  var ticks = [];\n  var minCount = info.minCount || MIN_COUNT;\n  var maxCount = info.maxCount || MAX_COUNT;\n  var isFixedCount = minCount === maxCount; // 是否限定死了个数\n  var minLimit = Util.isNil(info.minLimit) ? -Infinity : info.minLimit; // 限定的最小值\n  var maxLimit = Util.isNil(info.maxLimit) ? Infinity : info.maxLimit; // 限定最大值\n  var avgCount = (minCount + maxCount) / 2;\n  var count = avgCount;\n  // 用户传入的逼近数组\n  var snapArray = info.snapArray ? info.snapArray : (isFixedCount ? Global.snapCountArray : Global.snapArray);\n\n  // 如果限定大小范围，同时大小范围等于用户传入的范围，同时限定了个数，interval 按照个数均分\n  if (min === minLimit && max === maxLimit && isFixedCount) {\n    interval = (max - min) / (count - 1);\n  }\n\n  if (Util.isNil(min)) {\n    min = 0;\n  }\n  if (Util.isNil(max)) {\n    max = 0;\n  }\n  if (max === min) {\n    if (min === 0) {\n      max = 1;\n    } else {\n      if (min > 0) {\n        min = 0;\n      } else {\n        max = 0;\n      }\n    }\n    if (max - min < 5 && !interval && max - min >= 1) {\n      interval = 1;\n    }\n  }\n\n  if (Util.isNil(interval)) {\n    // 计算间距\n    var temp = (max - min) / (avgCount - 1);\n    interval = Util$1.snapFactorTo(temp, snapArray, 'ceil');\n    if (maxCount !== minCount) {\n      count = parseInt((max - min) / interval, 10);\n      if (count > maxCount) {\n        count = maxCount;\n      }\n      if (count < minCount) {\n        count = minCount;\n      }\n      // 不确定tick的个数时，使得tick偏小\n      interval = Util$1.snapFactorTo((max - min) / (count - 1), snapArray, 'floor');\n    }\n  }\n  if (info.interval || maxCount !== minCount) {\n    // 校正 max 和 min\n    max = Math.min(Util$1.snapMultiple(max, interval, 'ceil'), maxLimit); // 向上逼近\n    min = Math.max(Util$1.snapMultiple(min, interval, 'floor'), minLimit); // 向下逼近\n\n    count = Math.round((max - min) / interval);\n    min = Util.fixedBase(min, interval);\n    max = Util.fixedBase(max, interval);\n  } else {\n    avgCount = parseInt(avgCount, 10); // 取整\n    var avg = (max + min) / 2;\n    var avgTick = Util$1.snapMultiple(avg, interval, 'ceil');\n    var sideCount = Math.floor((avgCount - 2) / 2);\n    var maxTick = avgTick + sideCount * interval;\n    var minTick;\n    if (avgCount % 2 === 0) {\n      minTick = avgTick - sideCount * interval;\n    } else {\n      minTick = avgTick - (sideCount + 1) * interval;\n    }\n    if (maxTick < max) {\n      maxTick = maxTick + interval;\n    }\n    if (minTick > min) {\n      minTick = minTick - interval;\n    }\n    max = Util.fixedBase(maxTick, interval);\n    min = Util.fixedBase(minTick, interval);\n  }\n\n  max = Math.min(max, maxLimit);\n  min = Math.max(min, minLimit);\n\n  ticks.push(min);\n  for (var i = 1; i < count; i++) {\n    var tickValue = Util.fixedBase(interval * i + min, interval);\n    if (tickValue < max) {\n      ticks.push(tickValue);\n    }\n  }\n  if (ticks[ticks.length - 1] < max) {\n    ticks.push(max);\n  }\n  return {\n    min: min,\n    max: max,\n    interval: interval,\n    count: count,\n    ticks: ticks\n  };\n}\n\n/**\n * @fileOverview The measurement of linear data scale function\n * @author dxq613@gmail.com\n */\n\n/**\n * 线性度量\n * @class Scale.Linear\n */\nvar Linear = /*@__PURE__*/(function (Base) {\n  function Linear () {\n    Base.apply(this, arguments);\n  }\n\n  if ( Base ) Linear.__proto__ = Base;\n  Linear.prototype = Object.create( Base && Base.prototype );\n  Linear.prototype.constructor = Linear;\n\n  Linear.prototype.getDefaultCfg = function getDefaultCfg () {\n    var cfg = Base.prototype.getDefaultCfg.call(this);\n    return Util.mix({}, cfg, {\n      /**\n       * type of the scale\n       * @type {String}\n       */\n      type: 'linear',\n\n      /**\n       * 是否线性\n       * @type {Boolean}\n       * @readOnly\n       * @default true\n       */\n      isLinear: true,\n\n      /**\n       * min value of the scale\n       * @type {Number}\n       * @default null\n       */\n      min: null,\n\n      /**\n       * min value limitted of the scale\n       * @type {Number}\n       * @default null\n       */\n      minLimit: null,\n\n      /**\n       * max value of the scale\n       * @type {Number}\n       * @default null\n       */\n      max: null,\n\n      /**\n       * max value limitted of the scale\n       * @type {Number}\n       * @default null\n       */\n      maxLimit: null,\n\n      /**\n       * 是否为了用户习惯，优化min,max和ticks，如果进行优化，则会根据生成的ticks调整min,max，否则舍弃(min,max)范围之外的ticks\n       * @type {Boolean}\n       * @default false\n       */\n      nice: false,\n\n      /**\n       * 自动生成标记时的个数\n       * @type {Number}\n       * @default null\n       */\n      tickCount: null,\n\n      /**\n       * 坐标轴点之间的间距，指的是真实数据的差值\n       * @type {Number}\n       * @default null\n       */\n      tickInterval: null,\n\n      /**\n       * 用于计算坐标点时逼近的数组\n       * @type {Array}\n       */\n      snapArray: null\n    });\n  };\n  /**\n   * @protected\n   * @override\n   */\n  Linear.prototype.init = function init () {\n    var self = this;\n    if (!self.ticks) {\n      self.min = self.translate(self.min);\n      self.max = self.translate(self.max);\n      self.initTicks();\n    } else {\n      var ticks = self.ticks;\n      var firstValue = self.translate(ticks[0]);\n      var lastValue = self.translate(ticks[ticks.length - 1]);\n      if (Util.isNil(self.min) || self.min > firstValue) {\n        self.min = firstValue;\n      }\n      if (Util.isNil(self.max) || self.max < lastValue) {\n        self.max = lastValue;\n      }\n    }\n  };\n\n  /**\n   * 计算坐标点\n   * @protected\n   * @return {Array} 计算完成的坐标点\n   */\n  Linear.prototype.calculateTicks = function calculateTicks () {\n    var self = this;\n    var min = self.min;\n    var max = self.max;\n    var count = self.tickCount;\n    var interval = self.tickInterval;\n    if (max < min) {\n      throw new Error((\"max: \" + max + \" should not be less than min: \" + min));\n    }\n    var tmp = numberAuto({\n      min: min,\n      max: max,\n      minLimit: self.minLimit,\n      maxLimit: self.maxLimit,\n      minCount: count,\n      maxCount: count,\n      interval: interval,\n      snapArray: this.snapArray\n    });\n    return tmp.ticks;\n  };\n\n  // 初始化ticks\n  Linear.prototype.initTicks = function initTicks () {\n    var self = this;\n    var calTicks = self.calculateTicks();\n    if (self.nice) { // 如果需要优化显示的tick\n      self.ticks = calTicks;\n      self.min = calTicks[0];\n      self.max = calTicks[calTicks.length - 1];\n    } else {\n      var ticks = [];\n      Util.each(calTicks, function(tick) {\n        if (tick >= self.min && tick <= self.max) {\n          ticks.push(tick);\n        }\n      });\n      // 如果 ticks 为空，直接输入最小值、最大值\n      if (!ticks.length) {\n        ticks.push(self.min);\n        ticks.push(self.max);\n      }\n      self.ticks = ticks;\n    }\n  };\n\n  /**\n   * @override\n   */\n  Linear.prototype.scale = function scale (value) {\n    if (value === null || value === undefined) {\n      return NaN;\n    }\n    var max = this.max;\n    var min = this.min;\n    if (max === min) {\n      return 0;\n    }\n\n    var percent = Math.min(1, Math.max(0, (value - min) / (max - min))); // 数据控制到 0-1 范围\n    // const percent = (value - min) / (max - min);\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n\n  /**\n   * @override\n   */\n  Linear.prototype.invert = function invert (value) {\n    var percent = (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    return this.min + percent * (this.max - this.min);\n  };\n\n  return Linear;\n}(Base$1));\n\n/**\n * @fileOverview The data is replaced with constant\n * @author dxq613@gmail.com\n */\n\nvar Identity = /*@__PURE__*/(function (Base) {\n  function Identity () {\n    Base.apply(this, arguments);\n  }\n\n  if ( Base ) Identity.__proto__ = Base;\n  Identity.prototype = Object.create( Base && Base.prototype );\n  Identity.prototype.constructor = Identity;\n\n  Identity.prototype.getDefaultCfg = function getDefaultCfg () {\n    var cfg = Base.prototype.getDefaultCfg.call(this);\n    return Util.mix({}, cfg, {\n      isIdentity: true,\n      /**\n       * @override\n       * @type {String}\n       */\n      type: 'identity',\n\n      /**\n       * 常量值\n       * @type {*}\n       */\n      value: null\n    });\n  };\n\n  /**\n   * @override\n   */\n  Identity.prototype.getText = function getText () {\n    return this.value.toString();\n  };\n\n  /**\n   * @override\n   */\n  Identity.prototype.scale = function scale (value) {\n    if (this.value !== value && Util.isNumber(value)) {\n      return value;\n    }\n    return this.range[0];\n  };\n\n  /**\n   * @override\n   */\n  Identity.prototype.invert = function invert () {\n    return this.value;\n  };\n\n  return Identity;\n}(Base$1));\n\n/**\n * @fileOverview 计算分类的的坐标点\n * @author dxq613@gmail.com\n */\nvar MAX_COUNT$1 = 8;\nvar SUB_COUNT = 4; // 控制个数不能过小\n\nfunction getSimpleArray(data) {\n  var arr = [];\n  Util.each(data, function(sub) {\n    if (Util.isArray(sub)) {\n      arr = arr.concat(sub);\n    } else {\n      arr.push(sub);\n    }\n  });\n  return arr;\n}\nfunction getGreatestFactor(count, number) {\n  var i;\n  for (i = number; i > 0; i--) {\n    if (count % i === 0) { break; }\n  }\n  // 如果是素数，没有可以整除的数字\n  if (i === 1) {\n    for (i = number; i > 0; i--) {\n      if ((count - 1) % i === 0) { break; }\n    }\n  }\n  return i;\n}\n\nfunction catAuto(info) {\n  var rst = {};\n  var ticks = [];\n  var maxCount = info.maxCount || MAX_COUNT$1;\n  var categories = getSimpleArray(info.data);\n  var length = categories.length;\n  var tickCount = getGreatestFactor(length - 1, maxCount - 1) + 1;\n\n  // 如果计算出来只有两个坐标点，则直接使用传入的 maxCount\n  if (tickCount === 2) {\n    tickCount = maxCount;\n  } else if (tickCount < maxCount - SUB_COUNT) {\n    tickCount = maxCount - SUB_COUNT;\n  }\n  var step = parseInt(length / (tickCount - 1), 10);\n\n  var groups = categories.map(function(e, i) {\n    return i % step === 0 ? categories.slice(i, i + step) : null;\n  }).filter(function(e) {\n    return e;\n  });\n\n  if (categories.length) {\n    ticks.push(categories[0]);\n  }\n  for (var i = 1; (i < groups.length) && (i * step < length - step); i++) {\n    ticks.push(groups[i][0]);\n  }\n  if (categories.length) {\n    var last = categories[length - 1];\n    if (ticks.indexOf(last) === -1) {\n      ticks.push(last);\n    }\n  }\n\n  rst.categories = categories;\n  rst.ticks = ticks;\n  return rst;\n}\n\n/**\n * @fileOverview the scale function to process the categories\n * @author dxq613@gmail.com\n */\n\n/**\n * 度量的构造函数\n * @class Scale.Category\n */\nvar Category = /*@__PURE__*/(function (Base) {\n  function Category () {\n    Base.apply(this, arguments);\n  }\n\n  if ( Base ) Category.__proto__ = Base;\n  Category.prototype = Object.create( Base && Base.prototype );\n  Category.prototype.constructor = Category;\n\n  Category.prototype.getDefaultCfg = function getDefaultCfg () {\n    var cfg = Base.prototype.getDefaultCfg.call(this);\n    return Util.mix({}, cfg, {\n      /**\n       * type of the scale\n       * @type {String}\n       */\n      type: 'cat',\n\n      /**\n       * 自动生成标记时的个数\n       * @type {Number}\n       * @default null\n       */\n      tickCount: null,\n\n      /**\n       * 是否分类度量\n       * @type {Boolean}\n       */\n      isCategory: true\n    });\n  };\n\n  /**\n   * @override\n   */\n  Category.prototype.init = function init () {\n    var self = this;\n    var values = self.values;\n    var tickCount = self.tickCount;\n\n    Util.each(values, function(v, i) {\n      values[i] = v.toString();\n    });\n    if (!self.ticks) {\n      var ticks = values;\n      if (tickCount) {\n        var temp = catAuto({\n          maxCount: tickCount,\n          data: values\n        });\n        ticks = temp.ticks;\n      }\n      this.ticks = ticks;\n    }\n  };\n\n  /**\n   * @override\n   */\n  Category.prototype.getText = function getText (value) {\n\n    if (this.values.indexOf(value) === -1 && Util.isNumber(value)) {\n      value = this.values[Math.round(value)];\n    }\n\n    return Base.prototype.getText.call(this, value);\n  };\n\n  /**\n   * @override\n   */\n  Category.prototype.translate = function translate (value) {\n    var index = this.values.indexOf(value);\n    if (index === -1 && Util.isNumber(value)) {\n      index = value;\n    } else if (index === -1) {\n      index = NaN;\n    }\n    return index;\n  };\n  /**\n   * @override\n   */\n  Category.prototype.scale = function scale (value) {\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    var percent;\n\n    if (Util.isString(value) || this.values.indexOf(value) !== -1) {\n      value = this.translate(value);\n    }\n    if (this.values.length > 1) {\n      percent = (value) / (this.values.length - 1);\n    } else {\n      percent = value;\n    }\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n\n  /**\n   * @override\n   */\n  Category.prototype.invert = function invert (value) {\n    if (Util.isString(value)) { // 如果已经是字符串\n      return value;\n    }\n    var min = this.rangeMin();\n    var max = this.rangeMax();\n\n    // 归一到 范围内\n    if (value < min) {\n      value = min;\n    }\n    if (value > max) {\n      value = max;\n    }\n    var percent = (value - min) / (max - min);\n    var index = Math.round(percent * (this.values.length - 1)) % this.values.length;\n    index = index || 0;\n    return this.values[index];\n  };\n\n  return Category;\n}(Base$1));\n\n/**\n * @fileOverview 计算时间坐标轴\n * @author dxq613@gmail.com\n */\n\nvar MAX_COUNT$2 = 6;\nvar SNAP_ARRAY = [ 1, 2, 4, 6, 8, 12 ];\nvar MINUTE_MS = 60 * 1000;\nvar HOUR_MS = 3600 * 1000;\nvar DAY_MS = 24 * 3600 * 1000;\n\nfunction getYear(date) {\n  return new Date(date).getFullYear();\n}\n\nfunction createYear(year) {\n  return new Date(year, 0, 1).getTime();\n}\n\nfunction getMonth(date) {\n  return new Date(date).getMonth();\n}\n\nfunction diffMonth(min, max) {\n  var minYear = getYear(min);\n  var maxYear = getYear(max);\n  var minMonth = getMonth(min);\n  var maxMonth = getMonth(max);\n  return (maxYear - minYear) * 12 + (maxMonth - minMonth) % 12;\n}\n\nfunction creatMonth(year, month) {\n  return new Date(year, month, 1).getTime();\n}\n\nfunction diffDay(min, max) {\n  return Math.ceil((max - min) / DAY_MS);\n}\n\nfunction diffHour(min, max) {\n  return Math.ceil((max - min) / HOUR_MS);\n}\n\nfunction diffMinus(min, max) {\n  return Math.ceil((max - min) / (60 * 1000));\n}\n\nfunction timeAuto(info) {\n  var minInterval = info.minInterval;\n  var ticks = [];\n  var min = info.min;\n  var max = info.max;\n  var interval = info.interval;\n  var count;\n\n  // 如果最大值和最小值相等，则设置最大值大于最小值一天\n  if (max === min) {\n    max = min + DAY_MS;\n  }\n\n  // 计算间距\n  if (Util.isNil(interval)) {\n    var innerTime = max - min;\n    var dms = DAY_MS; // 天代表的秒\n    var yms = 365 * dms; // 年代表的秒\n    interval = parseInt(innerTime / (info.maxCount || MAX_COUNT$2), 10);\n    if (minInterval && minInterval > interval) {\n      interval = minInterval;\n    }\n    var yfactor = interval / yms;\n    var minYear = getYear(min);\n    // 大于半年\n    if (yfactor > 0.51) {\n      var year = Math.ceil(yfactor);\n      // interval = year * yms;\n      var maxYear = getYear(max);\n\n      for (var i = minYear; i <= maxYear + year; i = i + year) {\n        ticks.push(createYear(i));\n      }\n      interval = null;\n    } else if (yfactor > 0.0834) { // 大于一个月\n      var month = Math.ceil(yfactor / 0.0834);\n      var mmMoth = getMonth(min);\n      var dMonths = diffMonth(min, max);\n\n      for (var i$1 = 0; i$1 <= dMonths + month; i$1 = i$1 + month) {\n        ticks.push(creatMonth(minYear, i$1 + mmMoth));\n      }\n      interval = null;\n\n    } else if (interval > dms * 0.5) { // 大于一天\n      var date = new Date(min);\n      var year$1 = date.getFullYear();\n      var month$1 = date.getMonth(min);\n      var mday = date.getDate();\n      var day = Math.ceil(interval / dms);\n      var ddays = diffDay(min, max);\n      interval = day * dms;\n      for (var i$2 = 0; i$2 < ddays + day; i$2 = i$2 + day) {\n        ticks.push(new Date(year$1, month$1, mday + i$2).getTime());\n      }\n\n    } else if (interval > HOUR_MS) { // 大于一个小时\n      var date$1 = new Date(min);\n      var year$2 = date$1.getFullYear();\n      var month$2 = date$1.getMonth(min);\n      var day$1 = date$1.getDate();\n      var hour = date$1.getHours();\n      var hours = Util$1.snapTo(SNAP_ARRAY, Math.ceil(interval / HOUR_MS));\n      var dHours = diffHour(min, max);\n      interval = hours * HOUR_MS;\n\n      for (var i$3 = 0; i$3 <= dHours + hours; i$3 = i$3 + hours) {\n        ticks.push(new Date(year$2, month$2, day$1, hour + i$3).getTime());\n      }\n\n    } else if (interval > MINUTE_MS) { // 最小单位是分钟\n      var dMinus = diffMinus(min, max);\n      var minutes = Math.ceil(interval / MINUTE_MS);\n      interval = minutes * MINUTE_MS;\n\n      for (var i$4 = 0; i$4 <= dMinus + minutes; i$4 = i$4 + minutes) {\n        ticks.push(min + i$4 * MINUTE_MS);\n      }\n    } else {\n      if (interval < 1000) {\n        interval = 1000;\n      }\n      min = Math.floor(min / 1000) * 1000;\n      var dSeconds = Math.ceil((max - min) / 1000);\n      var seconds = Math.ceil(interval / 1000);\n      interval = seconds * 1000;\n\n      for (var i$5 = 0; i$5 < dSeconds + seconds; i$5 = i$5 + seconds) {\n        ticks.push(min + i$5 * 1000);\n      }\n    }\n\n  }\n\n  if (!ticks.length) {\n    min = Math.floor(min / 1000) * 1000;\n    max = Math.ceil(max / 1000) * 1000;\n    count = (max - min) / interval;\n    for (var i$6 = 0; i$6 <= count; i$6++) {\n      ticks.push(Util.fixedBase(interval * i$6 + min, interval));\n    }\n  }\n\n  return {\n    max: max,\n    min: min,\n    interval: interval,\n    ticks: ticks,\n    count: ticks.length\n  };\n}\n\nvar fecha = createCommonjsModule(function (module) {\n(function (main) {\n\n  /**\n   * Parse or format dates\n   * @class fecha\n   */\n  var fecha = {};\n  var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\n  var twoDigits = /\\d\\d?/;\n  var threeDigits = /\\d{3}/;\n  var fourDigits = /\\d{4}/;\n  var word = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n  var literal = /\\[([^]*?)\\]/gm;\n  var noop = function () {\n  };\n\n  function shorten(arr, sLen) {\n    var newArr = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n      newArr.push(arr[i].substr(0, sLen));\n    }\n    return newArr;\n  }\n\n  function monthUpdate(arrName) {\n    return function (d, v, i18n) {\n      var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n      if (~index) {\n        d.month = index;\n      }\n    };\n  }\n\n  function pad(val, len) {\n    val = String(val);\n    len = len || 2;\n    while (val.length < len) {\n      val = '0' + val;\n    }\n    return val;\n  }\n\n  var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  var monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n  var monthNamesShort = shorten(monthNames, 3);\n  var dayNamesShort = shorten(dayNames, 3);\n  fecha.i18n = {\n    dayNamesShort: dayNamesShort,\n    dayNames: dayNames,\n    monthNamesShort: monthNamesShort,\n    monthNames: monthNames,\n    amPm: ['am', 'pm'],\n    DoFn: function DoFn(D) {\n      return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n    }\n  };\n\n  var formatFlags = {\n    D: function(dateObj) {\n      return dateObj.getDate();\n    },\n    DD: function(dateObj) {\n      return pad(dateObj.getDate());\n    },\n    Do: function(dateObj, i18n) {\n      return i18n.DoFn(dateObj.getDate());\n    },\n    d: function(dateObj) {\n      return dateObj.getDay();\n    },\n    dd: function(dateObj) {\n      return pad(dateObj.getDay());\n    },\n    ddd: function(dateObj, i18n) {\n      return i18n.dayNamesShort[dateObj.getDay()];\n    },\n    dddd: function(dateObj, i18n) {\n      return i18n.dayNames[dateObj.getDay()];\n    },\n    M: function(dateObj) {\n      return dateObj.getMonth() + 1;\n    },\n    MM: function(dateObj) {\n      return pad(dateObj.getMonth() + 1);\n    },\n    MMM: function(dateObj, i18n) {\n      return i18n.monthNamesShort[dateObj.getMonth()];\n    },\n    MMMM: function(dateObj, i18n) {\n      return i18n.monthNames[dateObj.getMonth()];\n    },\n    YY: function(dateObj) {\n      return String(dateObj.getFullYear()).substr(2);\n    },\n    YYYY: function(dateObj) {\n      return pad(dateObj.getFullYear(), 4);\n    },\n    h: function(dateObj) {\n      return dateObj.getHours() % 12 || 12;\n    },\n    hh: function(dateObj) {\n      return pad(dateObj.getHours() % 12 || 12);\n    },\n    H: function(dateObj) {\n      return dateObj.getHours();\n    },\n    HH: function(dateObj) {\n      return pad(dateObj.getHours());\n    },\n    m: function(dateObj) {\n      return dateObj.getMinutes();\n    },\n    mm: function(dateObj) {\n      return pad(dateObj.getMinutes());\n    },\n    s: function(dateObj) {\n      return dateObj.getSeconds();\n    },\n    ss: function(dateObj) {\n      return pad(dateObj.getSeconds());\n    },\n    S: function(dateObj) {\n      return Math.round(dateObj.getMilliseconds() / 100);\n    },\n    SS: function(dateObj) {\n      return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n    },\n    SSS: function(dateObj) {\n      return pad(dateObj.getMilliseconds(), 3);\n    },\n    a: function(dateObj, i18n) {\n      return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n    },\n    A: function(dateObj, i18n) {\n      return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n    },\n    ZZ: function(dateObj) {\n      var o = dateObj.getTimezoneOffset();\n      return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n    }\n  };\n\n  var parseFlags = {\n    D: [twoDigits, function (d, v) {\n      d.day = v;\n    }],\n    Do: [new RegExp(twoDigits.source + word.source), function (d, v) {\n      d.day = parseInt(v, 10);\n    }],\n    M: [twoDigits, function (d, v) {\n      d.month = v - 1;\n    }],\n    YY: [twoDigits, function (d, v) {\n      var da = new Date(), cent = +('' + da.getFullYear()).substr(0, 2);\n      d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n    }],\n    h: [twoDigits, function (d, v) {\n      d.hour = v;\n    }],\n    m: [twoDigits, function (d, v) {\n      d.minute = v;\n    }],\n    s: [twoDigits, function (d, v) {\n      d.second = v;\n    }],\n    YYYY: [fourDigits, function (d, v) {\n      d.year = v;\n    }],\n    S: [/\\d/, function (d, v) {\n      d.millisecond = v * 100;\n    }],\n    SS: [/\\d{2}/, function (d, v) {\n      d.millisecond = v * 10;\n    }],\n    SSS: [threeDigits, function (d, v) {\n      d.millisecond = v;\n    }],\n    d: [twoDigits, noop],\n    ddd: [word, noop],\n    MMM: [word, monthUpdate('monthNamesShort')],\n    MMMM: [word, monthUpdate('monthNames')],\n    a: [word, function (d, v, i18n) {\n      var val = v.toLowerCase();\n      if (val === i18n.amPm[0]) {\n        d.isPm = false;\n      } else if (val === i18n.amPm[1]) {\n        d.isPm = true;\n      }\n    }],\n    ZZ: [/([\\+\\-]\\d\\d:?\\d\\d|Z)/, function (d, v) {\n      if (v === 'Z') { v = '+00:00'; }\n      var parts = (v + '').match(/([\\+\\-]|\\d\\d)/gi), minutes;\n\n      if (parts) {\n        minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n        d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n      }\n    }]\n  };\n  parseFlags.dd = parseFlags.d;\n  parseFlags.dddd = parseFlags.ddd;\n  parseFlags.DD = parseFlags.D;\n  parseFlags.mm = parseFlags.m;\n  parseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\n  parseFlags.MM = parseFlags.M;\n  parseFlags.ss = parseFlags.s;\n  parseFlags.A = parseFlags.a;\n\n\n  // Some common format strings\n  fecha.masks = {\n    default: 'ddd MMM DD YYYY HH:mm:ss',\n    shortDate: 'M/D/YY',\n    mediumDate: 'MMM D, YYYY',\n    longDate: 'MMMM D, YYYY',\n    fullDate: 'dddd, MMMM D, YYYY',\n    shortTime: 'HH:mm',\n    mediumTime: 'HH:mm:ss',\n    longTime: 'HH:mm:ss.SSS'\n  };\n\n  /***\n   * Format a date\n   * @method format\n   * @param {Date|number} dateObj\n   * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n   */\n  fecha.format = function (dateObj, mask, i18nSettings) {\n    var i18n = i18nSettings || fecha.i18n;\n\n    if (typeof dateObj === 'number') {\n      dateObj = new Date(dateObj);\n    }\n\n    if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n      throw new Error('Invalid Date in fecha.format');\n    }\n\n    mask = fecha.masks[mask] || mask || fecha.masks['default'];\n\n    var literals = [];\n\n    // Make literals inactive by replacing them with ??\n    mask = mask.replace(literal, function($0, $1) {\n      literals.push($1);\n      return '??';\n    });\n    // Apply formatting rules\n    mask = mask.replace(token, function ($0) {\n      return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n    });\n    // Inline literal values back into the formatted value\n    return mask.replace(/\\?\\?/g, function() {\n      return literals.shift();\n    });\n  };\n\n  /**\n   * Parse a date string into an object, changes - into /\n   * @method parse\n   * @param {string} dateStr Date string\n   * @param {string} format Date parse format\n   * @returns {Date|boolean}\n   */\n  fecha.parse = function (dateStr, format, i18nSettings) {\n    var i18n = i18nSettings || fecha.i18n;\n\n    if (typeof format !== 'string') {\n      throw new Error('Invalid format in fecha.parse');\n    }\n\n    format = fecha.masks[format] || format;\n\n    // Avoid regular expression denial of service, fail early for really long strings\n    // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n    if (dateStr.length > 1000) {\n      return false;\n    }\n\n    var isValid = true;\n    var dateInfo = {};\n    format.replace(token, function ($0) {\n      if (parseFlags[$0]) {\n        var info = parseFlags[$0];\n        var index = dateStr.search(info[0]);\n        if (!~index) {\n          isValid = false;\n        } else {\n          dateStr.replace(info[0], function (result) {\n            info[1](dateInfo, result, i18n);\n            dateStr = dateStr.substr(index + result.length);\n            return result;\n          });\n        }\n      }\n\n      return parseFlags[$0] ? '' : $0.slice(1, $0.length - 1);\n    });\n\n    if (!isValid) {\n      return false;\n    }\n\n    var today = new Date();\n    if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n      dateInfo.hour = +dateInfo.hour + 12;\n    } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n      dateInfo.hour = 0;\n    }\n\n    var date;\n    if (dateInfo.timezoneOffset != null) {\n      dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n      date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n        dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n    } else {\n      date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n        dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n    }\n    return date;\n  };\n\n  /* istanbul ignore next */\n  if ( module.exports) {\n    module.exports = fecha;\n  } else {\n    main.fecha = fecha;\n  }\n})(this);\n});\n\n/**\n * @fileOverview 提取公共代码到util方法\n * @author dxq613@gmail.com\n */\n\nvar TimeUtil = {\n  toTimeStamp: function toTimeStamp(value) {\n    if (Util.isString(value)) {\n      if (value.indexOf('T') > 0) {\n        value = new Date(value).getTime();\n      } else {\n        value = new Date(value.replace(/-/ig, '/')).getTime();\n      }\n    }\n    if (Util.isDate(value)) {\n      value = value.getTime();\n    }\n    return value;\n  }\n};\n\n/**\n * @fileOverview The measurement of linear data scale function\n * @author dxq613@gmail.com\n */\n\n/**\n * 时间度量的构造函数\n * @class Scale.Time\n */\nvar Time = /*@__PURE__*/(function (Linear) {\n  function Time () {\n    Linear.apply(this, arguments);\n  }\n\n  if ( Linear ) Time.__proto__ = Linear;\n  Time.prototype = Object.create( Linear && Linear.prototype );\n  Time.prototype.constructor = Time;\n\n  Time.prototype.getDefaultCfg = function getDefaultCfg () {\n    var cfg = Linear.prototype.getDefaultCfg.call(this);\n    return Util.mix({}, cfg, {\n      /**\n       * @override\n       */\n      type: 'time',\n\n      /**\n       * 格式化符\n       * @type {String}\n       */\n      mask: 'YYYY-MM-DD'\n    });\n  };\n\n  /**\n   * @override\n   */\n  Time.prototype.init = function init () {\n    var self = this;\n    var values = self.values;\n    if (values && values.length) { // 重新计算最大最小值\n      var timeStamps = [];\n      var min = Infinity; // 最小值\n      var secondMin = min; // 次小值\n      var max = 0;\n      // 使用一个循环，计算min,max,secondMin\n      Util.each(values, function(v) {\n        var timeStamp = self._toTimeStamp(v);\n        if (isNaN(timeStamp)) {\n          throw new TypeError((\"Invalid Time: \" + v));\n        }\n        if (min > timeStamp) {\n          secondMin = min;\n          min = timeStamp;\n        } else if (secondMin > timeStamp) {\n          secondMin = timeStamp;\n        }\n        if (max < timeStamp) {\n          max = timeStamp;\n        }\n        timeStamps.push(timeStamp);\n      });\n      // 存在多个值时，设置最小间距\n      if (values.length > 1) {\n        self.minTickInterval = secondMin - min;\n      }\n      if (Util.isNil(self.min) || self._toTimeStamp(self.min) > min) {\n        self.min = min;\n      }\n      if (Util.isNil(self.max) || self._toTimeStamp(self.max) < max) {\n        self.max = max;\n      }\n    }\n    Linear.prototype.init.call(this);\n  };\n\n  Time.prototype.calculateTicks = function calculateTicks () {\n    var self = this;\n    var min = self.min;\n    var max = self.max;\n    var count = self.tickCount;\n    var interval = self.tickInterval;\n    var tmp = timeAuto({\n      min: min,\n      max: max,\n      minCount: count,\n      maxCount: count,\n      interval: interval,\n      minInterval: self.minTickInterval\n    });\n    return tmp.ticks;\n  };\n\n  /**\n   * @override\n   */\n  Time.prototype.getText = function getText (value) {\n    var formatter = this.formatter;\n    value = this.translate(value);\n    value = formatter ? formatter(value) : fecha.format(value, this.mask);\n    return value;\n  };\n\n  /**\n   * @override\n   */\n  Time.prototype.scale = function scale (value) {\n    if (Util.isString(value)) {\n      value = this.translate(value);\n    }\n    return Linear.prototype.scale.call(this, value);\n  };\n\n  /**\n   * @override\n   */\n  Time.prototype.translate = function translate (value) {\n    return this._toTimeStamp(value);\n  };\n\n  // 将时间转换为时间戳\n  Time.prototype._toTimeStamp = function _toTimeStamp (value) {\n    return TimeUtil.toTimeStamp(value);\n  };\n\n  return Time;\n}(Linear));\n\n/**\n * @fileOverview 时间数据作为分类类型\n * @author dxq613@gmail.com\n */\n\n/**\n * 度量的构造函数\n * @class Scale.TimeCategory\n */\nvar TimeCategory = /*@__PURE__*/(function (Category) {\n  function TimeCategory () {\n    Category.apply(this, arguments);\n  }\n\n  if ( Category ) TimeCategory.__proto__ = Category;\n  TimeCategory.prototype = Object.create( Category && Category.prototype );\n  TimeCategory.prototype.constructor = TimeCategory;\n\n  TimeCategory.prototype.getDefaultCfg = function getDefaultCfg () {\n    var cfg = Category.prototype.getDefaultCfg.call(this);\n    return Util.mix({}, cfg, {\n      /**\n       * @override\n       */\n      type: 'timeCat',\n\n      /**\n       * 格式化符\n       * @type {String}\n       */\n      mask: 'YYYY-MM-DD',\n\n      /**\n       * @override\n       */\n      tickCount: 7\n    });\n  };\n\n  TimeCategory.prototype.init = function init () {\n    var self = this;\n    var values = this.values;\n    // 针对时间分类类型，会将时间统一转换为时间戳\n    Util.each(values, function(v, i) {\n      values[i] = self._toTimeStamp(v);\n    });\n    values.sort(function(v1, v2) {\n      return v1 - v2;\n    });\n\n    if (!self.ticks) {\n      self.ticks = this.calculateTicks(false);\n    }\n  };\n\n  /**\n   * 计算 ticks\n   * @param  {boolean} formated 是否将 ticks 按照指定的 mask 格式化\n   * @return {array} 返回 ticks 数组\n   */\n  TimeCategory.prototype.calculateTicks = function calculateTicks (formated) {\n    var self = this;\n    var count = self.tickCount;\n    var ticks;\n    if (count) {\n      var temp = catAuto({\n        maxCount: count,\n        data: self.values\n      });\n      ticks = temp.ticks;\n    } else {\n      ticks = self.values;\n    }\n\n    if (formated) {\n      Util.each(ticks, function(value, index) {\n        ticks[index] = fecha.format(value, self.mask);\n      });\n    }\n    return ticks;\n  };\n\n  /**\n   * @override\n   */\n  TimeCategory.prototype.translate = function translate (value) {\n    value = this._toTimeStamp(value);\n    var index = this.values.indexOf(value);\n\n    if (index === -1) {\n      if (Util.isNumber(value) && value < this.values.length) {\n        index = value;\n      } else {\n        index = NaN;\n      }\n    }\n    return index;\n  };\n\n  /**\n   * @override\n   */\n  TimeCategory.prototype.scale = function scale (value) {\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    var index = this.translate(value);\n    var percent;\n\n    if (this.values.length === 1) {\n      percent = index;\n    } else if (index > -1) {\n      percent = (index) / (this.values.length - 1);\n    } else {\n      percent = 0;\n    }\n\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n\n  /**\n   * @override\n   */\n  TimeCategory.prototype.getText = function getText (value) {\n    var result = '';\n    var index = this.translate(value);\n    if (index > -1) {\n      result = this.values[index];\n    } else {\n      result = value;\n    }\n\n    var formatter = this.formatter;\n    result = parseInt(result, 10);\n    result = formatter ? formatter(result) : fecha.format(result, this.mask);\n    return result;\n  };\n\n  /**\n   * @override\n   */\n  TimeCategory.prototype.getTicks = function getTicks () {\n    var self = this;\n    var ticks = this.ticks;\n    var rst = [];\n    Util.each(ticks, function(tick) {\n      var obj;\n      if (Util.isObject(tick)) {\n        obj = tick;\n      } else {\n        obj = {\n          text: Util.isString(tick) ? tick : self.getText(tick),\n          tickValue: tick, // 用于坐标轴上文本动画时确定前后帧的对应关系\n          value: self.scale(tick)\n        };\n      }\n      rst.push(obj);\n    });\n    return rst;\n  };\n\n  // 将时间转换为时间戳\n  TimeCategory.prototype._toTimeStamp = function _toTimeStamp (value) {\n    return TimeUtil.toTimeStamp(value);\n  };\n\n  return TimeCategory;\n}(Category));\n\n/**\n * @fileOverview 使用度量，进行log转换\n * @author dxq613@gmail.com\n */\n\n// 计算log\nfunction log(a, b) {\n  if (a === 1) {\n    return 1;\n  }\n  return Math.log(b) / Math.log(a);\n}\n\n/**\n * 度量的log计算\n * @class Scale.Log\n */\nvar Log = /*@__PURE__*/(function (Linear) {\n  function Log () {\n    Linear.apply(this, arguments);\n  }\n\n  if ( Linear ) Log.__proto__ = Linear;\n  Log.prototype = Object.create( Linear && Linear.prototype );\n  Log.prototype.constructor = Log;\n\n  Log.prototype.getDefaultCfg = function getDefaultCfg () {\n    var cfg = Linear.prototype.getDefaultCfg.call(this);\n    return Util.mix({}, cfg, {\n      /**\n       * @override\n       */\n      type: 'log',\n\n      /**\n       * 进行log计算的基数\n       * @type {Number}\n       */\n      base: 2,\n\n      /**\n       * @override\n       * log 的坐标点的个数控制在10个以下\n       * @type {Number}\n       */\n      tickCount: 10,\n\n      // 最小的tick，仅内部使用\n      _minTick: null\n    });\n  };\n  /**\n   * @override\n   */\n  Log.prototype.calculateTicks = function calculateTicks () {\n    var self = this;\n    var base = self.base;\n    var minTick;\n    if (self.min < 0) {\n      throw new Error('The minimum value must be greater than zero!');\n    }\n    var maxTick = log(base, self.max);\n\n    if (self.min > 0) {\n      minTick = Math.floor(log(base, self.min));\n    } else {\n      var values = self.values;\n      var positiveMin = self.max; // 查找大于0的第一个值, 如果都小于0，默认为1\n      Util.each(values, function(value) {\n        if (value > 0 && value < positiveMin) {\n          positiveMin = value;\n        }\n      });\n      if (positiveMin === self.max) {\n        positiveMin = self.max / base;\n      }\n      if (positiveMin > 1) {\n        positiveMin = 1;\n      }\n      minTick = Math.floor(log(base, positiveMin));\n      self._minTick = minTick;\n      self.positiveMin = positiveMin;\n    }\n    var count = maxTick - minTick;\n    var tickCount = self.tickCount;\n    var avg = Math.ceil(count / tickCount);\n    var ticks = [];\n\n    for (var i = minTick; i < maxTick + avg; i = i + avg) {\n      ticks.push(Math.pow(base, i));\n    } /**/\n    if (self.min === 0) {\n      ticks.unshift(0);\n    }\n    return ticks;\n  };\n  // 获取度量计算时，value占的定义域百分比\n  Log.prototype._getScalePercent = function _getScalePercent (value) {\n    var max = this.max;\n    var min = this.min;\n    if (max === min) {\n      return 0;\n    }\n    // 如果值小于等于0，则按照0处理\n    if (value <= 0) {\n      return 0;\n    }\n    var base = this.base;\n    var positiveMin = this.positiveMin;\n    // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n    if (positiveMin) {\n      min = positiveMin * 1 / base;\n    }\n    var percent;\n    // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n    if (value < positiveMin) {\n      percent = (value / positiveMin) / (log(base, max) - log(base, min));\n    } else {\n      percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n    }\n    return percent;\n  };\n\n  /**\n   * @override\n   */\n  Log.prototype.scale = function scale (value) {\n    var percent = this._getScalePercent(value);\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n  /**\n   * @override\n   */\n  Log.prototype.invert = function invert (value) {\n    var base = this.base;\n    var max = log(base, this.max);\n    var rangeMin = this.rangeMin();\n    var range = (this.rangeMax() - rangeMin);\n    var min;\n    var positiveMin = this.positiveMin;\n    if (positiveMin) {\n      if (value === 0) {\n        return 0;\n      }\n      min = log(base, positiveMin / base);\n      var appendPercent = (1 / (max - min)) * range; // 0 到 positiveMin的占比\n      if (value < appendPercent) { // 落到 0 - positiveMin 之间\n        return value / appendPercent * positiveMin;\n      }\n    } else {\n      min = log(base, this.min);\n    }\n    var percent = (value - rangeMin) / (range);\n    var tmp = percent * (max - min) + min;\n    return Math.pow(base, tmp);\n  };\n\n  return Log;\n}(Linear));\n\n/**\n * @fileOverview 使用pow进行度量计算\n * @author dxq613@gmail.com\n */\n\n// 求以a为次幂，结果为b的基数，如 x^^a = b;求x\nfunction calBase(a, b) {\n  var e = Math.E;\n  var value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n  return value;\n}\n\n/**\n * 度量的Pow计算\n * @class Scale.Log\n */\nvar Pow = /*@__PURE__*/(function (Linear) {\n  function Pow () {\n    Linear.apply(this, arguments);\n  }\n\n  if ( Linear ) Pow.__proto__ = Linear;\n  Pow.prototype = Object.create( Linear && Linear.prototype );\n  Pow.prototype.constructor = Pow;\n\n  Pow.prototype.getDefaultCfg = function getDefaultCfg () {\n    var cfg = Linear.prototype.getDefaultCfg.call(this);\n    return Util.mix({}, cfg, {\n      /**\n       * @override\n       */\n      type: 'pow',\n\n      /**\n       * 进行pow计算的基数\n       * @type {Number}\n       */\n      exponent: 2,\n\n      /**\n       * @override\n       * pow 的坐标点的个数控制在10个以下\n       * @type {Number}\n       */\n      tickCount: 10\n    });\n  };\n\n  /**\n   * @override\n   */\n  Pow.prototype.calculateTicks = function calculateTicks () {\n    var self = this;\n    var exponent = self.exponent;\n    var min;\n    var max = Math.ceil(calBase(exponent, self.max));\n\n    if (self.min >= 0) {\n      min = Math.floor(calBase(exponent, self.min));\n    } else {\n      min = 0;\n    }\n    if (min > max) {\n      var tmp = max;\n      max = min;\n      min = tmp;\n    }\n    var count = max - min;\n    var tickCount = self.tickCount;\n    var avg = Math.ceil(count / tickCount);\n    var ticks = [];\n\n    for (var i = min; i < max + avg; i = i + avg) {\n      ticks.push(Math.pow(i, exponent));\n    }\n    return ticks;\n  };\n\n  // 获取度量计算时，value占的定义域百分比\n  Pow.prototype._getScalePercent = function _getScalePercent (value) {\n    var max = this.max;\n    var min = this.min;\n    if (max === min) {\n      return 0;\n    }\n    var exponent = this.exponent;\n    var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n    return percent;\n  };\n\n  /**\n   * @override\n   */\n  Pow.prototype.scale = function scale (value) {\n    var percent = this._getScalePercent(value);\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n\n  /**\n   * @override\n   */\n  Pow.prototype.invert = function invert (value) {\n    var percent = (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    var exponent = this.exponent;\n    var max = calBase(exponent, this.max);\n    var min = calBase(exponent, this.min);\n    var tmp = percent * (max - min) + min;\n    return Math.pow(tmp, exponent);\n  };\n\n  return Pow;\n}(Linear));\n\n/**\n * @fileOverview Scale entry, used to reference all the scales\n * @author dxq613@gmail.com\n */\n\nBase$1.Linear = Linear;\nBase$1.Identity = Identity;\nBase$1.Cat = Category;\nBase$1.Time = Time;\nBase$1.TimeCat = TimeCategory;\nBase$1.Log = Log;\nBase$1.Pow = Pow;\n\nvar loop = function ( k ) {\n  if (Base$1.hasOwnProperty(k)) {\n    var methodName = Util.lowerFirst(k);\n    Base$1[methodName] = function(cfg) {\n      return new Base$1[k](cfg);\n    };\n  }\n};\n\nfor (var k in Base$1) loop( k );\n\nvar CAT_ARR = [ 'cat', 'timeCat' ];\n\nBase$1.isCategory = function(type) {\n  return CAT_ARR.indexOf(type) >= 0;\n};\n\n/**\n * @fileOverview 度量的控制器\n * @author dxq613@gmail.com\n */\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\nvar TYPES = {\n  LINEAR: 'linear',\n  CAT: 'cat',\n  TIME: 'time'\n};\n\nvar ScaleController = function ScaleController(cfg) {\n  // defs 列定义\n  this.defs = {};\n  Util.assign(this, cfg);\n};\n\nScaleController.prototype._getDef = function _getDef (field) {\n  var defs = this.defs;\n  var def = null;\n  if (Global.scales[field] || defs[field]) {\n    def = Util.mix({}, Global.scales[field]);\n    // 处理覆盖属性的问题\n    Util.each(defs[field], function(v, k) {\n      if (Util.isNil(v)) {\n        delete def[k];\n      } else {\n        def[k] = v;\n      }\n    });\n  }\n  return def;\n};\n\nScaleController.prototype._getDefaultType = function _getDefaultType (field, data) {\n  var type = TYPES.LINEAR;\n  var value = Util.Array.firstValue(data, field);\n  if (Util.isArray(value)) {\n    value = value[0];\n  }\n  if (dateRegex.test(value)) {\n    type = TYPES.TIME;\n  } else if (Util.isString(value)) {\n    type = TYPES.CAT;\n  }\n  return type;\n};\n\nScaleController.prototype._getScaleCfg = function _getScaleCfg (type, field, data) {\n  var cfg = {\n    field: field\n  };\n  var values = Util.Array.values(data, field);\n  cfg.values = values;\n  if (!Base$1.isCategory(type) && type !== 'time') {\n    var range = Util.Array.getRange(values);\n    cfg.min = range.min;\n    cfg.max = range.max;\n    cfg.nice = true;\n  }\n\n  if (type === 'time') {\n    cfg.nice = false;\n  }\n  return cfg;\n};\n\nScaleController.prototype.createScale = function createScale (field, data) {\n  var self = this;\n  var def = self._getDef(field);\n  var scale;\n  // 如果数据为空直接返回常量度量\n  if (!data || !data.length) {\n    if (def && def.type) {\n      scale = Base$1[def.type](def);\n    } else {\n      scale = Base$1.identity({\n        value: field,\n        field: field.toString(),\n        values: [ field ]\n      });\n    }\n    return scale;\n  }\n  var firstValue = Util.Array.firstValue(data, field);\n\n  if (Util.isNumber(field) || (Util.isNil(firstValue)) && !def) {\n    scale = Base$1.identity({\n      value: field,\n      field: field.toString(),\n      values: [ field ]\n    });\n  } else { // 如果已经定义过这个度量\n    var type;\n    if (def) {\n      type = def.type;\n    }\n    type = type || self._getDefaultType(field, data);\n    var cfg = self._getScaleCfg(type, field, data);\n    if (def) {\n      Util.mix(cfg, def);\n    }\n    scale = Base$1[type](cfg);\n  }\n  return scale;\n};\n\n/**\n * @fileOverview 颜色计算的辅助方法\n * @author dxq613@gmail.com\n */\nvar RGB_REG = /rgba?\\(([\\s.,0-9]+)\\)/;\nvar ColorKeywords$1 = {\n  aliceblue: '#F0F8FF', antiquewhite: '#FAEBD7', aqua: '#00FFFF', aquamarine: '#7FFFD4', azure: '#F0FFFF',\n  beige: '#F5F5DC', bisque: '#FFE4C4', black: '#000000', blanchedalmond: '#FFEBCD', blue: '#0000FF', blueviolet: '#8A2BE2',\n  brown: '#A52A2A', burlywood: '#DEB887', cadetblue: '#5F9EA0', chartreuse: '#7FFF00', chocolate: '#D2691E', coral: '#FF7F50',\n  cornflowerblue: '#6495ED', cornsilk: '#FFF8DC', crimson: '#DC143C', cyan: '#00FFFF', darkblue: '#00008B', darkcyan: '#008B8B',\n  darkgoldenrod: '#B8860B', darkgray: '#A9A9A9', darkgreen: '#006400', darkgrey: '#A9A9A9', darkkhaki: '#BDB76B', darkmagenta: '#8B008B',\n  darkolivegreen: '#556B2F', darkorange: '#FF8C00', darkorchid: '#9932CC', darkred: '#8B0000', darksalmon: '#E9967A', darkseagreen: '#8FBC8F',\n  darkslateblue: '#483D8B', darkslategray: '#2F4F4F', darkslategrey: '#2F4F4F', darkturquoise: '#00CED1', darkviolet: '#9400D3',\n  deeppink: '#FF1493', deepskyblue: '#00BFFF', dimgray: '#696969', dimgrey: '#696969', dodgerblue: '#1E90FF', firebrick: '#B22222',\n  floralwhite: '#FFFAF0', forestgreen: '#228B22', fuchsia: '#FF00FF', gainsboro: '#DCDCDC', ghostwhite: '#F8F8FF', gold: '#FFD700',\n  goldenrod: '#DAA520', gray: '#808080', green: '#008000', greenyellow: '#ADFF2F', grey: '#808080', honeydew: '#F0FFF0', hotpink: '#FF69B4',\n  indianred: '#CD5C5C', indigo: '#4B0082', ivory: '#FFFFF0', khaki: '#F0E68C', lavender: '#E6E6FA', lavenderblush: '#FFF0F5', lawngreen: '#7CFC00',\n  lemonchiffon: '#FFFACD', lightblue: '#ADD8E6', lightcoral: '#F08080', lightcyan: '#E0FFFF', lightgoldenrodyellow: '#FAFAD2', lightgray: '#D3D3D3',\n  lightgreen: '#90EE90', lightgrey: '#D3D3D3', lightpink: '#FFB6C1', lightsalmon: '#FFA07A', lightseagreen: '#20B2AA', lightskyblue: '#87CEFA',\n  lightslategray: '#778899', lightslategrey: '#778899', lightsteelblue: '#B0C4DE', lightyellow: '#FFFFE0', lime: '#00FF00', limegreen: '#32CD32',\n  linen: '#FAF0E6', magenta: '#FF00FF', maroon: '#800000', mediumaquamarine: '#66CDAA', mediumblue: '#0000CD', mediumorchid: '#BA55D3',\n  mediumpurple: '#9370DB', mediumseagreen: '#3CB371', mediumslateblue: '#7B68EE', mediumspringgreen: '#00FA9A', mediumturquoise: '#48D1CC',\n  mediumvioletred: '#C71585', midnightblue: '#191970', mintcream: '#F5FFFA', mistyrose: '#FFE4E1', moccasin: '#FFE4B5', navajowhite: '#FFDEAD',\n  navy: '#000080', oldlace: '#FDF5E6', olive: '#808000', olivedrab: '#6B8E23', orange: '#FFA500', orangered: '#FF4500', orchid: '#DA70D6',\n  palegoldenrod: '#EEE8AA', palegreen: '#98FB98', paleturquoise: '#AFEEEE', palevioletred: '#DB7093', papayawhip: '#FFEFD5', peachpuff: '#FFDAB9',\n  peru: '#CD853F', pink: '#FFC0CB', plum: '#DDA0DD', powderblue: '#B0E0E6', purple: '#800080', rebeccapurple: '#663399', red: '#FF0000', rosybrown: '#BC8F8F',\n  royalblue: '#4169E1', saddlebrown: '#8B4513', salmon: '#FA8072', sandybrown: '#F4A460', seagreen: '#2E8B57', seashell: '#FFF5EE',\n  sienna: '#A0522D', silver: '#C0C0C0', skyblue: '#87CEEB', slateblue: '#6A5ACD', slategray: '#708090', slategrey: '#708090', snow: '#FFFAFA',\n  springgreen: '#00FF7F', steelblue: '#4682B4', tan: '#D2B48C', teal: '#008080', thistle: '#D8BFD8', tomato: '#FF6347', turquoise: '#40E0D0',\n  violet: '#EE82EE', wheat: '#F5DEB3', white: '#FFFFFF', whitesmoke: '#F5F5F5', yellow: '#FFFF00', yellowgreen: '#9ACD32'\n};\n\n// 获取颜色之间的插值\nfunction getValue(start, end, percent, index) {\n  var value = start[index] + (end[index] - start[index]) * percent;\n  return value;\n}\n\nfunction calColor(colors, percent) {\n  if (Util.isNaN(percent) || !Util.isNumber(percent)) {\n    percent = 0;\n  }\n  var steps = colors.length - 1;\n  var step = Math.floor(steps * percent);\n  var left = steps * percent - step;\n  var start = colors[step];\n  var end = step === steps ? start : colors[step + 1];\n  return [ getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2), getValue(start, end, left, 3) ];\n}\n\n// rgb 颜色转换成数组\nfunction rgb2arr(str) {\n  var arr = [];\n  if (str.length === 4) {\n    str = \"#\" + (str[1]) + (str[1]) + (str[2]) + (str[2]) + (str[3]) + (str[3]);\n  }\n  arr.push(parseInt(str.substr(1, 2), 16));\n  arr.push(parseInt(str.substr(3, 2), 16));\n  arr.push(parseInt(str.substr(5, 2), 16));\n  return arr;\n}\nvar ColorUtil = {\n  /**\n   * 将颜色转换到 rgb 的格式\n   * @param  {String} color 颜色\n   * @return {String} 将颜色转换到 '#ffffff' 的格式\n   */\n  toRGB: function toRGB(color) {\n    // 如果已经是 rgb的格式\n    var colorArray = [ 255, 255, 255, 255 ];\n    if (ColorKeywords$1[color]) { // color name 2  hex\n      var hexColor = ColorKeywords$1[color];\n      colorArray = rgb2arr(hexColor);\n      colorArray.push(255.0);\n    }\n    if (color[0] === '#' && (color.length === 7 || color.length === 4)) { // hex2array\n      colorArray = rgb2arr(color);\n      colorArray.push(255.0);\n      return colorArray;\n    }\n    if (RGB_REG.test(color)) {\n      var matchs = RGB_REG.exec(color);\n      colorArray = matchs[1].split(/\\s*,\\s*/);\n      if (colorArray.length === 4) {\n        colorArray[3] *= 255;\n      }\n      if (colorArray.length === 3) {\n        colorArray.push(255.0);\n      }\n    }\n    return colorArray;\n  },\n  // 转成 WebGl color buffer\n  color2Arr: function color2Arr(str) {\n    var rgba = this.toRGB(str);\n    return rgba.map(function (v) { return v / 255; });\n  },\n  colorArray2RGBA: function colorArray2RGBA(arr) {\n    return (\"rgba(\" + (arr[0] * 255) + \",\" + (arr[1] * 255) + \",\" + (arr[2] * 255) + \",\" + (arr[3]) + \")\");\n  },\n  color2RGBA: function color2RGBA(str) {\n    return this.color2Arr(str);\n  },\n  rgb2arr: rgb2arr,\n\n  /**\n   * 获取渐变函数\n   * @param  {Array} colors 多个颜色\n   * @return {String} 颜色值\n   */\n  gradient: function gradient(colors) {\n    var points = [];\n    if (Util.isString(colors)) {\n      colors = colors.split('-');\n    }\n    Util.each(colors, function(color) {\n      var colorArray = ColorUtil.toRGB(color).map(function (e) { return (e / 255); });\n      // colorArray[3] = colorArray[3] * 255;\n      points.push(colorArray);\n    });\n\n    return function(percent) {\n      return calColor(points, percent);\n    };\n  }\n};\n\n/**\n * @fileOverview the Attribute base class\n * @author huangtonger@aliyun.com\n */\n\nfunction toScaleString(scale, value) {\n  if (Util.isString(value)) {\n    return value;\n  }\n  return scale.invert(scale.scale(value));\n}\n/**\n * 所有视觉通道属性的基类\n * @class Attr\n */\nvar AttributeBase = function AttributeBase(cfg) {\n  /**\n   * 属性的类型\n   * @type {String}\n   */\n  this.type = 'base';\n\n  /**\n   * 属性的名称\n   * @type {String}\n   */\n  this.name = null;\n\n  /**\n   * 回调函数\n   * @type {Function}\n   */\n  this.method = null;\n\n  /**\n   * 备选的值数组\n   * @type {Array}\n   */\n  this.values = [];\n\n  /**\n   * 属性内部的度量\n   * @type {Array}\n   */\n  this.scales = [];\n\n  /**\n   * 是否通过线性取值, 如果未指定，则根据数值的类型判定\n   * @type {Boolean}\n   */\n  this.linear = null;\n\n  Util.mix(this, cfg);\n};\n\nAttributeBase.prototype.get = function get (name) {\n  return this[name];\n};\n\nAttributeBase.prototype.set = function set (name, value) {\n  this[name] = value;\n};\n\n// 获取属性值，将值映射到视觉通道\nAttributeBase.prototype._getAttrValue = function _getAttrValue (scale, value) {\n  var values = this.values;\n  if (scale.isCategory && !this.linear) {\n    var index = scale.translate(value);\n    return values[index % values.length];\n  }\n  var percent = scale.scale(value);\n  return this.getLinearValue(percent);\n};\n\n/**\n * 如果进行线性映射，返回对应的映射值\n * @protected\n * @param{Number} percent 百分比\n * @return {*}颜色值、形状、大小等\n */\nAttributeBase.prototype.getLinearValue = function getLinearValue (percent) {\n  var values = this.values;\n  var steps = values.length - 1;\n  var step = Math.floor(steps * percent);\n  var leftPercent = steps * percent - step;\n  var start = values[step];\n  var end = step === steps ? start : values[step + 1];\n  var rstValue = start + (end - start) * leftPercent;\n  return rstValue;\n};\n\n/**\n * 默认的回调函数\n * @param {*} value 回调函数的值\n * @type {Function}\n * @return {Array} 返回映射后的值\n */\nAttributeBase.prototype.callback = function callback (value) {\n\n  var self = this;\n  var scale = self.scales[0];\n  var rstValue = null;\n  if (scale.type === 'identity') {\n\n    rstValue = scale.value;\n  } else {\n\n    rstValue = self._getAttrValue(scale, value);\n  }\n  return rstValue;\n};\n\n/**\n * 根据度量获取属性名\n * @return {Array} dims of this Attribute\n */\nAttributeBase.prototype.getNames = function getNames () {\n  var scales = this.scales;\n  var names = this.names;\n  var length = Math.min(scales.length, names.length);\n  var rst = [];\n  for (var i = 0; i < length; i++) {\n    rst.push(names[i]);\n  }\n  return rst;\n};\n\n/**\n * 根据度量获取维度名\n * @return {Array} dims of this Attribute\n */\nAttributeBase.prototype.getFields = function getFields () {\n  var scales = this.scales;\n  var rst = [];\n  Util.each(scales, function(scale) {\n    rst.push(scale.field);\n  });\n  return rst;\n};\n\n/**\n * 根据名称获取度量\n * @param{String} name the name of scale\n * @return {Scale} scale\n */\nAttributeBase.prototype.getScale = function getScale (name) {\n  var scales = this.scales;\n  var names = this.names;\n  var index = names.indexOf(name);\n  return scales[index];\n};\n\n/**\n * 映射数据\n * @param {*} params 多个数值\n * @return {Array} 映射的值组成的数组\n */\nAttributeBase.prototype.mapping = function mapping () {\n    var params = [], len = arguments.length;\n    while ( len-- ) params[ len ] = arguments[ len ];\n\n  var scales = this.scales;\n  var callback = this.callback;\n  var values = params;\n  if (callback) {\n    for (var i = 0; i < params.length; i++) {\n      params[i] = this._toOriginParam(params[i], scales[i]);\n    }\n    values = callback.apply(this, params);\n  }\n  if (this.type === 'color' && !Util.isArray(values)) {\n    values = ColorUtil.toRGB(values).map(function (e) { return e / 255; });\n    // values[3] = values[3] * 255;\n  }\n  if (!Util.isArray(values)) {\n    values = [ values ];\n  }\n  return values;\n};\n\n// 原始的参数\nAttributeBase.prototype._toOriginParam = function _toOriginParam (param, scale) {\n  var rst = param;\n  if (!scale.isLinear) {\n    if (Util.isArray(param)) {\n      rst = [];\n      for (var i = 0; i < param.length; i++) {\n        rst.push(toScaleString(scale, param[i]));\n      }\n    } else {\n      rst = toScaleString(scale, param);\n    }\n  }\n  return rst;\n};\n\n/**\n * @fileOverview the color attribute of core\n * @author huangtonger@aliyun.com\n */\n\n/**\n * 视觉通道 color\n * @class Attr.Color\n */\nvar Color$1 = /*@__PURE__*/(function (Base) {\n  function Color(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'color' ];\n    this.type = 'color';\n    this.gradient = null;\n    if (Util.isString(this.values)) {\n      this.linear = true;\n    }\n  }\n\n  if ( Base ) Color.__proto__ = Base;\n  Color.prototype = Object.create( Base && Base.prototype );\n  Color.prototype.constructor = Color;\n\n  /**\n   * @override\n   */\n  Color.prototype.getLinearValue = function getLinearValue (percent) {\n    var gradient = this.gradient;\n    if (!gradient) {\n      var values = this.values;\n      gradient = ColorUtil.gradient(values);\n      this.gradient = gradient;\n    }\n    var color = gradient(percent);\n    return color;\n  };\n\n  return Color;\n}(AttributeBase));\n\n/**\n * @fileOverview the size attribute of core\n * @author huangtonger@aliyun.com\n */\n\n/**\n * 视觉通道 size\n * @class Attr.Size\n */\nvar Size = /*@__PURE__*/(function (Base) {\n  function Size(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'size' ];\n    this.type = 'size';\n    this.gradient = null;\n    this.domainIndex = 0;\n  }\n\n  if ( Base ) Size.__proto__ = Base;\n  Size.prototype = Object.create( Base && Base.prototype );\n  Size.prototype.constructor = Size;\n\n  Size.prototype.mapping = function mapping () {\n    var arguments$1 = arguments;\n\n    // 重构\n    var self = this;\n    var outputs = [];\n    var scales = self.scales;\n    if (self.values.length === 0) {\n      var callback = this.callback.bind(this);\n      outputs.push(callback.apply(void 0, arguments));\n    } else {\n      if (!Util.isArray(self.values[0])) {\n        self.values = [ self.values ];\n      }\n      for (var i = 0; i < scales.length; i++) {\n        outputs.push(self._scaling(scales[i], arguments$1[i]));\n      }\n    }\n    this.domainIndex = 0;\n    return outputs;\n  };\n\n  Size.prototype._scaling = function _scaling (scale, v) {\n    if (scale.type === 'identity') {\n      return v;\n    }\n    var percent = scale.scale(v);\n    return this.getLinearValue(percent);\n\n    // else if (scale.type === 'linear') {\n  };\n\n  Size.prototype.getLinearValue = function getLinearValue (percent) {\n    var values = this.values[this.domainIndex];\n    var steps = values.length - 1;\n    var step = Math.floor(steps * percent);\n    var leftPercent = steps * percent - step;\n    var start = values[step];\n    var end = step === steps ? start : values[step + 1];\n    var rstValue = start + (end - start) * leftPercent;\n    this.domainIndex += 1;\n    return rstValue;\n  };\n\n  return Size;\n}(AttributeBase));\n\n/**\n * @fileOverview the opacity attribute of core\n * @author huangtonger@aliyun.com\n */\n\n/**\n * 视觉通道 Opacity\n * @class Attr.Opacity\n */\nvar Opacity = /*@__PURE__*/(function (Base) {\n  function Opacity(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'opacity' ];\n    this.type = 'opacity';\n    this.gradient = null;\n  }\n\n  if ( Base ) Opacity.__proto__ = Base;\n  Opacity.prototype = Object.create( Base && Base.prototype );\n  Opacity.prototype.constructor = Opacity;\n\n  return Opacity;\n}(AttributeBase));\n\n/**\n * @fileOverview the shape attribute of core\n * @author huangtonger@aliyun.com\n */\n\n/**\n * 视觉通道 Shape\n * @class Attr.Shape\n */\nvar Shape = /*@__PURE__*/(function (Base) {\n  function Shape(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'shape' ];\n    this.type = 'shape';\n    this.gradient = null;\n  }\n\n  if ( Base ) Shape.__proto__ = Base;\n  Shape.prototype = Object.create( Base && Base.prototype );\n  Shape.prototype.constructor = Shape;\n\n  /**\n   * @override\n   */\n  Shape.prototype.getLinearValue = function getLinearValue (percent) {\n    var values = this.values;\n    var index = Math.round((values.length - 1) * percent);\n    return values[index];\n  };\n  /**\n   * @override\n   */\n  Shape.prototype._getAttrValue = function _getAttrValue (scale, value) {\n    if (this.values === 'text') { return value; }\n    var values = this.values;\n    if (scale.isCategory && !this.linear) {\n      var index = scale.translate(value);\n      return values[index % values.length];\n    }\n    var percent = scale.scale(value);\n    return this.getLinearValue(percent);\n  };\n\n  return Shape;\n}(AttributeBase));\n\n/**\n * @fileOverview the position attribute of core\n * @author huangtonger@aliyun.com\n */\n\nvar Position = /*@__PURE__*/(function (Base) {\n  function Position(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'x', 'y' ];\n    this.type = 'position';\n  }\n\n  if ( Base ) Position.__proto__ = Base;\n  Position.prototype = Object.create( Base && Base.prototype );\n  Position.prototype.constructor = Position;\n\n  Position.prototype.mapping = function mapping (x, y) {\n    var scales = this.scales;\n    var coord = this.coord;\n    var scaleX = scales[0];\n    var scaleY = scales[1];\n    var rstX;\n    var rstY;\n    var obj;\n    if (Util.isNil(x) || Util.isNil(y)) {\n      return [];\n    }\n    if (Util.isArray(y) && Util.isArray(x)) {\n      rstX = [];\n      rstY = [];\n      for (var i = 0, j = 0; i < x.length && j < y.length; i++, j++) {\n        obj = coord.convertPoint({\n          x: scaleX.scale(x[i]),\n          y: scaleY.scale(y[j])\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (Util.isArray(y)) {\n      x = scaleX.scale(x);\n      rstY = [];\n      Util.each(y, function(yVal) {\n        yVal = scaleY.scale(yVal);\n        obj = coord.convertPoint({\n          x: x,\n          y: yVal\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!Util.isArray(rstX)) {\n            rstX = [ rstX ];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      });\n    } else if (Util.isArray(x)) {\n      y = scaleY.scale(y);\n      rstX = [];\n      Util.each(x, function(xVal) {\n        xVal = scaleX.scale(xVal);\n        obj = coord.convertPoint({\n          x: xVal,\n          y: y\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!Util.isArray(rstY)) {\n            rstY = [ rstY ];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      });\n    } else {\n      x = scaleX.scale(x);\n      y = scaleY.scale(y);\n      var point = coord.convertPoint({\n        x: x,\n        y: y\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    return [ rstX, rstY ];\n  };\n\n  return Position;\n}(AttributeBase));\n\n/*\n * @Author: ThinkGIS\n * @Date: 2018-06-14 20:13:18\n * @Last Modified by: ThinkGIS\n * @Last Modified time: 2018-07-02 18:24:58\n */\n\n/**\n * 视觉通道 symbol\n * @class Attr.symbol\n */\nvar Symbol = /*@__PURE__*/(function (Base) {\n  function Symbol(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'symbol' ];\n    this.type = 'symbol';\n    this.gradient = null;\n  }\n\n  if ( Base ) Symbol.__proto__ = Base;\n  Symbol.prototype = Object.create( Base && Base.prototype );\n  Symbol.prototype.constructor = Symbol;\n\n  return Symbol;\n}(AttributeBase));\n\n/*\n * @Author: ThinkGIS\n * @Date: 2018-06-14 20:13:18\n * @Last Modified by: mikey.zhaopeng\n * @Last Modified time: 2019-07-08 15:46:28\n */\n\n/**\n * 视觉通道 filter\n * @class Attr.filter\n */\nvar Filter = /*@__PURE__*/(function (Base) {\n  function Filter(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'filter' ];\n    this.type = 'filter';\n    this.gradient = null;\n  }\n\n  if ( Base ) Filter.__proto__ = Base;\n  Filter.prototype = Object.create( Base && Base.prototype );\n  Filter.prototype.constructor = Filter;\n\n  return Filter;\n}(AttributeBase));\n\n/**\n * 视觉通道 pattern\n * @class Attr.pattern\n */\nvar Pattern = /*@__PURE__*/(function (Base) {\n  function Pattern(cfg) {\n    Base.call(this, cfg);\n    this.names = [ 'pattern' ];\n    this.type = 'pattern';\n    this.gradient = null;\n  }\n\n  if ( Base ) Pattern.__proto__ = Base;\n  Pattern.prototype = Object.create( Base && Base.prototype );\n  Pattern.prototype.constructor = Pattern;\n\n  return Pattern;\n}(AttributeBase));\n\nAttributeBase.Color = Color$1;\nAttributeBase.Size = Size;\nAttributeBase.Opacity = Opacity;\nAttributeBase.Shape = Shape;\nAttributeBase.Position = Position;\nAttributeBase.Symbol = Symbol;\nAttributeBase.Filter = Filter;\nAttributeBase.Pattern = Pattern;\n\nvar helpers = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.370,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius / 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.370,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1 / 1.0936,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, options) {\n    switch (type) {\n        case \"Point\": return point(coordinates).geometry;\n        case \"LineString\": return lineString(coordinates).geometry;\n        case \"Polygon\": return polygon(coordinates).geometry;\n        case \"MultiPoint\": return multiPoint(coordinates).geometry;\n        case \"MultiLineString\": return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\": return multiPolygon(coordinates).geometry;\n        default: throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return degrees * 180 / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return radians * Math.PI / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted distance\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num) && !/^\\s*$/.test(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return (!!input) && (input.constructor === Object);\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n// Deprecated methods\nfunction radians2degrees() {\n    throw new Error(\"method has been renamed to `radiansToDegrees`\");\n}\nexports.radians2degrees = radians2degrees;\nfunction degrees2radians() {\n    throw new Error(\"method has been renamed to `degreesToRadians`\");\n}\nexports.degrees2radians = degrees2radians;\nfunction distanceToDegrees() {\n    throw new Error(\"method has been renamed to `lengthToDegrees`\");\n}\nexports.distanceToDegrees = distanceToDegrees;\nfunction distanceToRadians() {\n    throw new Error(\"method has been renamed to `lengthToRadians`\");\n}\nexports.distanceToRadians = distanceToRadians;\nfunction radiansToDistance() {\n    throw new Error(\"method has been renamed to `radiansToLength`\");\n}\nexports.radiansToDistance = radiansToDistance;\nfunction bearingToAngle() {\n    throw new Error(\"method has been renamed to `bearingToAzimuth`\");\n}\nexports.bearingToAngle = bearingToAngle;\nfunction convertDistance() {\n    throw new Error(\"method has been renamed to `convertLength`\");\n}\nexports.convertDistance = convertDistance;\n});\n\nunwrapExports(helpers);\nvar helpers_1 = helpers.earthRadius;\nvar helpers_2 = helpers.factors;\nvar helpers_3 = helpers.unitsFactors;\nvar helpers_4 = helpers.areaFactors;\nvar helpers_5 = helpers.feature;\nvar helpers_6 = helpers.geometry;\nvar helpers_7 = helpers.point;\nvar helpers_8 = helpers.points;\nvar helpers_9 = helpers.polygon;\nvar helpers_10 = helpers.polygons;\nvar helpers_11 = helpers.lineString;\nvar helpers_12 = helpers.lineStrings;\nvar helpers_13 = helpers.featureCollection;\nvar helpers_14 = helpers.multiLineString;\nvar helpers_15 = helpers.multiPoint;\nvar helpers_16 = helpers.multiPolygon;\nvar helpers_17 = helpers.geometryCollection;\nvar helpers_18 = helpers.round;\nvar helpers_19 = helpers.radiansToLength;\nvar helpers_20 = helpers.lengthToRadians;\nvar helpers_21 = helpers.lengthToDegrees;\nvar helpers_22 = helpers.bearingToAzimuth;\nvar helpers_23 = helpers.radiansToDegrees;\nvar helpers_24 = helpers.degreesToRadians;\nvar helpers_25 = helpers.convertLength;\nvar helpers_26 = helpers.convertArea;\nvar helpers_27 = helpers.isNumber;\nvar helpers_28 = helpers.isObject;\nvar helpers_29 = helpers.validateBBox;\nvar helpers_30 = helpers.validateId;\nvar helpers_31 = helpers.radians2degrees;\nvar helpers_32 = helpers.degrees2radians;\nvar helpers_33 = helpers.distanceToDegrees;\nvar helpers_34 = helpers.distanceToRadians;\nvar helpers_35 = helpers.radiansToDistance;\nvar helpers_36 = helpers.bearingToAngle;\nvar helpers_37 = helpers.convertDistance;\n\nvar meta = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n    // Handles null Geometry -- Skips this GeoJSON\n    if (geojson === null) { return; }\n    var j, k, l, geometry, stopG, coords,\n        geometryMaybeCollection,\n        wrapShrink = 0,\n        coordIndex = 0,\n        isGeometryCollection,\n        type = geojson.type,\n        isFeatureCollection = type === 'FeatureCollection',\n        isFeature = type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n            var multiFeatureIndex = 0;\n            var geometryIndex = 0;\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n\n            // Handles null Geometry -- Skips this geometry\n            if (geometry === null) { continue; }\n            coords = geometry.coordinates;\n            var geomType = geometry.type;\n\n            wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;\n\n            switch (geomType) {\n            case null:\n                break;\n            case 'Point':\n                if (callback(coords, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) { return false; }\n                coordIndex++;\n                multiFeatureIndex++;\n                break;\n            case 'LineString':\n            case 'MultiPoint':\n                for (j = 0; j < coords.length; j++) {\n                    if (callback(coords[j], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) { return false; }\n                    coordIndex++;\n                    if (geomType === 'MultiPoint') { multiFeatureIndex++; }\n                }\n                if (geomType === 'LineString') { multiFeatureIndex++; }\n                break;\n            case 'Polygon':\n            case 'MultiLineString':\n                for (j = 0; j < coords.length; j++) {\n                    for (k = 0; k < coords[j].length - wrapShrink; k++) {\n                        if (callback(coords[j][k], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) { return false; }\n                        coordIndex++;\n                    }\n                    if (geomType === 'MultiLineString') { multiFeatureIndex++; }\n                    if (geomType === 'Polygon') { geometryIndex++; }\n                }\n                if (geomType === 'Polygon') { multiFeatureIndex++; }\n                break;\n            case 'MultiPolygon':\n                for (j = 0; j < coords.length; j++) {\n                    geometryIndex = 0;\n                    for (k = 0; k < coords[j].length; k++) {\n                        for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                            if (callback(coords[j][k][l], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) { return false; }\n                            coordIndex++;\n                        }\n                        geometryIndex++;\n                    }\n                    multiFeatureIndex++;\n                }\n                break;\n            case 'GeometryCollection':\n                for (j = 0; j < geometry.geometries.length; j++)\n                    { if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false) { return false; } }\n                break;\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n    }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n    var previousValue = initialValue;\n    coordEach(geojson, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (coordIndex === 0 && initialValue === undefined) { previousValue = currentCoord; }\n        else { previousValue = callback(previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex); }\n    }, excludeWrapCoord);\n    return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n    var i;\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        for (i = 0; i < geojson.features.length; i++) {\n            if (callback(geojson.features[i].properties, i) === false) { break; }\n        }\n        break;\n    case 'Feature':\n        callback(geojson.properties, 0);\n        break;\n    }\n}\n\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    propEach(geojson, function (currentProperties, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) { previousValue = currentProperties; }\n        else { previousValue = callback(previousValue, currentProperties, featureIndex); }\n    });\n    return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n    if (geojson.type === 'Feature') {\n        callback(geojson, 0);\n    } else if (geojson.type === 'FeatureCollection') {\n        for (var i = 0; i < geojson.features.length; i++) {\n            if (callback(geojson.features[i], i) === false) { break; }\n        }\n    }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    featureEach(geojson, function (currentFeature, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) { previousValue = currentFeature; }\n        else { previousValue = callback(previousValue, currentFeature, featureIndex); }\n    });\n    return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n    var coords = [];\n    coordEach(geojson, function (coord) {\n        coords.push(coord);\n    });\n    return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n    var i, j, g, geometry, stopG,\n        geometryMaybeCollection,\n        isGeometryCollection,\n        featureProperties,\n        featureBBox,\n        featureId,\n        featureIndex = 0,\n        isFeatureCollection = geojson.type === 'FeatureCollection',\n        isFeature = geojson.type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (i = 0; i < stop; i++) {\n\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[i].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        featureProperties = (isFeatureCollection ? geojson.features[i].properties :\n            (isFeature ? geojson.properties : {}));\n        featureBBox = (isFeatureCollection ? geojson.features[i].bbox :\n            (isFeature ? geojson.bbox : undefined));\n        featureId = (isFeatureCollection ? geojson.features[i].id :\n            (isFeature ? geojson.id : undefined));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (g = 0; g < stopG; g++) {\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n\n            // Handle null Geometry\n            if (geometry === null) {\n                if (callback(null, featureIndex, featureProperties, featureBBox, featureId) === false) { return false; }\n                continue;\n            }\n            switch (geometry.type) {\n            case 'Point':\n            case 'LineString':\n            case 'MultiPoint':\n            case 'Polygon':\n            case 'MultiLineString':\n            case 'MultiPolygon': {\n                if (callback(geometry, featureIndex, featureProperties, featureBBox, featureId) === false) { return false; }\n                break;\n            }\n            case 'GeometryCollection': {\n                for (j = 0; j < geometry.geometries.length; j++) {\n                    if (callback(geometry.geometries[j], featureIndex, featureProperties, featureBBox, featureId) === false) { return false; }\n                }\n                break;\n            }\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n        // Only increase `featureIndex` per each feature\n        featureIndex++;\n    }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    geomEach(geojson, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n        if (featureIndex === 0 && initialValue === undefined) { previousValue = currentGeometry; }\n        else { previousValue = callback(previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId); }\n    });\n    return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n    geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n        // Callback for single geometry\n        var type = (geometry === null) ? null : geometry.type;\n        switch (type) {\n        case null:\n        case 'Point':\n        case 'LineString':\n        case 'Polygon':\n            if (callback(helpers.feature(geometry, properties, {bbox: bbox, id: id}), featureIndex, 0) === false) { return false; }\n            return;\n        }\n\n        var geomType;\n\n        // Callback for multi-geometry\n        switch (type) {\n        case 'MultiPoint':\n            geomType = 'Point';\n            break;\n        case 'MultiLineString':\n            geomType = 'LineString';\n            break;\n        case 'MultiPolygon':\n            geomType = 'Polygon';\n            break;\n        }\n\n        for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {\n            var coordinate = geometry.coordinates[multiFeatureIndex];\n            var geom = {\n                type: geomType,\n                coordinates: coordinate\n            };\n            if (callback(helpers.feature(geom, properties), featureIndex, multiFeatureIndex) === false) { return false; }\n        }\n    });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    flattenEach(geojson, function (currentFeature, featureIndex, multiFeatureIndex) {\n        if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === undefined) { previousValue = currentFeature; }\n        else { previousValue = callback(previousValue, currentFeature, featureIndex, multiFeatureIndex); }\n    });\n    return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n    flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n        var segmentIndex = 0;\n\n        // Exclude null Geometries\n        if (!feature.geometry) { return; }\n        // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n        var type = feature.geometry.type;\n        if (type === 'Point' || type === 'MultiPoint') { return; }\n\n        // Generate 2-vertex line segments\n        var previousCoords;\n        var previousFeatureIndex = 0;\n        var previousMultiIndex = 0;\n        var prevGeomIndex = 0;\n        if (coordEach(feature, function (currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {\n            // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n            if (previousCoords === undefined || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {\n                previousCoords = currentCoord;\n                previousFeatureIndex = featureIndex;\n                previousMultiIndex = multiPartIndexCoord;\n                prevGeomIndex = geometryIndex;\n                segmentIndex = 0;\n                return;\n            }\n            var currentSegment = helpers.lineString([previousCoords, currentCoord], feature.properties);\n            if (callback(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) === false) { return false; }\n            segmentIndex++;\n            previousCoords = currentCoord;\n        }) === false) { return false; }\n    });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentInex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    var started = false;\n    segmentEach(geojson, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n        if (started === false && initialValue === undefined) { previousValue = currentSegment; }\n        else { previousValue = callback(previousValue, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex); }\n        started = true;\n    });\n    return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n    // validation\n    if (!geojson) { throw new Error('geojson is required'); }\n\n    flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n        if (feature.geometry === null) { return; }\n        var type = feature.geometry.type;\n        var coords = feature.geometry.coordinates;\n        switch (type) {\n        case 'LineString':\n            if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false) { return false; }\n            break;\n        case 'Polygon':\n            for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n                if (callback(helpers.lineString(coords[geometryIndex], feature.properties), featureIndex, multiFeatureIndex, geometryIndex) === false) { return false; }\n            }\n            break;\n        }\n    });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    lineEach(geojson, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (featureIndex === 0 && initialValue === undefined) { previousValue = currentLine; }\n        else { previousValue = callback(previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex); }\n    });\n    return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n    // Optional Parameters\n    options = options || {};\n    if (!helpers.isObject(options)) { throw new Error('options is invalid'); }\n    var featureIndex = options.featureIndex || 0;\n    var multiFeatureIndex = options.multiFeatureIndex || 0;\n    var geometryIndex = options.geometryIndex || 0;\n    var segmentIndex = options.segmentIndex || 0;\n\n    // Find FeatureIndex\n    var properties = options.properties;\n    var geometry;\n\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        if (featureIndex < 0) { featureIndex = geojson.features.length + featureIndex; }\n        properties = properties || geojson.features[featureIndex].properties;\n        geometry = geojson.features[featureIndex].geometry;\n        break;\n    case 'Feature':\n        properties = properties || geojson.properties;\n        geometry = geojson.geometry;\n        break;\n    case 'Point':\n    case 'MultiPoint':\n        return null;\n    case 'LineString':\n    case 'Polygon':\n    case 'MultiLineString':\n    case 'MultiPolygon':\n        geometry = geojson;\n        break;\n    default:\n        throw new Error('geojson is invalid');\n    }\n\n    // Find SegmentIndex\n    if (geometry === null) { return null; }\n    var coords = geometry.coordinates;\n    switch (geometry.type) {\n    case 'Point':\n    case 'MultiPoint':\n        return null;\n    case 'LineString':\n        if (segmentIndex < 0) { segmentIndex = coords.length + segmentIndex - 1; }\n        return helpers.lineString([coords[segmentIndex], coords[segmentIndex + 1]], properties, options);\n    case 'Polygon':\n        if (geometryIndex < 0) { geometryIndex = coords.length + geometryIndex; }\n        if (segmentIndex < 0) { segmentIndex = coords[geometryIndex].length + segmentIndex - 1; }\n        return helpers.lineString([coords[geometryIndex][segmentIndex], coords[geometryIndex][segmentIndex + 1]], properties, options);\n    case 'MultiLineString':\n        if (multiFeatureIndex < 0) { multiFeatureIndex = coords.length + multiFeatureIndex; }\n        if (segmentIndex < 0) { segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1; }\n        return helpers.lineString([coords[multiFeatureIndex][segmentIndex], coords[multiFeatureIndex][segmentIndex + 1]], properties, options);\n    case 'MultiPolygon':\n        if (multiFeatureIndex < 0) { multiFeatureIndex = coords.length + multiFeatureIndex; }\n        if (geometryIndex < 0) { geometryIndex = coords[multiFeatureIndex].length + geometryIndex; }\n        if (segmentIndex < 0) { segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1; }\n        return helpers.lineString([coords[multiFeatureIndex][geometryIndex][segmentIndex], coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]], properties, options);\n    }\n    throw new Error('geojson is invalid');\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n    // Optional Parameters\n    options = options || {};\n    if (!helpers.isObject(options)) { throw new Error('options is invalid'); }\n    var featureIndex = options.featureIndex || 0;\n    var multiFeatureIndex = options.multiFeatureIndex || 0;\n    var geometryIndex = options.geometryIndex || 0;\n    var coordIndex = options.coordIndex || 0;\n\n    // Find FeatureIndex\n    var properties = options.properties;\n    var geometry;\n\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        if (featureIndex < 0) { featureIndex = geojson.features.length + featureIndex; }\n        properties = properties || geojson.features[featureIndex].properties;\n        geometry = geojson.features[featureIndex].geometry;\n        break;\n    case 'Feature':\n        properties = properties || geojson.properties;\n        geometry = geojson.geometry;\n        break;\n    case 'Point':\n    case 'MultiPoint':\n        return null;\n    case 'LineString':\n    case 'Polygon':\n    case 'MultiLineString':\n    case 'MultiPolygon':\n        geometry = geojson;\n        break;\n    default:\n        throw new Error('geojson is invalid');\n    }\n\n    // Find Coord Index\n    if (geometry === null) { return null; }\n    var coords = geometry.coordinates;\n    switch (geometry.type) {\n    case 'Point':\n        return helpers.point(coords, properties, options);\n    case 'MultiPoint':\n        if (multiFeatureIndex < 0) { multiFeatureIndex = coords.length + multiFeatureIndex; }\n        return helpers.point(coords[multiFeatureIndex], properties, options);\n    case 'LineString':\n        if (coordIndex < 0) { coordIndex = coords.length + coordIndex; }\n        return helpers.point(coords[coordIndex], properties, options);\n    case 'Polygon':\n        if (geometryIndex < 0) { geometryIndex = coords.length + geometryIndex; }\n        if (coordIndex < 0) { coordIndex = coords[geometryIndex].length + coordIndex; }\n        return helpers.point(coords[geometryIndex][coordIndex], properties, options);\n    case 'MultiLineString':\n        if (multiFeatureIndex < 0) { multiFeatureIndex = coords.length + multiFeatureIndex; }\n        if (coordIndex < 0) { coordIndex = coords[multiFeatureIndex].length + coordIndex; }\n        return helpers.point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case 'MultiPolygon':\n        if (multiFeatureIndex < 0) { multiFeatureIndex = coords.length + multiFeatureIndex; }\n        if (geometryIndex < 0) { geometryIndex = coords[multiFeatureIndex].length + geometryIndex; }\n        if (coordIndex < 0) { coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex; }\n        return helpers.point(coords[multiFeatureIndex][geometryIndex][coordIndex], properties, options);\n    }\n    throw new Error('geojson is invalid');\n}\n\nexports.coordEach = coordEach;\nexports.coordReduce = coordReduce;\nexports.propEach = propEach;\nexports.propReduce = propReduce;\nexports.featureEach = featureEach;\nexports.featureReduce = featureReduce;\nexports.coordAll = coordAll;\nexports.geomEach = geomEach;\nexports.geomReduce = geomReduce;\nexports.flattenEach = flattenEach;\nexports.flattenReduce = flattenReduce;\nexports.segmentEach = segmentEach;\nexports.segmentReduce = segmentReduce;\nexports.lineEach = lineEach;\nexports.lineReduce = lineReduce;\nexports.findSegment = findSegment;\nexports.findPoint = findPoint;\n});\n\nunwrapExports(meta);\nvar meta_1 = meta.coordEach;\nvar meta_2 = meta.coordReduce;\nvar meta_3 = meta.propEach;\nvar meta_4 = meta.propReduce;\nvar meta_5 = meta.featureEach;\nvar meta_6 = meta.featureReduce;\nvar meta_7 = meta.coordAll;\nvar meta_8 = meta.geomEach;\nvar meta_9 = meta.geomReduce;\nvar meta_10 = meta.flattenEach;\nvar meta_11 = meta.flattenReduce;\nvar meta_12 = meta.segmentEach;\nvar meta_13 = meta.segmentReduce;\nvar meta_14 = meta.lineEach;\nvar meta_15 = meta.lineReduce;\nvar meta_16 = meta.findSegment;\nvar meta_17 = meta.findPoint;\n\nvar invariant = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\r\n/**\r\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\r\n *\r\n * @name getCoord\r\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\r\n * @returns {Array<number>} coordinates\r\n * @example\r\n * var pt = turf.point([10, 10]);\r\n *\r\n * var coord = turf.getCoord(pt);\r\n * //= [10, 10]\r\n */\r\nfunction getCoord(coord) {\r\n    if (!coord) {\r\n        throw new Error(\"coord is required\");\r\n    }\r\n    if (!Array.isArray(coord)) {\r\n        if (coord.type === \"Feature\" && coord.geometry !== null && coord.geometry.type === \"Point\") {\r\n            return coord.geometry.coordinates;\r\n        }\r\n        if (coord.type === \"Point\") {\r\n            return coord.coordinates;\r\n        }\r\n    }\r\n    if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {\r\n        return coord;\r\n    }\r\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\r\n}\r\nexports.getCoord = getCoord;\r\n/**\r\n * Unwrap coordinates from a Feature, Geometry Object or an Array\r\n *\r\n * @name getCoords\r\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\r\n * @returns {Array<any>} coordinates\r\n * @example\r\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\r\n *\r\n * var coords = turf.getCoords(poly);\r\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\r\n */\r\nfunction getCoords(coords) {\r\n    if (Array.isArray(coords)) {\r\n        return coords;\r\n    }\r\n    // Feature\r\n    if (coords.type === \"Feature\") {\r\n        if (coords.geometry !== null) {\r\n            return coords.geometry.coordinates;\r\n        }\r\n    }\r\n    else {\r\n        // Geometry\r\n        if (coords.coordinates) {\r\n            return coords.coordinates;\r\n        }\r\n    }\r\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\r\n}\r\nexports.getCoords = getCoords;\r\n/**\r\n * Checks if coordinates contains a number\r\n *\r\n * @name containsNumber\r\n * @param {Array<any>} coordinates GeoJSON Coordinates\r\n * @returns {boolean} true if Array contains a number\r\n */\r\nfunction containsNumber(coordinates) {\r\n    if (coordinates.length > 1 && helpers.isNumber(coordinates[0]) && helpers.isNumber(coordinates[1])) {\r\n        return true;\r\n    }\r\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\r\n        return containsNumber(coordinates[0]);\r\n    }\r\n    throw new Error(\"coordinates must only contain numbers\");\r\n}\r\nexports.containsNumber = containsNumber;\r\n/**\r\n * Enforce expectations about types of GeoJSON objects for Turf.\r\n *\r\n * @name geojsonType\r\n * @param {GeoJSON} value any GeoJSON object\r\n * @param {string} type expected GeoJSON type\r\n * @param {string} name name of calling function\r\n * @throws {Error} if value is not the expected type.\r\n */\r\nfunction geojsonType(value, type, name) {\r\n    if (!type || !name) {\r\n        throw new Error(\"type and name required\");\r\n    }\r\n    if (!value || value.type !== type) {\r\n        throw new Error(\"Invalid input to \" + name + \": must be a \" + type + \", given \" + value.type);\r\n    }\r\n}\r\nexports.geojsonType = geojsonType;\r\n/**\r\n * Enforce expectations about types of {@link Feature} inputs for Turf.\r\n * Internally this uses {@link geojsonType} to judge geometry types.\r\n *\r\n * @name featureOf\r\n * @param {Feature} feature a feature with an expected geometry type\r\n * @param {string} type expected GeoJSON type\r\n * @param {string} name name of calling function\r\n * @throws {Error} error if value is not the expected type.\r\n */\r\nfunction featureOf(feature, type, name) {\r\n    if (!feature) {\r\n        throw new Error(\"No feature passed\");\r\n    }\r\n    if (!name) {\r\n        throw new Error(\".featureOf() requires a name\");\r\n    }\r\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\r\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\r\n    }\r\n    if (!feature.geometry || feature.geometry.type !== type) {\r\n        throw new Error(\"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type);\r\n    }\r\n}\r\nexports.featureOf = featureOf;\r\n/**\r\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\r\n * Internally this uses {@link geojsonType} to judge geometry types.\r\n *\r\n * @name collectionOf\r\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\r\n * @param {string} type expected GeoJSON type\r\n * @param {string} name name of calling function\r\n * @throws {Error} if value is not the expected type.\r\n */\r\nfunction collectionOf(featureCollection, type, name) {\r\n    if (!featureCollection) {\r\n        throw new Error(\"No featureCollection passed\");\r\n    }\r\n    if (!name) {\r\n        throw new Error(\".collectionOf() requires a name\");\r\n    }\r\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\r\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\r\n    }\r\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\r\n        var feature = _a[_i];\r\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\r\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\r\n        }\r\n        if (!feature.geometry || feature.geometry.type !== type) {\r\n            throw new Error(\"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type);\r\n        }\r\n    }\r\n}\r\nexports.collectionOf = collectionOf;\r\n/**\r\n * Get Geometry from Feature or Geometry Object\r\n *\r\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\r\n * @returns {Geometry|null} GeoJSON Geometry Object\r\n * @throws {Error} if geojson is not a Feature or Geometry Object\r\n * @example\r\n * var point = {\r\n *   \"type\": \"Feature\",\r\n *   \"properties\": {},\r\n *   \"geometry\": {\r\n *     \"type\": \"Point\",\r\n *     \"coordinates\": [110, 40]\r\n *   }\r\n * }\r\n * var geom = turf.getGeom(point)\r\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\r\n */\r\nfunction getGeom(geojson) {\r\n    if (geojson.type === \"Feature\") {\r\n        return geojson.geometry;\r\n    }\r\n    return geojson;\r\n}\r\nexports.getGeom = getGeom;\r\n/**\r\n * Get GeoJSON object's type, Geometry type is prioritize.\r\n *\r\n * @param {GeoJSON} geojson GeoJSON object\r\n * @param {string} [name=\"geojson\"] name of the variable to display in error message\r\n * @returns {string} GeoJSON type\r\n * @example\r\n * var point = {\r\n *   \"type\": \"Feature\",\r\n *   \"properties\": {},\r\n *   \"geometry\": {\r\n *     \"type\": \"Point\",\r\n *     \"coordinates\": [110, 40]\r\n *   }\r\n * }\r\n * var geom = turf.getType(point)\r\n * //=\"Point\"\r\n */\r\nfunction getType(geojson, name) {\r\n    if (geojson.type === \"FeatureCollection\") {\r\n        return \"FeatureCollection\";\r\n    }\r\n    if (geojson.type === \"GeometryCollection\") {\r\n        return \"GeometryCollection\";\r\n    }\r\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\r\n        return geojson.geometry.type;\r\n    }\r\n    return geojson.type;\r\n}\r\nexports.getType = getType;\n});\n\nunwrapExports(invariant);\nvar invariant_1 = invariant.getCoord;\nvar invariant_2 = invariant.getCoords;\nvar invariant_3 = invariant.containsNumber;\nvar invariant_4 = invariant.geojsonType;\nvar invariant_5 = invariant.featureOf;\nvar invariant_6 = invariant.collectionOf;\nvar invariant_7 = invariant.getGeom;\nvar invariant_8 = invariant.getType;\n\nfunction djb2hash(str) {\n  str = str.toString();\n  var hash = 5381,\n    i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n  return hash >>> 0;\n}\n\nvar RADIUS = 6378137;\nvar FLATTENING = 1/298.257223563;\nvar POLAR_RADIUS = 6356752.3142;\n\nvar wgs84 = {\n\tRADIUS: RADIUS,\n\tFLATTENING: FLATTENING,\n\tPOLAR_RADIUS: POLAR_RADIUS\n};\n\nvar geometry_1 = geometry;\nvar ring = ringArea;\n\nfunction geometry(_) {\n    var area = 0, i;\n    switch (_.type) {\n        case 'Polygon':\n            return polygonArea(_.coordinates);\n        case 'MultiPolygon':\n            for (i = 0; i < _.coordinates.length; i++) {\n                area += polygonArea(_.coordinates[i]);\n            }\n            return area;\n        case 'Point':\n        case 'MultiPoint':\n        case 'LineString':\n        case 'MultiLineString':\n            return 0;\n        case 'GeometryCollection':\n            for (i = 0; i < _.geometries.length; i++) {\n                area += geometry(_.geometries[i]);\n            }\n            return area;\n    }\n}\n\nfunction polygonArea(coords) {\n    var area = 0;\n    if (coords && coords.length > 0) {\n        area += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            area -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return area;\n}\n\n/**\n * Calculate the approximate area of the polygon were it projected onto\n *     the earth.  Note that this area will be positive if ring is oriented\n *     clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\n *     Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n *     Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\n *\n * Returns:\n * {float} The approximate signed geodesic area of the polygon in square\n *     meters.\n */\n\nfunction ringArea(coords) {\n    var p1, p2, p3, lowerIndex, middleIndex, upperIndex, i,\n    area = 0,\n    coordsLength = coords.length;\n\n    if (coordsLength > 2) {\n        for (i = 0; i < coordsLength; i++) {\n            if (i === coordsLength - 2) {// i = N-2\n                lowerIndex = coordsLength - 2;\n                middleIndex = coordsLength -1;\n                upperIndex = 0;\n            } else if (i === coordsLength - 1) {// i = N-1\n                lowerIndex = coordsLength - 1;\n                middleIndex = 0;\n                upperIndex = 1;\n            } else { // i = 0 to N-3\n                lowerIndex = i;\n                middleIndex = i+1;\n                upperIndex = i+2;\n            }\n            p1 = coords[lowerIndex];\n            p2 = coords[middleIndex];\n            p3 = coords[upperIndex];\n            area += ( rad(p3[0]) - rad(p1[0]) ) * Math.sin( rad(p2[1]));\n        }\n\n        area = area * wgs84.RADIUS * wgs84.RADIUS / 2;\n    }\n\n    return area;\n}\n\nfunction rad(_) {\n    return _ * Math.PI / 180;\n}\n\nvar geojsonArea = {\n\tgeometry: geometry_1,\n\tring: ring\n};\n\nvar geojsonRewind = rewind;\n\nfunction rewind(gj, outer) {\n    switch ((gj && gj.type) || null) {\n        case 'FeatureCollection':\n            gj.features = gj.features.map(curryOuter(rewind, outer));\n            return gj;\n        case 'GeometryCollection':\n            gj.geometries = gj.geometries.map(curryOuter(rewind, outer));\n            return gj;\n        case 'Feature':\n            gj.geometry = rewind(gj.geometry, outer);\n            return gj;\n        case 'Polygon':\n        case 'MultiPolygon':\n            return correct(gj, outer);\n        default:\n            return gj;\n    }\n}\n\nfunction curryOuter(a, b) {\n    return function(_) { return a(_, b); };\n}\n\nfunction correct(_, outer) {\n    if (_.type === 'Polygon') {\n        _.coordinates = correctRings(_.coordinates, outer);\n    } else if (_.type === 'MultiPolygon') {\n        _.coordinates = _.coordinates.map(curryOuter(correctRings, outer));\n    }\n    return _;\n}\n\nfunction correctRings(_, outer) {\n    outer = !!outer;\n    _[0] = wind(_[0], outer);\n    for (var i = 1; i < _.length; i++) {\n        _[i] = wind(_[i], !outer);\n    }\n    return _;\n}\n\nfunction wind(_, dir) {\n    return cw(_) === dir ? _ : _.reverse();\n}\n\nfunction cw(_) {\n    return geojsonArea.ring(_) >= 0;\n}\n\nfunction geoJSON(data, cfg) {\n  // 矢量瓦片图层不做 rewind\n  var resultData = [];\n  var featureKeys = {};\n  data.features = data.features.filter(function (item) {\n    return item != null\n      && item.geometry\n      && item.geometry.type\n      && item.geometry.coordinates\n      && Array.isArray(item.geometry.coordinates)\n      && item.geometry.coordinates.length > 0;\n  });\n  geojsonRewind(data, true);\n  // 数据为空时处理\n  var i = 0;\n  meta_10(data, function (currentFeature, featureIndex) { // 多个polygon 拆成一个\n    var coord = invariant_2(currentFeature);\n\n    if (coord.length === 0) {\n      i++;\n      return;\n    }\n    var id = featureIndex + 1;\n    if (cfg.idField && currentFeature.properties[cfg.idField]) {\n      var value = currentFeature.properties[cfg.idField];\n      id = djb2hash(value) % 1000019;\n      featureKeys[id] = {\n        index: i++,\n        idField: value\n      };\n    }\n    if (currentFeature.geometry.type === 'MultiPolygon') {\n      coord.forEach(function (coor) { // mutipolygon\n\n        var dataItem = Object.assign({}, currentFeature.properties,\n          {coordinates: [ coor ],\n          _id: id});\n        resultData.push(dataItem);\n      });\n\n    } else {\n      var dataItem = Object.assign({}, currentFeature.properties,\n        {coordinates: coord,\n        _id: id});\n      resultData.push(dataItem);\n    }\n\n  });\n  return {\n    dataArray: resultData,\n    featureKeys: featureKeys\n  };\n}\n\nvar AJAXError = /*@__PURE__*/(function (Error) {\n  function AJAXError(message, status, url) {\n    Error.call(this, message);\n    this.status = status;\n    this.url = url;\n\n    // work around for https://github.com/Rich-Harris/buble/issues/40\n    this.name = this.constructor.name;\n    this.message = message;\n  }\n\n  if ( Error ) AJAXError.__proto__ = Error;\n  AJAXError.prototype = Object.create( Error && Error.prototype );\n  AJAXError.prototype.constructor = AJAXError;\n\n  AJAXError.prototype.toString = function toString () {\n    return ((this.name) + \": \" + (this.message) + \" (\" + (this.status) + \"): \" + (this.url));\n  };\n\n  return AJAXError;\n}(Error));\n\nfunction makeRequest(requestParameters) {\n  var xhr = new XMLHttpRequest();\n\n  xhr.open('GET', requestParameters.url, true);\n  for (var k in requestParameters.headers) {\n    xhr.setRequestHeader(k, requestParameters.headers[k]);\n  }\n  xhr.withCredentials = requestParameters.credentials === 'include';\n  return xhr;\n}\n\nvar getArrayBuffer = function(requestParameters, callback) {\n  var xhr = makeRequest(requestParameters);\n  xhr.responseType = 'arraybuffer';\n  xhr.onerror = function() {\n    callback(new Error(xhr.statusText));\n  };\n  xhr.onload = function() {\n    var response = xhr.response;\n    if (response.byteLength === 0 && xhr.status === 200) {\n      return callback(new Error('http status 200 returned without content.'));\n    }\n    if (xhr.status >= 200 && xhr.status < 300 && xhr.response) {\n      callback(null, {\n        data: response,\n        cacheControl: xhr.getResponseHeader('Cache-Control'),\n        expires: xhr.getResponseHeader('Expires')\n      });\n    } else {\n      callback(new AJAXError(xhr.statusText, xhr.status, requestParameters.url));\n    }\n  };\n  xhr.send();\n  return xhr;\n};\n\nvar transparentPngUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=';\n\nvar getImage = function(requestParameters, callback) {\n  // request the image with XHR to work around caching issues\n  // see https://github.com/mapbox/mapbox-gl-js/issues/1470\n  return getArrayBuffer(requestParameters, function (err, imgData) {\n    if (err) {\n      callback(err);\n    } else if (imgData) {\n      var img = new window.Image();\n      var URL = window.URL || window.webkitURL;\n      img.onload = function () {\n        callback(null, img);\n        URL.revokeObjectURL(img.src);\n      };\n      var blob = new window.Blob([ new Uint8Array(imgData.data) ], { type: 'image/png' });\n      img.cacheControl = imgData.cacheControl;\n      img.expires = imgData.expires;\n      img.src = imgData.data.byteLength ? URL.createObjectURL(blob) : transparentPngUrl;\n    }\n  });\n};\n\nfunction image(data, cfg) {\n  var extent = cfg.extent;\n\n  var images = new Promise(function (resolve) {\n    loadData(data, function (res) {\n      resolve(res);\n    });\n  });\n  var resultData = {\n    images: images,\n    _id: 1,\n    dataArray: [{ coordinates: [[ extent[0], extent[1] ], [ extent[2], extent[3] ]] }]\n  };\n  return resultData;\n}\nfunction loadData(data, done) {\n  var url = data;\n  var image = [];\n  if (typeof (url) === 'string') {\n    getImage({ url: url }, function (err, img) {\n      image = img;\n      done(image);\n    });\n  } else {\n    var imageCount = url.length;\n    var imageindex = 0;\n    url.forEach(function (item) {\n      getImage({ url: item }, function (err, img) {\n        imageindex++;\n        image.push(img);\n        if (imageindex === imageCount) {\n          done(image);\n        }\n\n      });\n    });\n\n  }\n  return image;\n}\n\nvar EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear()) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nfunction dsv(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) { return convert(row, i - 1); }\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) { --N; }\n    if (text.charCodeAt(N - 1) === RETURN) { --N; }\n\n    function token() {\n      if (eof) { return EOF; }\n      if (eol) { return eol = false, EOL; }\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE){ }\n        if ((i = I) >= N) { eof = true; }\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) { eol = true; }\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) { ++I; } }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) { eol = true; }\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) { ++I; } }\n        else if (c !== DELIMITER) { continue; }\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) { row.push(t), t = token(); }\n      if (f && (row = f(row, n++)) == null) { continue; }\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) { columns = inferColumns(rows); }\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) { columns = inferColumns(rows); }\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows\n  };\n}\n\nvar csv = dsv(\",\");\n\nvar csvParse = csv.parse;\n\nvar tsv = dsv(\"\\t\");\n\nfunction csv$1(data, cfg) {\n  var x = cfg.x;\n  var y = cfg.y;\n  var x1 = cfg.x1;\n  var y1 = cfg.y1;\n  var csvdata = csvParse(data);\n  var resultdata = [];\n  csvdata.forEach(function (col, featureIndex) {\n    var coordinates = [];\n    if (x && y) { coordinates = [ col[x] * 1, col[y] * 1 ]; } // 点数据\n    if (x1 && y1) { // 弧线 或者线段\n      coordinates = [[ col[x] * 1, col[y] * 1 ], [ col[x1] * 1, col[y1] * 1 ]];\n    }\n    col._id = featureIndex + 1;\n    var dataItem = Object.assign({}, col,\n      {coordinates: coordinates});\n    resultdata.push(dataItem);\n  });\n  return {\n    dataArray: resultdata\n  };\n}\n\nfunction json(data, cfg) {\n\n  var x = cfg.x;\n  var y = cfg.y;\n  var x1 = cfg.x1;\n  var y1 = cfg.y1;\n  var coordinates = cfg.coordinates;\n  var resultdata = [];\n\n  data.slice(0).forEach(function (col, featureIndex) {\n    var coords = [];\n    if (x && y) { coords = [ col[x], col[y] ]; } // 点数据\n    if (x1 && y1) { // 弧线 或者线段\n      coords = [[ col[x], col[y] ], [ col[x1], col[y1] ]];\n    }\n    if (coordinates) {\n      var type = 'Polygon';\n      if (!Array.isArray(coordinates[0])) {\n        type = 'Point';\n      }\n      if (Array.isArray(coordinates[0]) && !Array.isArray(coordinates[0][0])) {\n        type = 'LineString';\n      }\n      var geometry = {\n        type: type,\n        coordinates: [].concat( col[coordinates] )\n      };\n      geojsonRewind(geometry, true);\n      coords = geometry.coordinates;\n    }\n\n    col._id = featureIndex + 1;\n    var dataItem = Object.assign({}, col,\n      {coordinates: coords});\n    resultdata.push(dataItem);\n  });\n  return {\n    dataArray: resultdata\n  };\n}\n\nfunction raster(data, cfg) {\n  var extent = cfg.extent;\n  var width = cfg.width;\n  var height = cfg.height;\n  var min = cfg.min;\n  var max = cfg.max;\n  var resultData = {\n    _id: 1,\n    dataArray: [\n      {\n        data: Array.from(data),\n        width: width,\n        height: height,\n        min: min,\n        max: max,\n        coordinates: [[ extent[0], extent[1] ], [ extent[2], extent[3] ]] }]\n  };\n  return resultData;\n}\n\nvar read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? (nBytes - 1) : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n};\n\nvar write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = (nBytes * 8) - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);\n  var i = isLE ? 0 : (nBytes - 1);\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128;\n};\n\nvar ieee754 = {\n\tread: read,\n\twrite: write\n};\n\nvar pbf = Pbf;\n\n\n\nfunction Pbf(buf) {\n    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n    this.pos = 0;\n    this.type = 0;\n    this.length = this.buf.length;\n}\n\nPbf.Varint  = 0; // varint: int32, int64, uint32, uint64, sint32, sint64, bool, enum\nPbf.Fixed64 = 1; // 64-bit: double, fixed64, sfixed64\nPbf.Bytes   = 2; // length-delimited: string, bytes, embedded messages, packed repeated fields\nPbf.Fixed32 = 5; // 32-bit: float, fixed32, sfixed32\n\nvar SHIFT_LEFT_32 = (1 << 16) * (1 << 16),\n    SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n\n// Threshold chosen based on both benchmarking and knowledge about browser string\n// data structures (which currently switch structure types at 12 bytes or more)\nvar TEXT_DECODER_MIN_LENGTH = 12;\nvar utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf8');\n\nPbf.prototype = {\n\n    destroy: function() {\n        this.buf = null;\n    },\n\n    // === READING =================================================================\n\n    readFields: function(readField, result, end) {\n        end = end || this.length;\n\n        while (this.pos < end) {\n            var val = this.readVarint(),\n                tag = val >> 3,\n                startPos = this.pos;\n\n            this.type = val & 0x7;\n            readField(tag, result, this);\n\n            if (this.pos === startPos) { this.skip(val); }\n        }\n        return result;\n    },\n\n    readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n    },\n\n    readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    // 64-bit int handling is based on github.com/dpw/node-buffer-more-ints (MIT-licensed)\n\n    readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n    },\n\n    readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n    },\n\n    readVarint: function(isSigned) {\n        var buf = this.buf,\n            val, b;\n\n        b = buf[this.pos++]; val  =  b & 0x7f;        if (b < 0x80) { return val; }\n        b = buf[this.pos++]; val |= (b & 0x7f) << 7;  if (b < 0x80) { return val; }\n        b = buf[this.pos++]; val |= (b & 0x7f) << 14; if (b < 0x80) { return val; }\n        b = buf[this.pos++]; val |= (b & 0x7f) << 21; if (b < 0x80) { return val; }\n        b = buf[this.pos];   val |= (b & 0x0f) << 28;\n\n        return readVarintRemainder(val, isSigned, this);\n    },\n\n    readVarint64: function() { // for compatibility with v2.0.1\n        return this.readVarint(true);\n    },\n\n    readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2; // zigzag encoding\n    },\n\n    readBoolean: function() {\n        return Boolean(this.readVarint());\n    },\n\n    readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n            // longer strings are fast with the built-in browser TextDecoder API\n            return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        // short strings are fast with our custom implementation\n        return readUtf8(this.buf, pos, end);\n    },\n\n    readBytes: function() {\n        var end = this.readVarint() + this.pos,\n            buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n    },\n\n    // verbose for performance reasons; doesn't affect gzipped size\n\n    readPackedVarint: function(arr, isSigned) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readVarint(isSigned)); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readVarint(isSigned)); }\n        return arr;\n    },\n    readPackedSVarint: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readSVarint()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readSVarint()); }\n        return arr;\n    },\n    readPackedBoolean: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readBoolean()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readBoolean()); }\n        return arr;\n    },\n    readPackedFloat: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readFloat()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readFloat()); }\n        return arr;\n    },\n    readPackedDouble: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readDouble()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readDouble()); }\n        return arr;\n    },\n    readPackedFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readFixed32()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readFixed32()); }\n        return arr;\n    },\n    readPackedSFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readSFixed32()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readSFixed32()); }\n        return arr;\n    },\n    readPackedFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readFixed64()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readFixed64()); }\n        return arr;\n    },\n    readPackedSFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) { return arr.push(this.readSFixed64()); }\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) { arr.push(this.readSFixed64()); }\n        return arr;\n    },\n\n    skip: function(val) {\n        var type = val & 0x7;\n        if (type === Pbf.Varint) { while (this.buf[this.pos++] > 0x7f) {} }\n        else if (type === Pbf.Bytes) { this.pos = this.readVarint() + this.pos; }\n        else if (type === Pbf.Fixed32) { this.pos += 4; }\n        else if (type === Pbf.Fixed64) { this.pos += 8; }\n        else { throw new Error('Unimplemented type: ' + type); }\n    },\n\n    // === WRITING =================================================================\n\n    writeTag: function(tag, type) {\n        this.writeVarint((tag << 3) | type);\n    },\n\n    realloc: function(min) {\n        var length = this.length || 16;\n\n        while (length < this.pos + min) { length *= 2; }\n\n        if (length !== this.length) {\n            var buf = new Uint8Array(length);\n            buf.set(this.buf);\n            this.buf = buf;\n            this.length = length;\n        }\n    },\n\n    finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n    },\n\n    writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeVarint: function(val) {\n        val = +val || 0;\n\n        if (val > 0xfffffff || val < 0) {\n            writeBigVarint(val, this);\n            return;\n        }\n\n        this.realloc(4);\n\n        this.buf[this.pos++] =           val & 0x7f  | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) { return; }\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) { return; }\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) { return; }\n        this.buf[this.pos++] =   (val >>> 7) & 0x7f;\n    },\n\n    writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n    },\n\n    writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n    },\n\n    writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n\n        this.pos++; // reserve 1 byte for short string length\n\n        var startPos = this.pos;\n        // write the string directly to the buffer and see how much was written\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) { makeRoomForExtraLength(startPos, len, this); }\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n    },\n\n    writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n    },\n\n    writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i = 0; i < len; i++) { this.buf[this.pos++] = buffer[i]; }\n    },\n\n    writeRawMessage: function(fn, obj) {\n        this.pos++; // reserve 1 byte for short message length\n\n        // write the message directly to the buffer and see how much was written\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) { makeRoomForExtraLength(startPos, len, this); }\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n    },\n\n    writePackedVarint:   function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedVarint, arr); }   },\n    writePackedSVarint:  function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedSVarint, arr); }  },\n    writePackedBoolean:  function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedBoolean, arr); }  },\n    writePackedFloat:    function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedFloat, arr); }    },\n    writePackedDouble:   function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedDouble, arr); }   },\n    writePackedFixed32:  function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedFixed32, arr); }  },\n    writePackedSFixed32: function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedSFixed32, arr); } },\n    writePackedFixed64:  function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedFixed64, arr); }  },\n    writePackedSFixed64: function(tag, arr) { if (arr.length) { this.writeMessage(tag, writePackedSFixed64, arr); } },\n\n    writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n    },\n    writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n    },\n    writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n    },\n    writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n    },\n    writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n    },\n    writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n    },\n    writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n    },\n    writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n    },\n    writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n    },\n    writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n    },\n    writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n    }\n};\n\nfunction readVarintRemainder(l, s, p) {\n    var buf = p.buf,\n        h, b;\n\n    b = buf[p.pos++]; h  = (b & 0x70) >> 4;  if (b < 0x80) { return toNum(l, h, s); }\n    b = buf[p.pos++]; h |= (b & 0x7f) << 3;  if (b < 0x80) { return toNum(l, h, s); }\n    b = buf[p.pos++]; h |= (b & 0x7f) << 10; if (b < 0x80) { return toNum(l, h, s); }\n    b = buf[p.pos++]; h |= (b & 0x7f) << 17; if (b < 0x80) { return toNum(l, h, s); }\n    b = buf[p.pos++]; h |= (b & 0x7f) << 24; if (b < 0x80) { return toNum(l, h, s); }\n    b = buf[p.pos++]; h |= (b & 0x01) << 31; if (b < 0x80) { return toNum(l, h, s); }\n\n    throw new Error('Expected varint not more than 10 bytes');\n}\n\nfunction readPackedEnd(pbf) {\n    return pbf.type === Pbf.Bytes ?\n        pbf.readVarint() + pbf.pos : pbf.pos + 1;\n}\n\nfunction toNum(low, high, isSigned) {\n    if (isSigned) {\n        return high * 0x100000000 + (low >>> 0);\n    }\n\n    return ((high >>> 0) * 0x100000000) + (low >>> 0);\n}\n\nfunction writeBigVarint(val, pbf) {\n    var low, high;\n\n    if (val >= 0) {\n        low  = (val % 0x100000000) | 0;\n        high = (val / 0x100000000) | 0;\n    } else {\n        low  = ~(-val % 0x100000000);\n        high = ~(-val / 0x100000000);\n\n        if (low ^ 0xffffffff) {\n            low = (low + 1) | 0;\n        } else {\n            low = 0;\n            high = (high + 1) | 0;\n        }\n    }\n\n    if (val >= 0x10000000000000000 || val < -0x10000000000000000) {\n        throw new Error('Given varint doesn\\'t fit into 10 bytes');\n    }\n\n    pbf.realloc(10);\n\n    writeBigVarintLow(low, high, pbf);\n    writeBigVarintHigh(high, pbf);\n}\n\nfunction writeBigVarintLow(low, high, pbf) {\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos]   = low & 0x7f;\n}\n\nfunction writeBigVarintHigh(high, pbf) {\n    var lsb = (high & 0x07) << 4;\n\n    pbf.buf[pbf.pos++] |= lsb         | ((high >>>= 3) ? 0x80 : 0); if (!high) { return; }\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) { return; }\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) { return; }\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) { return; }\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) { return; }\n    pbf.buf[pbf.pos++]  = high & 0x7f;\n}\n\nfunction makeRoomForExtraLength(startPos, len, pbf) {\n    var extraLen =\n        len <= 0x3fff ? 1 :\n        len <= 0x1fffff ? 2 :\n        len <= 0xfffffff ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n\n    // if 1 byte isn't enough for encoding message length, shift the data to the right\n    pbf.realloc(extraLen);\n    for (var i = pbf.pos - 1; i >= startPos; i--) { pbf.buf[i + extraLen] = pbf.buf[i]; }\n}\n\nfunction writePackedVarint(arr, pbf)   { for (var i = 0; i < arr.length; i++) { pbf.writeVarint(arr[i]); }   }\nfunction writePackedSVarint(arr, pbf)  { for (var i = 0; i < arr.length; i++) { pbf.writeSVarint(arr[i]); }  }\nfunction writePackedFloat(arr, pbf)    { for (var i = 0; i < arr.length; i++) { pbf.writeFloat(arr[i]); }    }\nfunction writePackedDouble(arr, pbf)   { for (var i = 0; i < arr.length; i++) { pbf.writeDouble(arr[i]); }   }\nfunction writePackedBoolean(arr, pbf)  { for (var i = 0; i < arr.length; i++) { pbf.writeBoolean(arr[i]); }  }\nfunction writePackedFixed32(arr, pbf)  { for (var i = 0; i < arr.length; i++) { pbf.writeFixed32(arr[i]); }  }\nfunction writePackedSFixed32(arr, pbf) { for (var i = 0; i < arr.length; i++) { pbf.writeSFixed32(arr[i]); } }\nfunction writePackedFixed64(arr, pbf)  { for (var i = 0; i < arr.length; i++) { pbf.writeFixed64(arr[i]); }  }\nfunction writePackedSFixed64(arr, pbf) { for (var i = 0; i < arr.length; i++) { pbf.writeSFixed64(arr[i]); } }\n\n// Buffer code below from https://github.com/feross/buffer, MIT-licensed\n\nfunction readUInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] * 0x1000000);\n}\n\nfunction writeInt32(buf, val, pos) {\n    buf[pos] = val;\n    buf[pos + 1] = (val >>> 8);\n    buf[pos + 2] = (val >>> 16);\n    buf[pos + 3] = (val >>> 24);\n}\n\nfunction readInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] << 24);\n}\n\nfunction readUtf8(buf, pos, end) {\n    var str = '';\n    var i = pos;\n\n    while (i < end) {\n        var b0 = buf[i];\n        var c = null; // codepoint\n        var bytesPerSequence =\n            b0 > 0xEF ? 4 :\n            b0 > 0xDF ? 3 :\n            b0 > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence > end) { break; }\n\n        var b1, b2, b3;\n\n        if (bytesPerSequence === 1) {\n            if (b0 < 0x80) {\n                c = b0;\n            }\n        } else if (bytesPerSequence === 2) {\n            b1 = buf[i + 1];\n            if ((b1 & 0xC0) === 0x80) {\n                c = (b0 & 0x1F) << 0x6 | (b1 & 0x3F);\n                if (c <= 0x7F) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 3) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0xC | (b1 & 0x3F) << 0x6 | (b2 & 0x3F);\n                if (c <= 0x7FF || (c >= 0xD800 && c <= 0xDFFF)) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 4) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            b3 = buf[i + 3];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0x12 | (b1 & 0x3F) << 0xC | (b2 & 0x3F) << 0x6 | (b3 & 0x3F);\n                if (c <= 0xFFFF || c >= 0x110000) {\n                    c = null;\n                }\n            }\n        }\n\n        if (c === null) {\n            c = 0xFFFD;\n            bytesPerSequence = 1;\n\n        } else if (c > 0xFFFF) {\n            c -= 0x10000;\n            str += String.fromCharCode(c >>> 10 & 0x3FF | 0xD800);\n            c = 0xDC00 | c & 0x3FF;\n        }\n\n        str += String.fromCharCode(c);\n        i += bytesPerSequence;\n    }\n\n    return str;\n}\n\nfunction readUtf8TextDecoder(buf, pos, end) {\n    return utf8TextDecoder.decode(buf.subarray(pos, end));\n}\n\nfunction writeUtf8(buf, str, pos) {\n    for (var i = 0, c, lead; i < str.length; i++) {\n        c = str.charCodeAt(i); // code point\n\n        if (c > 0xD7FF && c < 0xE000) {\n            if (lead) {\n                if (c < 0xDC00) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                    lead = c;\n                    continue;\n                } else {\n                    c = lead - 0xD800 << 10 | c - 0xDC00 | 0x10000;\n                    lead = null;\n                }\n            } else {\n                if (c > 0xDBFF || (i + 1 === str.length)) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                } else {\n                    lead = c;\n                }\n                continue;\n            }\n        } else if (lead) {\n            buf[pos++] = 0xEF;\n            buf[pos++] = 0xBF;\n            buf[pos++] = 0xBD;\n            lead = null;\n        }\n\n        if (c < 0x80) {\n            buf[pos++] = c;\n        } else {\n            if (c < 0x800) {\n                buf[pos++] = c >> 0x6 | 0xC0;\n            } else {\n                if (c < 0x10000) {\n                    buf[pos++] = c >> 0xC | 0xE0;\n                } else {\n                    buf[pos++] = c >> 0x12 | 0xF0;\n                    buf[pos++] = c >> 0xC & 0x3F | 0x80;\n                }\n                buf[pos++] = c >> 0x6 & 0x3F | 0x80;\n            }\n            buf[pos++] = c & 0x3F | 0x80;\n        }\n    }\n    return pos;\n}\n\nvar pointGeometry = Point;\n\n/**\n * A standalone point geometry with useful accessor, comparison, and\n * modification methods.\n *\n * @class Point\n * @param {Number} x the x-coordinate. this could be longitude or screen\n * pixels, or any other sort of unit.\n * @param {Number} y the y-coordinate. this could be latitude or screen\n * pixels, or any other sort of unit.\n * @example\n * var point = new Point(-77, 38);\n */\nfunction Point(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype = {\n\n    /**\n     * Clone this point, returning a new point that can be modified\n     * without affecting the old one.\n     * @return {Point} the clone\n     */\n    clone: function() { return new Point(this.x, this.y); },\n\n    /**\n     * Add this point's x & y coordinates to another point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    add:     function(p) { return this.clone()._add(p); },\n\n    /**\n     * Subtract this point's x & y coordinates to from point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    sub:     function(p) { return this.clone()._sub(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    multByPoint:    function(p) { return this.clone()._multByPoint(p); },\n\n    /**\n     * Divide this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    divByPoint:     function(p) { return this.clone()._divByPoint(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    mult:    function(k) { return this.clone()._mult(k); },\n\n    /**\n     * Divide this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    div:     function(k) { return this.clone()._div(k); },\n\n    /**\n     * Rotate this point around the 0, 0 origin by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @return {Point} output point\n     */\n    rotate:  function(a) { return this.clone()._rotate(a); },\n\n    /**\n     * Rotate this point around p point by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @param {Point} p Point to rotate around\n     * @return {Point} output point\n     */\n    rotateAround:  function(a,p) { return this.clone()._rotateAround(a,p); },\n\n    /**\n     * Multiply this point by a 4x1 transformation matrix\n     * @param {Array<Number>} m transformation matrix\n     * @return {Point} output point\n     */\n    matMult: function(m) { return this.clone()._matMult(m); },\n\n    /**\n     * Calculate this point but as a unit vector from 0, 0, meaning\n     * that the distance from the resulting point to the 0, 0\n     * coordinate will be equal to 1 and the angle from the resulting\n     * point to the 0, 0 coordinate will be the same as before.\n     * @return {Point} unit vector point\n     */\n    unit:    function() { return this.clone()._unit(); },\n\n    /**\n     * Compute a perpendicular point, where the new y coordinate\n     * is the old x coordinate and the new x coordinate is the old y\n     * coordinate multiplied by -1\n     * @return {Point} perpendicular point\n     */\n    perp:    function() { return this.clone()._perp(); },\n\n    /**\n     * Return a version of this point with the x & y coordinates\n     * rounded to integers.\n     * @return {Point} rounded point\n     */\n    round:   function() { return this.clone()._round(); },\n\n    /**\n     * Return the magitude of this point: this is the Euclidean\n     * distance from the 0, 0 coordinate to this point's x and y\n     * coordinates.\n     * @return {Number} magnitude\n     */\n    mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    /**\n     * Judge whether this point is equal to another point, returning\n     * true or false.\n     * @param {Point} other the other point\n     * @return {boolean} whether the points are equal\n     */\n    equals: function(other) {\n        return this.x === other.x &&\n               this.y === other.y;\n    },\n\n    /**\n     * Calculate the distance from this point to another point\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    dist: function(p) {\n        return Math.sqrt(this.distSqr(p));\n    },\n\n    /**\n     * Calculate the distance from this point to another point,\n     * without the square root step. Useful if you're comparing\n     * relative distances.\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    distSqr: function(p) {\n        var dx = p.x - this.x,\n            dy = p.y - this.y;\n        return dx * dx + dy * dy;\n    },\n\n    /**\n     * Get the angle from the 0, 0 coordinate to this point, in radians\n     * coordinates.\n     * @return {Number} angle\n     */\n    angle: function() {\n        return Math.atan2(this.y, this.x);\n    },\n\n    /**\n     * Get the angle from this point to another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n    },\n\n    /**\n     * Get the angle between this point and another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n    },\n\n    /*\n     * Find the angle of the two vectors, solving the formula for\n     * the cross product a x b = |a||b|sin(θ) for θ.\n     * @param {Number} x the x-coordinate\n     * @param {Number} y the y-coordinate\n     * @return {Number} the angle in radians\n     */\n    angleWithSep: function(x, y) {\n        return Math.atan2(\n            this.x * y - this.y * x,\n            this.x * x + this.y * y);\n    },\n\n    _matMult: function(m) {\n        var x = m[0] * this.x + m[1] * this.y,\n            y = m[2] * this.x + m[3] * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _add: function(p) {\n        this.x += p.x;\n        this.y += p.y;\n        return this;\n    },\n\n    _sub: function(p) {\n        this.x -= p.x;\n        this.y -= p.y;\n        return this;\n    },\n\n    _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n    },\n\n    _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n    },\n\n    _multByPoint: function(p) {\n        this.x *= p.x;\n        this.y *= p.y;\n        return this;\n    },\n\n    _divByPoint: function(p) {\n        this.x /= p.x;\n        this.y /= p.y;\n        return this;\n    },\n\n    _unit: function() {\n        this._div(this.mag());\n        return this;\n    },\n\n    _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n    },\n\n    _rotate: function(angle) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = cos * this.x - sin * this.y,\n            y = sin * this.x + cos * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _rotateAround: function(angle, p) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y),\n            y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    }\n};\n\n/**\n * Construct a point from an array if necessary, otherwise if the input\n * is already a Point, or an unknown type, return it unchanged\n * @param {Array<Number>|Point|*} a any kind of input value\n * @return {Point} constructed point, or passed-through value.\n * @example\n * // this\n * var point = Point.convert([0, 1]);\n * // is equivalent to\n * var point = new Point(0, 1);\n */\nPoint.convert = function (a) {\n    if (a instanceof Point) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        return new Point(a[0], a[1]);\n    }\n    return a;\n};\n\nvar vectortilefeature = VectorTileFeature;\n\nfunction VectorTileFeature(pbf, end, extent, keys, values) {\n    // Public\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n\n    pbf.readFields(readFeature, this, end);\n}\n\nfunction readFeature(tag, feature, pbf) {\n    if (tag == 1) { feature.id = pbf.readVarint(); }\n    else if (tag == 2) { readTag(pbf, feature); }\n    else if (tag == 3) { feature.type = pbf.readVarint(); }\n    else if (tag == 4) { feature._geometry = pbf.pos; }\n}\n\nfunction readTag(pbf, feature) {\n    var end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var key = feature._keys[pbf.readVarint()],\n            value = feature._values[pbf.readVarint()];\n        feature.properties[key] = value;\n    }\n}\n\nVectorTileFeature.types = ['Unknown', 'Point', 'LineString', 'Polygon'];\n\nVectorTileFeature.prototype.loadGeometry = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        lines = [],\n        line;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n\n            if (cmd === 1) { // moveTo\n                if (line) { lines.push(line); }\n                line = [];\n            }\n\n            line.push(new pointGeometry(x, y));\n\n        } else if (cmd === 7) {\n\n            // Workaround for https://github.com/mapbox/mapnik-vector-tile/issues/90\n            if (line) {\n                line.push(line[0].clone()); // closePolygon\n            }\n\n        } else {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    if (line) { lines.push(line); }\n\n    return lines;\n};\n\nVectorTileFeature.prototype.bbox = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        x1 = Infinity,\n        x2 = -Infinity,\n        y1 = Infinity,\n        y2 = -Infinity;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n            if (x < x1) { x1 = x; }\n            if (x > x2) { x2 = x; }\n            if (y < y1) { y1 = y; }\n            if (y > y2) { y2 = y; }\n\n        } else if (cmd !== 7) {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    return [x1, y1, x2, y2];\n};\n\nVectorTileFeature.prototype.toGeoJSON = function(x, y, z) {\n    var size = this.extent * Math.pow(2, z),\n        x0 = this.extent * x,\n        y0 = this.extent * y,\n        coords = this.loadGeometry(),\n        type = VectorTileFeature.types[this.type],\n        i, j;\n\n    function project(line) {\n        for (var j = 0; j < line.length; j++) {\n            var p = line[j], y2 = 180 - (p.y + y0) * 360 / size;\n            line[j] = [\n                (p.x + x0) * 360 / size - 180,\n                360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90\n            ];\n        }\n    }\n\n    switch (this.type) {\n    case 1:\n        var points = [];\n        for (i = 0; i < coords.length; i++) {\n            points[i] = coords[i][0];\n        }\n        coords = points;\n        project(coords);\n        break;\n\n    case 2:\n        for (i = 0; i < coords.length; i++) {\n            project(coords[i]);\n        }\n        break;\n\n    case 3:\n        coords = classifyRings(coords);\n        for (i = 0; i < coords.length; i++) {\n            for (j = 0; j < coords[i].length; j++) {\n                project(coords[i][j]);\n            }\n        }\n        break;\n    }\n\n    if (coords.length === 1) {\n        coords = coords[0];\n    } else {\n        type = 'Multi' + type;\n    }\n\n    var result = {\n        type: \"Feature\",\n        geometry: {\n            type: type,\n            coordinates: coords\n        },\n        properties: this.properties\n    };\n\n    if ('id' in this) {\n        result.id = this.id;\n    }\n\n    return result;\n};\n\n// classifies an array of rings into polygons with outer rings and holes\n\nfunction classifyRings(rings) {\n    var len = rings.length;\n\n    if (len <= 1) { return [rings]; }\n\n    var polygons = [],\n        polygon,\n        ccw;\n\n    for (var i = 0; i < len; i++) {\n        var area = signedArea(rings[i]);\n        if (area === 0) { continue; }\n\n        if (ccw === undefined) { ccw = area < 0; }\n\n        if (ccw === area < 0) {\n            if (polygon) { polygons.push(polygon); }\n            polygon = [rings[i]];\n\n        } else {\n            polygon.push(rings[i]);\n        }\n    }\n    if (polygon) { polygons.push(polygon); }\n\n    return polygons;\n}\n\nfunction signedArea(ring) {\n    var sum = 0;\n    for (var i = 0, len = ring.length, j = len - 1, p1, p2; i < len; j = i++) {\n        p1 = ring[i];\n        p2 = ring[j];\n        sum += (p2.x - p1.x) * (p1.y + p2.y);\n    }\n    return sum;\n}\n\nvar vectortilelayer = VectorTileLayer;\n\nfunction VectorTileLayer(pbf, end) {\n    // Public\n    this.version = 1;\n    this.name = null;\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    pbf.readFields(readLayer, this, end);\n\n    this.length = this._features.length;\n}\n\nfunction readLayer(tag, layer, pbf) {\n    if (tag === 15) { layer.version = pbf.readVarint(); }\n    else if (tag === 1) { layer.name = pbf.readString(); }\n    else if (tag === 5) { layer.extent = pbf.readVarint(); }\n    else if (tag === 2) { layer._features.push(pbf.pos); }\n    else if (tag === 3) { layer._keys.push(pbf.readString()); }\n    else if (tag === 4) { layer._values.push(readValueMessage(pbf)); }\n}\n\nfunction readValueMessage(pbf) {\n    var value = null,\n        end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var tag = pbf.readVarint() >> 3;\n\n        value = tag === 1 ? pbf.readString() :\n            tag === 2 ? pbf.readFloat() :\n            tag === 3 ? pbf.readDouble() :\n            tag === 4 ? pbf.readVarint64() :\n            tag === 5 ? pbf.readVarint() :\n            tag === 6 ? pbf.readSVarint() :\n            tag === 7 ? pbf.readBoolean() : null;\n    }\n\n    return value;\n}\n\n// return feature `i` from this layer as a `VectorTileFeature`\nVectorTileLayer.prototype.feature = function(i) {\n    if (i < 0 || i >= this._features.length) { throw new Error('feature index out of bounds'); }\n\n    this._pbf.pos = this._features[i];\n\n    var end = this._pbf.readVarint() + this._pbf.pos;\n    return new vectortilefeature(this._pbf, end, this.extent, this._keys, this._values);\n};\n\nvar vectortile = VectorTile;\n\nfunction VectorTile(pbf, end) {\n    this.layers = pbf.readFields(readTile, {}, end);\n}\n\nfunction readTile(tag, layers, pbf) {\n    if (tag === 3) {\n        var layer = new vectortilelayer(pbf, pbf.readVarint() + pbf.pos);\n        if (layer.length) { layers[layer.name] = layer; }\n    }\n}\n\nvar VectorTile$1 = vectortile;\n\nfunction mvt(data, cfg) {\n  var tile = new VectorTile$1(new pbf(data));\n  var layerName = cfg.sourceLayer;\n  var features = [];\n  var vectorLayer = tile.layers[layerName];\n  if (vectorLayer === undefined) {\n    return null;\n  }\n  for (var i = 0; i < vectorLayer.length; i++) {\n    var feature = vectorLayer.feature(i);\n    var geofeature = feature.toGeoJSON(cfg.tile[0], cfg.tile[1], cfg.tile[2]);\n    features.push(geofeature);\n  }\n  var geodata = {\n    type: 'FeatureCollection',\n    features: features\n  };\n  return features.length === 0 ? null : geoJSON(geodata, cfg);\n}\n\nvar Extent = 4096;\nfunction vector(data, cfg) {\n  var tile = cfg.tile;\n  var resultdata = [];\n  var featureKeys = new Int32Array(data.length);\n  var x0 = Extent * tile[0];\n  var y0 = Extent * tile[1];\n  function covertP20(points) {\n    return points.map(function (point) {\n      var x1 = (x0 + point.x << 20 - tile[2] - 4) - 215440491;\n      var y2 = (y0 + point.y << 20 - tile[2] - 4) - 106744817;\n      return [ x1, -y2, 0 ];\n    });\n  }\n  for (var i = 0; i < data.length; i++) {\n    var feature = data.feature(i);\n    var coords = feature.loadGeometry();\n    var properties = feature.properties;\n    var id = i + 1;\n    if (feature.id || (cfg.idField && properties[cfg.idField])) {\n      var value = feature.id || properties[cfg.idField];\n      id = djb2hash(value) % 1000019;\n      featureKeys[i] = id;\n    }\n    var geocoords = classifyRings$1(coords);\n    for (var j = 0; j < geocoords.length; j++) {\n      var geo = geocoords[j].map(function (coord) {\n        return covertP20(coord);\n      });\n      resultdata.push(Object.assign({}, properties,\n        {_id: id,\n        coordinates: geo}));\n    }\n\n  }\n  return {\n    dataArray: resultdata,\n    featureKeys: featureKeys\n  };\n\n\n}\nfunction signedArea$1(ring) {\n  var sum = 0;\n  for (var i = 0, len = ring.length, j = len - 1, p1 = (void 0), p2 = (void 0); i < len; j = i++) {\n    p1 = ring[i];\n    p2 = ring[j];\n    sum += (p2.x - p1.x) * (p1.y + p2.y);\n  }\n  return sum;\n}\nfunction classifyRings$1(rings) {\n  var len = rings.length;\n  if (len <= 1) { return [ rings ]; }\n  var polygons = [];\n  var polygon;\n  var ccw;\n\n  for (var i = 0; i < len; i++) {\n    var area = signedArea$1(rings[i]);\n    if (area === 0) { continue; }\n\n    if (ccw === undefined) { ccw = area < 0; }\n\n    if (ccw === area < 0) {\n      if (polygon) { polygons.push(polygon); }\n      polygon = [ rings[i] ];\n\n    } else {\n      polygon.push(rings[i]);\n    }\n  }\n  if (polygon) { polygons.push(polygon); }\n\n  return polygons;\n}\n\nvar TRANSFORMS = {};\nvar PARSERS = {};\nvar getParser = function (type) { return PARSERS[type]; };\nvar registerParser = function (type, parserFunction) {\n  PARSERS[type] = parserFunction;\n};\nvar getTransform = function (type) { return TRANSFORMS[type]; };\nvar registerTransform = function (type, transFunction) {\n  TRANSFORMS[type] = transFunction;\n};\n\nfunction max(x) {\n  if (x.length === 0) {\n    throw new Error('max requires at least one data point');\n  }\n\n  var value = x[0];\n  for (var i = 1; i < x.length; i++) {\n    // On the first iteration of this loop, max is\n    // undefined and is thus made the maximum element in the array\n    if (x[i] > value) {\n      value = x[i];\n    }\n  }\n  return value;\n}\n\nfunction min(x) {\n  if (x.length === 0) {\n    throw new Error('min requires at least one data point');\n  }\n\n  var value = x[0];\n  for (var i = 1; i < x.length; i++) {\n    // On the first iteration of this loop, min is\n    // undefined and is thus made the minimum element in the array\n    if (x[i] < value) {\n      value = x[i];\n    }\n  }\n  return value;\n}\n\nfunction sum(x) {\n  // If the array is empty, we needn't bother computing its sum\n  if (x.length === 0) {\n    return 0;\n  }\n\n  // Initializing the sum as the first number in the array\n  var sum = x[0];\n\n  // Keeping track of the floating-point error correction\n  var correction = 0;\n\n  var transition;\n\n  for (var i = 1; i < x.length; i++) {\n    transition = sum + x[i];\n\n    // Here we need to update the correction in a different fashion\n    // if the new absolute value is greater than the absolute sum\n    if (Math.abs(sum) >= Math.abs(x[i])) {\n      correction += sum - transition + x[i];\n    } else {\n      correction += x[i] - transition + sum;\n    }\n\n    sum = transition;\n  }\n\n  // Returning the corrected sum\n  return sum + correction;\n}\nfunction mean(x) {\n  if (x.length === 0) {\n    throw new Error('mean requires at least one data point');\n  }\n  return sum(x) / x.length;\n}\n\nvar statistics = /*#__PURE__*/Object.freeze({\n__proto__: null,\nsum: sum,\nmax: max,\nmin: min,\nmean: mean\n});\n\n/**\n * 生成四边形热力图\n */\n\nvar R_EARTH = 6378000;\n\nfunction aggregatorToGrid(data, option) {\n  var dataArray = data.dataArray;\n  var size = option.size; if ( size === void 0 ) size = 10;\n  var ref = _pointsGridHash(dataArray, size);\n  var gridHash = ref.gridHash;\n  var gridOffset = ref.gridOffset;\n  var layerData = _getGridLayerDataFromGridHash(gridHash, gridOffset, option);\n  return {\n    yOffset: gridOffset.xOffset / 360 * (256 << 20) / 2,\n    xOffset: gridOffset.xOffset / 360 * (256 << 20) / 2,\n    radius: gridOffset.xOffset / 360 * (256 << 20) / 2,\n    dataArray: layerData\n  };\n}\n\nfunction _pointsGridHash(dataArray, size) {\n  var pLat;\n  for (var index = 0; index < dataArray.length; index++) {\n    var point = dataArray[index];\n    pLat = point.coordinates[1];\n\n  }\n  // const centerLat = (latMin + latMax) / 2;\n  var centerLat = 34.54083;\n  var gridOffset = _calculateGridLatLonOffset(size, centerLat);\n  if (gridOffset.xOffset <= 0 || gridOffset.yOffset <= 0) {\n    return { gridHash: {}, gridOffset: gridOffset };\n  }\n  var gridHash = {};\n  for (var index$1 = 0; index$1 < dataArray.length; index$1++) {\n    var point$1 = dataArray[index$1];\n    var lat = point$1.coordinates[1];\n    var lng = point$1.coordinates[0];\n\n    if (Number.isFinite(lat) && Number.isFinite(lng)) {\n      var latIdx = Math.floor((lat + 90) / gridOffset.yOffset);\n      var lonIdx = Math.floor((lng + 180) / gridOffset.xOffset);\n      var key = latIdx + \"-\" + lonIdx;\n\n      gridHash[key] = gridHash[key] || { count: 0, points: [] };\n      gridHash[key].count += 1;\n      gridHash[key].points.push(point$1);\n    }\n  }\n\n  return { gridHash: gridHash, gridOffset: gridOffset };\n}\n// 计算网格偏移量\nfunction _calculateGridLatLonOffset(cellSize, latitude) {\n  var yOffset = _calculateLatOffset(cellSize);\n  var xOffset = _calculateLonOffset(latitude, cellSize);\n  return { yOffset: yOffset, xOffset: xOffset };\n}\n\nfunction _calculateLatOffset(dy) {\n  return (dy / R_EARTH) * (180 / Math.PI);\n}\n\nfunction _calculateLonOffset(lat, dx) {\n  return ((dx / R_EARTH) * (180 / Math.PI)) / Math.cos((lat * Math.PI) / 180);\n}\nfunction _getGridLayerDataFromGridHash(gridHash, gridOffset, option) {\n  return Object.keys(gridHash).reduce(function (accu, key, i) {\n    var idxs = key.split('-');\n    var latIdx = parseInt(idxs[0], 10);\n    var lonIdx = parseInt(idxs[1], 10);\n    var item = {};\n    if (option.field && option.method) {\n      var columns = getColumn(gridHash[key].points, option.field);\n      item[option.method] = statistics[option.method](columns);\n    }\n    Object.assign(item, {\n      _id: i + 1,\n      coordinates: [ -180 + gridOffset.xOffset * lonIdx, -90 + gridOffset.yOffset * latIdx ],\n      count: gridHash[key].count\n    });\n    accu.push(item);\n    return accu;\n  }, []);\n}\nfunction getColumn(data, columnName) {\n  return data.map(function (item) {\n    return item[columnName];\n  });\n}\n\nvar thirdPi = Math.PI / 3,\n    angles = [0, thirdPi, 2 * thirdPi, 3 * thirdPi, 4 * thirdPi, 5 * thirdPi];\n\nfunction pointX(d) {\n  return d[0];\n}\n\nfunction pointY(d) {\n  return d[1];\n}\n\nfunction hexbin() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1,\n      x = pointX,\n      y = pointY,\n      r,\n      dx,\n      dy;\n\n  function hexbin(points) {\n    var binsById = {}, bins = [], i, n = points.length;\n\n    for (i = 0; i < n; ++i) {\n      if (isNaN(px = +x.call(null, point = points[i], i, points))\n          || isNaN(py = +y.call(null, point, i, points))) { continue; }\n\n      var point,\n          px,\n          py,\n          pj = Math.round(py = py / dy),\n          pi = Math.round(px = px / dx - (pj & 1) / 2),\n          py1 = py - pj;\n\n      if (Math.abs(py1) * 3 > 1) {\n        var px1 = px - pi,\n            pi2 = pi + (px < pi ? -1 : 1) / 2,\n            pj2 = pj + (py < pj ? -1 : 1),\n            px2 = px - pi2,\n            py2 = py - pj2;\n        if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) { pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2; }\n      }\n\n      var id = pi + \"-\" + pj, bin = binsById[id];\n      if (bin) { bin.push(point); }\n      else {\n        bins.push(bin = binsById[id] = [point]);\n        bin.x = (pi + (pj & 1) / 2) * dx;\n        bin.y = pj * dy;\n      }\n    }\n\n    return bins;\n  }\n\n  function hexagon(radius) {\n    var x0 = 0, y0 = 0;\n    return angles.map(function(angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  hexbin.hexagon = function(radius) {\n    return \"m\" + hexagon(radius == null ? r : +radius).join(\"l\") + \"z\";\n  };\n\n  hexbin.centers = function() {\n    var centers = [],\n        j = Math.round(y0 / dy),\n        i = Math.round(x0 / dx);\n    for (var y = j * dy; y < y1 + r; y += dy, ++j) {\n      for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\n        centers.push([x, y]);\n      }\n    }\n    return centers;\n  };\n\n  hexbin.mesh = function() {\n    var fragment = hexagon(r).slice(0, 4).join(\"l\");\n    return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\n  };\n\n  hexbin.x = function(_) {\n    return arguments.length ? (x = _, hexbin) : x;\n  };\n\n  hexbin.y = function(_) {\n    return arguments.length ? (y = _, hexbin) : y;\n  };\n\n  hexbin.radius = function(_) {\n    return arguments.length ? (r = +_, dx = r * 2 * Math.sin(thirdPi), dy = r * 1.5, hexbin) : r;\n  };\n\n  hexbin.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], hexbin) : [x1 - x0, y1 - y0];\n  };\n\n  hexbin.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], hexbin) : [[x0, y0], [x1, y1]];\n  };\n\n  return hexbin.radius(1);\n}\n\nfunction aProjectFlat(lnglat) {\n  var maxs = 85.0511287798;\n  var lat = Math.max(Math.min(maxs, lnglat[1]), -maxs);\n  var scale = 256 << 20;\n  var d = Math.PI / 180;\n  var x = lnglat[0] * d;\n  var y = lat * d;\n  y = Math.log(Math.tan((Math.PI / 4) + (y / 2)));\n\n  var a = 0.5 / Math.PI,\n    b = 0.5,\n    c = -0.5 / Math.PI;\n  d = 0.5;\n  x = scale * (a * x + b) - 215440491;\n  y = scale * (c * y + d) - 106744817;\n  return { x: parseInt(x), y: parseInt(y) };\n}\nfunction unProjectFlat(px) {\n  var a = 0.5 / Math.PI,\n    b = 0.5,\n    c = -0.5 / Math.PI;\n  var d = 0.5;\n  var scale = 256 << 20;\n  var x = px[0];\n  var y = px[1];\n  x = ((x + 215440491) / scale - b) / a;\n  y = ((y + 106744817) / scale - d) / c;\n  y = (Math.atan(Math.pow(Math.E, y)) - (Math.PI / 4)) * 2;\n  d = Math.PI / 180;\n  var lat = y / d;\n  var lng = x / d;\n  return [ lng, lat ];\n}\n\nvar R_EARTH$1 = 6378000;\nfunction pointToHexbin(data, option) {\n  var dataArray = data.dataArray;\n  var size = option.size; if ( size === void 0 ) size = 10;\n  var pixlSize = size / (2 * Math.PI * R_EARTH$1) * (256 << 20) / 2;\n  var screenPoints = dataArray.map(function (point) {\n    var ref = aProjectFlat(point.coordinates);\n    var x = ref.x;\n    var y = ref.y;\n    return Object.assign({}, point,\n      {coordinates: [ x, y ]});\n  });\n\n  var newHexbin = hexbin()\n    .radius(pixlSize)\n    .x(function (d) { return d.coordinates[0]; })\n    .y(function (d) { return d.coordinates[1]; });\n  var hexbinBins = newHexbin(screenPoints);\n  var result = {\n    radius: pixlSize\n  };\n  result.dataArray = hexbinBins.map(function (hex, index) {\n    if (option.field && option.method) {\n      var columns = getColumn$1(hex, option.field);\n      hex[option.method] = statistics[option.method](columns);\n    }\n    var item = {};\n    item[option.method] = hex[option.method];\n    return Object.assign({}, item,\n      {count: hex.length,\n      coordinates: unProjectFlat([ hex.x, hex.y ]),\n      _id: index + 1});\n  });\n  return result;\n}\nfunction getColumn$1(data, columnName) {\n  return data.map(function (item) {\n    return item[columnName];\n  });\n}\n\nfunction map(data, options) {\n  var callback = options.callback;\n  if (callback) {\n    data.dataArray = data.dataArray.map(callback);\n  }\n  return data;\n}\n\n// source parser\n\nregisterParser('geojson', geoJSON);\nregisterParser('image', image);\nregisterParser('csv', csv$1);\nregisterParser('json', json);\nregisterParser('raster', raster);\nregisterParser('mvt', mvt);\nregisterParser('vector', vector);\n// 注册transform\n\nregisterTransform('grid', aggregatorToGrid);\nregisterTransform('hexagon', pointToHexbin);\nregisterTransform('map', map);\n\nvar supercluster = createCommonjsModule(function (module, exports) {\n(function (global, factory) {\n module.exports = factory() ;\n}(this, function () {\nfunction sortKD(ids, coords, nodeSize, left, right, depth) {\n    if (right - left <= nodeSize) { return; }\n\n    var m = (left + right) >> 1;\n\n    select(ids, coords, m, left, right, depth % 2);\n\n    sortKD(ids, coords, nodeSize, left, m - 1, depth + 1);\n    sortKD(ids, coords, nodeSize, m + 1, right, depth + 1);\n}\n\nfunction select(ids, coords, k, left, right, inc) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, inc);\n        }\n\n        var t = coords[2 * k + inc];\n        var i = left;\n        var j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + inc] > t) { swapItem(ids, coords, left, right); }\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + inc] < t) { i++; }\n            while (coords[2 * j + inc] > t) { j--; }\n        }\n\n        if (coords[2 * left + inc] === t) { swapItem(ids, coords, left, j); }\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) { left = j + 1; }\n        if (k <= j) { right = j - 1; }\n    }\n}\n\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\n    var stack = [0, ids.length - 1, 0];\n    var result = [];\n    var x, y;\n\n    while (stack.length) {\n        var axis = stack.pop();\n        var right = stack.pop();\n        var left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (var i = left; i <= right; i++) {\n                x = coords[2 * i];\n                y = coords[2 * i + 1];\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) { result.push(ids[i]); }\n            }\n            continue;\n        }\n\n        var m = Math.floor((left + right) / 2);\n\n        x = coords[2 * m];\n        y = coords[2 * m + 1];\n\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) { result.push(ids[m]); }\n\n        var nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? minX <= x : minY <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? maxX >= x : maxY >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction within(ids, coords, qx, qy, r, nodeSize) {\n    var stack = [0, ids.length - 1, 0];\n    var result = [];\n    var r2 = r * r;\n\n    while (stack.length) {\n        var axis = stack.pop();\n        var right = stack.pop();\n        var left = stack.pop();\n\n        if (right - left <= nodeSize) {\n            for (var i = left; i <= right; i++) {\n                if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) { result.push(ids[i]); }\n            }\n            continue;\n        }\n\n        var m = Math.floor((left + right) / 2);\n\n        var x = coords[2 * m];\n        var y = coords[2 * m + 1];\n\n        if (sqDist(x, y, qx, qy) <= r2) { result.push(ids[m]); }\n\n        var nextAxis = (axis + 1) % 2;\n\n        if (axis === 0 ? qx - r <= x : qy - r <= y) {\n            stack.push(left);\n            stack.push(m - 1);\n            stack.push(nextAxis);\n        }\n        if (axis === 0 ? qx + r >= x : qy + r >= y) {\n            stack.push(m + 1);\n            stack.push(right);\n            stack.push(nextAxis);\n        }\n    }\n\n    return result;\n}\n\nfunction sqDist(ax, ay, bx, by) {\n    var dx = ax - bx;\n    var dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nvar defaultGetX = function (p) { return p[0]; };\nvar defaultGetY = function (p) { return p[1]; };\n\nvar KDBush = function KDBush(points, getX, getY, nodeSize, ArrayType) {\n    if ( getX === void 0 ) { getX = defaultGetX; }\n    if ( getY === void 0 ) { getY = defaultGetY; }\n    if ( nodeSize === void 0 ) { nodeSize = 64; }\n    if ( ArrayType === void 0 ) { ArrayType = Float64Array; }\n\n    this.nodeSize = nodeSize;\n    this.points = points;\n\n    var IndexArrayType = points.length < 65536 ? Uint16Array : Uint32Array;\n\n    var ids = this.ids = new IndexArrayType(points.length);\n    var coords = this.coords = new ArrayType(points.length * 2);\n\n    for (var i = 0; i < points.length; i++) {\n        ids[i] = i;\n        coords[2 * i] = getX(points[i]);\n        coords[2 * i + 1] = getY(points[i]);\n    }\n\n    sortKD(ids, coords, nodeSize, 0, ids.length - 1, 0);\n};\n\nKDBush.prototype.range = function range$1 (minX, minY, maxX, maxY) {\n    return range(this.ids, this.coords, minX, minY, maxX, maxY, this.nodeSize);\n};\n\nKDBush.prototype.within = function within$1 (x, y, r) {\n    return within(this.ids, this.coords, x, y, r, this.nodeSize);\n};\n\nvar defaultOptions = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: function (props) { return props; } // props => ({sum: props.my_value})\n};\n\nvar Supercluster = function Supercluster(options) {\n    this.options = extend(Object.create(defaultOptions), options);\n    this.trees = new Array(this.options.maxZoom + 1);\n};\n\nSupercluster.prototype.load = function load (points) {\n    var ref = this.options;\n        var log = ref.log;\n        var minZoom = ref.minZoom;\n        var maxZoom = ref.maxZoom;\n        var nodeSize = ref.nodeSize;\n\n    if (log) { console.time('total time'); }\n\n    var timerId = \"prepare \" + (points.length) + \" points\";\n    if (log) { console.time(timerId); }\n\n    this.points = points;\n\n    // generate a cluster object for each point and index input points into a KD-tree\n    var clusters = [];\n    for (var i = 0; i < points.length; i++) {\n        if (!points[i].geometry) { continue; }\n        clusters.push(createPointCluster(points[i], i));\n    }\n    this.trees[maxZoom + 1] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n    if (log) { console.timeEnd(timerId); }\n\n    // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n    // results in a cluster hierarchy across zoom levels\n    for (var z = maxZoom; z >= minZoom; z--) {\n        var now = +Date.now();\n\n        // create a new set of clusters for the zoom and index them with a KD-tree\n        clusters = this._cluster(clusters, z);\n        this.trees[z] = new KDBush(clusters, getX, getY, nodeSize, Float32Array);\n\n        if (log) { console.log('z%d: %d clusters in %dms', z, clusters.length, +Date.now() - now); }\n    }\n\n    if (log) { console.timeEnd('total time'); }\n\n    return this;\n};\n\nSupercluster.prototype.getClusters = function getClusters (bbox, zoom) {\n    var minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n    var minLat = Math.max(-90, Math.min(90, bbox[1]));\n    var maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n    var maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n    if (bbox[2] - bbox[0] >= 360) {\n        minLng = -180;\n        maxLng = 180;\n    } else if (minLng > maxLng) {\n        var easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n        var westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n        return easternHem.concat(westernHem);\n    }\n\n    var tree = this.trees[this._limitZoom(zoom)];\n    var ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n    var clusters = [];\n    for (var i = 0, list = ids; i < list.length; i += 1) {\n        var id = list[i];\n\n            var c = tree.points[id];\n        clusters.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n    }\n    return clusters;\n};\n\nSupercluster.prototype.getChildren = function getChildren (clusterId) {\n    var originId = clusterId >> 5;\n    var originZoom = clusterId % 32;\n    var errorMsg = 'No cluster with the specified id.';\n\n    var index = this.trees[originZoom];\n    if (!index) { throw new Error(errorMsg); }\n\n    var origin = index.points[originId];\n    if (!origin) { throw new Error(errorMsg); }\n\n    var r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n    var ids = index.within(origin.x, origin.y, r);\n    var children = [];\n    for (var i = 0, list = ids; i < list.length; i += 1) {\n        var id = list[i];\n\n            var c = index.points[id];\n        if (c.parentId === clusterId) {\n            children.push(c.numPoints ? getClusterJSON(c) : this.points[c.index]);\n        }\n    }\n\n    if (children.length === 0) { throw new Error(errorMsg); }\n\n    return children;\n};\n\nSupercluster.prototype.getLeaves = function getLeaves (clusterId, limit, offset) {\n    limit = limit || 10;\n    offset = offset || 0;\n\n    var leaves = [];\n    this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n    return leaves;\n};\n\nSupercluster.prototype.getTile = function getTile (z, x, y) {\n    var tree = this.trees[this._limitZoom(z)];\n    var z2 = Math.pow(2, z);\n    var ref = this.options;\n        var extent = ref.extent;\n        var radius = ref.radius;\n    var p = radius / extent;\n    var top = (y - p) / z2;\n    var bottom = (y + 1 + p) / z2;\n\n    var tile = {\n        features: []\n    };\n\n    this._addTileFeatures(\n        tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n        tree.points, x, y, z2, tile);\n\n    if (x === 0) {\n        this._addTileFeatures(\n            tree.range(1 - p / z2, top, 1, bottom),\n            tree.points, z2, y, z2, tile);\n    }\n    if (x === z2 - 1) {\n        this._addTileFeatures(\n            tree.range(0, top, p / z2, bottom),\n            tree.points, -1, y, z2, tile);\n    }\n\n    return tile.features.length ? tile : null;\n};\n\nSupercluster.prototype.getClusterExpansionZoom = function getClusterExpansionZoom (clusterId) {\n    var clusterZoom = (clusterId % 32) - 1;\n    while (clusterZoom <= this.options.maxZoom) {\n        var children = this.getChildren(clusterId);\n        clusterZoom++;\n        if (children.length !== 1) { break; }\n        clusterId = children[0].properties.cluster_id;\n    }\n    return clusterZoom;\n};\n\nSupercluster.prototype._appendLeaves = function _appendLeaves (result, clusterId, limit, offset, skipped) {\n    var children = this.getChildren(clusterId);\n\n    for (var i = 0, list = children; i < list.length; i += 1) {\n        var child = list[i];\n\n            var props = child.properties;\n\n        if (props && props.cluster) {\n            if (skipped + props.point_count <= offset) {\n                // skip the whole cluster\n                skipped += props.point_count;\n            } else {\n                // enter the cluster\n                skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                // exit the cluster\n            }\n        } else if (skipped < offset) {\n            // skip a single point\n            skipped++;\n        } else {\n            // add a single point\n            result.push(child);\n        }\n        if (result.length === limit) { break; }\n    }\n\n    return skipped;\n};\n\nSupercluster.prototype._addTileFeatures = function _addTileFeatures (ids, points, x, y, z2, tile) {\n    for (var i$1 = 0, list = ids; i$1 < list.length; i$1 += 1) {\n        var i = list[i$1];\n\n            var c = points[i];\n        var f = {\n            type: 1,\n            geometry: [[\n                Math.round(this.options.extent * (c.x * z2 - x)),\n                Math.round(this.options.extent * (c.y * z2 - y))\n            ]],\n            tags: c.numPoints ? getClusterProperties(c) : this.points[c.index].properties\n        };\n        var id = c.numPoints ? c.id : this.points[c.index].id;\n        if (id !== undefined) {\n            f.id = id;\n        }\n        tile.features.push(f);\n    }\n};\n\nSupercluster.prototype._limitZoom = function _limitZoom (z) {\n    return Math.max(this.options.minZoom, Math.min(z, this.options.maxZoom + 1));\n};\n\nSupercluster.prototype._cluster = function _cluster (points, zoom) {\n    var clusters = [];\n    var ref = this.options;\n        var radius = ref.radius;\n        var extent = ref.extent;\n        var reduce = ref.reduce;\n    var r = radius / (extent * Math.pow(2, zoom));\n\n    // loop through each point\n    for (var i = 0; i < points.length; i++) {\n        var p = points[i];\n        // if we've already visited the point at this zoom level, skip it\n        if (p.zoom <= zoom) { continue; }\n        p.zoom = zoom;\n\n        // find all nearby points\n        var tree = this.trees[zoom + 1];\n        var neighborIds = tree.within(p.x, p.y, r);\n\n        var numPoints = p.numPoints || 1;\n        var wx = p.x * numPoints;\n        var wy = p.y * numPoints;\n\n        var clusterProperties = reduce && numPoints > 1 ? this._map(p, true) : null;\n\n        // encode both zoom and point index on which the cluster originated\n        var id = (i << 5) + (zoom + 1);\n\n        for (var i$1 = 0, list = neighborIds; i$1 < list.length; i$1 += 1) {\n            var neighborId = list[i$1];\n\n                var b = tree.points[neighborId];\n            // filter out neighbors that are already processed\n            if (b.zoom <= zoom) { continue; }\n            b.zoom = zoom; // save the zoom (so it doesn't get processed twice)\n\n            var numPoints2 = b.numPoints || 1;\n            wx += b.x * numPoints2; // accumulate coordinates for calculating weighted center\n            wy += b.y * numPoints2;\n\n            numPoints += numPoints2;\n            b.parentId = id;\n\n            if (reduce) {\n                if (!clusterProperties) { clusterProperties = this._map(p, true); }\n                reduce(clusterProperties, this._map(b));\n            }\n        }\n\n        if (numPoints === 1) {\n            clusters.push(p);\n        } else {\n            p.parentId = id;\n            clusters.push(createCluster(wx / numPoints, wy / numPoints, id, numPoints, clusterProperties));\n        }\n    }\n\n    return clusters;\n};\n\nSupercluster.prototype._map = function _map (point, clone) {\n    if (point.numPoints) {\n        return clone ? extend({}, point.properties) : point.properties;\n    }\n    var original = this.points[point.index].properties;\n    var result = this.options.map(original);\n    return clone && result === original ? extend({}, result) : result;\n};\n\nfunction createCluster(x, y, id, numPoints, properties) {\n    return {\n        x: x, // weighted cluster center\n        y: y,\n        zoom: Infinity, // the last zoom the cluster was processed at\n        id: id, // encodes index of the first child of the cluster and its zoom level\n        parentId: -1, // parent cluster id\n        numPoints: numPoints,\n        properties: properties\n    };\n}\n\nfunction createPointCluster(p, id) {\n    var ref = p.geometry.coordinates;\n    var x = ref[0];\n    var y = ref[1];\n    return {\n        x: lngX(x), // projected point coordinates\n        y: latY(y),\n        zoom: Infinity, // the last zoom the point was processed at\n        index: id, // index of the source feature in the original input array,\n        parentId: -1 // parent cluster id\n    };\n}\n\nfunction getClusterJSON(cluster) {\n    return {\n        type: 'Feature',\n        id: cluster.id,\n        properties: getClusterProperties(cluster),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(cluster.x), yLat(cluster.y)]\n        }\n    };\n}\n\nfunction getClusterProperties(cluster) {\n    var count = cluster.numPoints;\n    var abbrev =\n        count >= 10000 ? ((Math.round(count / 1000)) + \"k\") :\n        count >= 1000 ? ((Math.round(count / 100) / 10) + \"k\") : count;\n    return extend(extend({}, cluster.properties), {\n        cluster: true,\n        cluster_id: cluster.id,\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    var sin = Math.sin(lat * Math.PI / 180);\n    var y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    var y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n\nfunction extend(dest, src) {\n    for (var id in src) { dest[id] = src[id]; }\n    return dest;\n}\n\nfunction getX(p) {\n    return p.x;\n}\nfunction getY(p) {\n    return p.y;\n}\n\nreturn Supercluster;\n\n}));\n});\n\nfunction cluster(data, option) {\n  var radius = option.radius; if ( radius === void 0 ) radius = 80;\n  var maxZoom = option.maxZoom; if ( maxZoom === void 0 ) maxZoom = 18;\n  var minZoom = option.minZoom; if ( minZoom === void 0 ) minZoom = 0;\n  var field = option.field;\n  var zoom = option.zoom; if ( zoom === void 0 ) zoom = 2;\n  if (data.pointIndex) {\n    var clusterPoint$1 = data.pointIndex.getClusters(data.extent, zoom);\n    data.dataArray = formatData(clusterPoint$1);\n    return data;\n  }\n  var pointIndex = new supercluster({\n    radius: radius,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    map: function (props) { return ({ sum: props[field] }); },\n    reduce: function (accumulated, props) { accumulated.sum += props.sum; }\n  });\n  var geojson = {\n    type: 'FeatureCollection'\n  };\n  geojson.features = data.dataArray.map(function (item) {\n    var obj;\n\n    return {\n      type: 'Feature',\n      properties: ( obj = {}, obj[field] = item[field], obj ),\n      geometry: {\n        type: 'Point',\n        coordinates: item.coordinates\n      }\n    };\n  });\n  pointIndex.load(geojson.features);\n  var clusterPoint = pointIndex.getClusters(data.extent, zoom);\n  var resultData = clusterPoint.map(function (point, index) {\n    return Object.assign({}, {coordinates: point.geometry.coordinates,\n      _id: index + 1},\n      point.properties);\n  });\n  data.dataArray = resultData;\n  return { data: data, pointIndex: pointIndex };\n}\nfunction formatData(clusterPoint) {\n  return clusterPoint.map(function (point, index) {\n    return Object.assign({}, {coordinates: point.geometry.coordinates,\n      _id: index + 1},\n      point.properties);\n  });\n}\n\n/**\n * 计算地理数据范围\n * @param {dataArray} data 地理坐标数据\n * @return {Array} extent\n */\nfunction extent(data) {\n  var extent = [ Infinity, Infinity, -Infinity, -Infinity ];\n  data.forEach(function (item) {\n    var coordinates = item.coordinates;\n    calcExtent(extent, coordinates);\n  });\n  return extent;\n}\nfunction calcExtent(extent, coords) {\n  if (Array.isArray(coords[0])) {\n    coords.forEach(function (coord) {\n      calcExtent(extent, coord);\n    });\n  } else {\n    if (extent[0] > coords[0]) { extent[0] = coords[0]; }\n    if (extent[1] > coords[1]) { extent[1] = coords[1]; }\n    if (extent[2] < coords[0]) { extent[2] = coords[0]; }\n    if (extent[3] < coords[1]) { extent[3] = coords[1]; }\n  }\n  return extent;\n}\n\nfunction tranfrormCoord(data, cb) {\n  return transform(data, cb);\n}\nfunction transform(item, cb) {\n  if (Array.isArray(item[0])) {\n    return item.map(function (coord) {\n      return transform(coord, cb);\n    });\n  }\n  return cb(item);\n\n}\n\nvar WORLD_SIZE = 512;\nvar MERCATOR_A = 6378137.0;\nvar WORLD_SCALE = 1 / 100;\nvar PROJECTION_WORLD_SIZE = WORLD_SIZE / (MERCATOR_A * Math.PI) / 2;\nvar MapBox = /*@__PURE__*/(function (Base) {\n  function MapBox(cfg) {\n    var this$1 = this;\n\n    Base.call(this, cfg);\n    this.container = this.get('container');\n    this.initMap();\n    this.addOverLayer();\n    setTimeout(function () {\n      this$1.emit('mapLoad');\n    }, 10);\n\n  }\n\n  if ( Base ) MapBox.__proto__ = Base;\n  MapBox.prototype = Object.create( Base && Base.prototype );\n  MapBox.prototype.constructor = MapBox;\n\n  MapBox.prototype.getDefaultCfg = function getDefaultCfg () {\n    return Util.assign(Global.scene, {\n      resizeEnable: true,\n      viewMode: '3D'\n    });\n  };\n  MapBox.project = function project (lnglat) {\n    var d = Math.PI / 180;\n    var x = -MERCATOR_A * lnglat[0] * d * PROJECTION_WORLD_SIZE;\n    var y = -MERCATOR_A * Math.log(Math.tan((Math.PI * 0.25) + (0.5 * lnglat[1] * d))) * PROJECTION_WORLD_SIZE;\n    return { x: x, y: y };\n  };\n\n  MapBox.prototype.initMap = function initMap () {\n    mapboxgl.accessToken = 'pk.eyJ1IjoibHp4dWUiLCJhIjoiYnhfTURyRSJ9.Ugm314vAKPHBzcPmY1p4KQ';\n    this.map = new mapboxgl.Map(this._attrs);\n  };\n  MapBox.prototype.asyncCamera = function asyncCamera (engine) {\n    var this$1 = this;\n\n    this.engine = engine;\n    var camera = engine._camera;\n    var scene = engine.world;\n    var pickScene = engine._picking.world;\n    camera.matrixAutoUpdate = false;\n    scene.position.x = scene.position.y = WORLD_SIZE / 2;\n    scene.matrixAutoUpdate = false;\n    pickScene.position.x = pickScene.position.y = WORLD_SIZE / 2;\n    pickScene.matrixAutoUpdate = false;\n    this.updateCamera();\n    this.map.on('move', function () {\n      this$1.updateCamera();\n    });\n  };\n  MapBox.prototype.updateCamera = function updateCamera () {\n    var engine = this.engine;\n    var scene = engine.world;\n    var pickScene = engine._picking.world;\n    var camera = engine._camera;\n    // Build a projection matrix, paralleling the code found in Mapbox GL JS\n    var fov = 0.6435011087932844;\n    var cameraToCenterDistance = 0.5 / Math.tan(fov / 2) * this.map.transform.height * WORLD_SCALE;\n    var halfFov = fov / 2;\n    var groundAngle = Math.PI / 2 + this.map.transform._pitch;\n    var topHalfSurfaceDistance = Math.sin(halfFov) * cameraToCenterDistance / Math.sin(Math.PI - groundAngle - halfFov);\n\n    // Calculate z distance of the farthest fragment that should be rendered.\n    var furthestDistance = Math.cos(Math.PI / 2 - this.map.transform._pitch) * topHalfSurfaceDistance + cameraToCenterDistance;\n\n    // Add a bit extra to avoid precision problems when a fragment's distance is exactly `furthestDistance`\n    var farZ = furthestDistance * 1.1;\n    if (this.pitch > 50) {\n      farZ = 1000;\n    }\n    var ref = this.map.transform.point;\n    var x = ref.x;\n    var y = ref.y;\n    camera.projectionMatrix = this.makePerspectiveMatrix(fov, this.map.transform.width / this.map.transform.height, 1, farZ);\n    var cameraWorldMatrix = new Matrix4();\n    var cameraTranslateZ = new Matrix4().makeTranslation(0, 0, cameraToCenterDistance);\n    var cameraRotateX = new Matrix4().makeRotationX(this.map.transform._pitch);\n    var cameraRotateZ = new Matrix4().makeRotationZ(this.map.transform.angle);\n    var cameraTranslateXY = new Matrix4().makeTranslation(x * WORLD_SCALE, -y * WORLD_SCALE, 0);\n    // const cameraTranslateCenter = new THREE.Matrix4().makeTranslation(0, 0, cameraToCenterDistance);\n    // Unlike the Mapbox GL JS camera, separate camera translation and rotation out into its world matrix\n    // If this is applied directly to the projection matrix, it will work OK but break raycasting\n    cameraWorldMatrix\n      .premultiply(cameraTranslateZ)\n      .premultiply(cameraRotateX)\n      .premultiply(cameraRotateZ)\n      .premultiply(cameraTranslateXY);\n\n    camera.matrixWorld.copy(cameraWorldMatrix);\n\n    var zoomPow = this.map.transform.scale * WORLD_SCALE;\n    // Handle scaling and translation of objects in the map in the world's matrix transform, not the camera\n    var scale = new Matrix4();\n    var translateCenter = new Matrix4();\n    var translateMap = new Matrix4();\n    var rotateMap = new Matrix4();\n    scale\n      .makeScale(zoomPow, zoomPow, 1.0);\n    translateCenter\n      .makeTranslation(WORLD_SIZE / 2, -WORLD_SIZE / 2, 0);\n    translateMap\n      .makeTranslation(-this.map.transform.x, this.map.transform.y, 0);\n    rotateMap\n      .makeRotationZ(Math.PI);\n    scene.matrix = new Matrix4();\n    scene.matrix\n      .premultiply(rotateMap)\n      .premultiply(translateCenter)\n      .premultiply(scale);\n    pickScene.matrix = new Matrix4();\n    pickScene.matrix\n      .premultiply(rotateMap)\n      .premultiply(translateCenter)\n      .premultiply(scale);\n  };\n  MapBox.prototype.makePerspectiveMatrix = function makePerspectiveMatrix (fovy, aspect, near, far) {\n    var out = new Matrix4();\n    var f = 1.0 / Math.tan(fovy / 2),\n      nf = 1 / (near - far);\n    var newMatrix = [\n      f / aspect, 0, 0, 0,\n      0, f, 0, 0,\n      0, 0, (far + near) * nf, -1,\n      0, 0, (2 * far * near) * nf, 0\n    ];\n    out.elements = newMatrix;\n    return out;\n  };\n\n  MapBox.prototype.projectFlat = function projectFlat (lnglat) {\n    return this.map.lngLatToGeodeticCoord(lnglat);\n  };\n  MapBox.prototype.getCenter = function getCenter () {\n    return this.map.getCenter();\n  };\n  MapBox.prototype.getCenterFlat = function getCenterFlat () {\n    return this.projectFlat(this.getCenter());\n  };\n  MapBox.prototype.addOverLayer = function addOverLayer () {\n    var canvasContainer = document.getElementById(this.container);\n    this.canvasContainer = canvasContainer;\n    this.renderDom = document.createElement('div');\n    this.renderDom.style.cssText += 'position: absolute;top: 0; z-index:10;height: 100%;width: 100%;pointer-events: none;';\n    this.renderDom.id = 'l7_canvaslayer';\n    canvasContainer.appendChild(this.renderDom);\n  };\n  MapBox.prototype.mixMap = function mixMap (scene) {\n    var map = this.map;\n    scene.getZoom = function () { return map.getZoom(); };\n    scene.getCenter = function () { return map.getCenter(); };\n    scene.getPitch = function () { return map.getPitch(); };\n    scene.containerToLngLat = function (point) { return map.unproject(point); };\n\n  };\n\n  return MapBox;\n}(Base));\n\nvar DarkTheme = {\n  mapStyle: 'amap://styles/ba3e9759545cd618392ef073c0dfda8c?isPublic=true'\n};\n\nvar LightTheme = {\n  mapStyle: 'amap://styles/a80c558f91b29cf56fa47f895fb1773c?isPublic=true'\n};\n\nvar BlankTheme = {\n  mapStyle: 'amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true'\n};\n\nvar DEG2RAD = Math.PI / 180;\nvar canvasCount = 0;\nvar GaodeMap = /*@__PURE__*/(function (Base) {\n  function GaodeMap(container, cfg) {\n    Base.call(this, cfg);\n    this.container = container;\n    this.initMap();\n  }\n\n  if ( Base ) GaodeMap.__proto__ = Base;\n  GaodeMap.prototype = Object.create( Base && Base.prototype );\n  GaodeMap.prototype.constructor = GaodeMap;\n\n  GaodeMap.prototype.getDefaultCfg = function getDefaultCfg () {\n    return Util.assign(Global.scene, {\n      resizeEnable: true,\n      viewMode: '3D'\n    });\n  };\n  GaodeMap.project = function project (lnglat) {\n    var maxs = 85.0511287798;\n    var lat = Math.max(Math.min(maxs, lnglat[1]), -maxs);\n    var scale = 256 << 20;\n    var d = Math.PI / 180;\n    var x = lnglat[0] * d;\n    var y = lat * d;\n    y = Math.log(Math.tan(Math.PI / 4 + y / 2));\n    var a = 0.5 / Math.PI,\n      b = 0.5,\n      c = -0.5 / Math.PI;\n    d = 0.5;\n    x = scale * (a * x + b) - 215440491;\n    y = -(scale * (c * y + d) - 106744817);\n    return { x: x, y: y };\n  };\n\n  GaodeMap.prototype.initMap = function initMap () {\n    var this$1 = this;\n\n    window.forceWebGL = true;\n    var mapStyle = this.get('mapStyle');\n    if (mapStyle) {\n      switch (mapStyle) {\n        case 'dark':\n          this.set('mapStyle', DarkTheme.mapStyle);\n          break;\n        case 'light':\n          this.set('mapStyle', LightTheme.mapStyle);\n          break;\n        case 'blank':\n          this.set('mapStyle', BlankTheme.mapStyle);\n          break;\n        default:\n          this.set('mapStyle', mapStyle);\n      }\n    }\n    this.set('zooms', [ this.get('minZoom'), this.get('maxZoom') ]);\n    var map = this.get('map');\n    if (map instanceof AMap.Map) {\n      this.map = map;\n      this.container = map.getContainer();\n      this.setMapStyle(mapStyle);\n      this.addOverLayer();\n      setTimeout(function () { this$1.emit('mapLoad'); }, 100);\n    } else {\n      this.map = new AMap.Map(this.container, this._attrs);\n      this.map.on('complete', function () {\n        this$1.setMapStyle(mapStyle);\n        this$1.addOverLayer();\n        this$1.emit('mapLoad');\n      });\n    }\n\n  };\n  GaodeMap.prototype.asyncCamera = function asyncCamera (engine) {\n    this._engine = engine;\n    this.map.on('camerachange', this.updateCamera.bind(this));\n    this.updateCamera();\n\n  };\n  GaodeMap.prototype.updateCamera = function updateCamera () {\n    var camera = this._engine._camera;\n    var mapCamera = this.map.getCameraState();\n    if (!mapCamera || !mapCamera.fov) { return; }\n    var fov = mapCamera.fov;\n    var near = mapCamera.near;\n    var far = mapCamera.far;\n    var height = mapCamera.height;\n    var pitch = mapCamera.pitch;\n    var rotation = mapCamera.rotation;\n    var aspect = mapCamera.aspect;\n    pitch *= DEG2RAD;\n    rotation *= DEG2RAD;\n    camera.fov = (180 * fov) / Math.PI;\n    camera.aspect = aspect;\n    camera.near = near;\n    camera.far = far;\n    camera.updateProjectionMatrix();\n    camera.position.z = height * Math.cos(pitch);\n    camera.position.x = height * Math.sin(pitch) * Math.sin(rotation);\n    camera.position.y = -height * Math.sin(pitch) * Math.cos(rotation);\n    camera.up.x = -Math.cos(pitch) * Math.sin(rotation);\n    camera.up.y = Math.cos(pitch) * Math.cos(rotation);\n    camera.up.z = Math.sin(pitch);\n    camera.lookAt(0, 0, 0);\n    camera.position.x += mapCamera.position.x;\n    camera.position.y += -mapCamera.position.y;\n  };\n\n  GaodeMap.prototype.projectFlat = function projectFlat (lnglat) {\n    return this.map.lngLatToGeodeticCoord(lnglat);\n  };\n  GaodeMap.prototype.getCenter = function getCenter () {\n    return this.map.getCenter();\n  };\n  GaodeMap.prototype.getCenterFlat = function getCenterFlat () {\n    return this.projectFlat(this.getCenter());\n  };\n  GaodeMap.prototype.addOverLayer = function addOverLayer () {\n    this.amapContainer = this.map.getContainer().getElementsByClassName('amap-maps')[0];\n    this.renderDom = document.createElement('div');\n    this.renderDom.style.cssText +=\n      'position: absolute;top: 0;height: 100%;width: 100%;pointer-events: none;';\n    this.renderDom.id = 'l7_canvaslayer' + canvasCount++;\n\n    this.amapContainer.appendChild(this.renderDom);\n    this.l7_marker_Container = document.createElement('div');\n    this.l7_marker_Container.className = 'l7_marker';\n    this.amapContainer.appendChild(this.l7_marker_Container);\n  };\n  GaodeMap.prototype.setMapStyle = function setMapStyle (style) {\n    var map = this.map;\n    switch (style) {\n      case 'dark':\n        this.set('mapStyle', DarkTheme.mapStyle);\n        break;\n      case 'light':\n        this.set('mapStyle', LightTheme.mapStyle);\n        break;\n      case 'blank':\n        this.set('mapStyle', BlankTheme.mapStyle);\n        break;\n      default:\n        this.set('mapStyle', style);\n    }\n    map.setMapStyle(this.get('mapStyle'));\n    if (style === 'blank') {\n      map.setLayers([]);\n    }\n    return;\n  };\n  GaodeMap.prototype.mixMap = function mixMap (scene) {\n    var this$1 = this;\n\n    var map = this.map;\n    scene.project = GaodeMap.project;\n    scene.getZoom = function () {\n      return map.getZoom();\n    };\n    scene.getCenter = function () {\n      return map.getCenter();\n    };\n    scene.getSize = function () {\n      return map.getSize();\n    };\n    scene.setCenter = function (center) {\n      var lnglat = new AMap.LngLat(center[0], center[1]);\n      return map.setCenter(lnglat);\n    };\n    scene.getPitch = function () {\n      return map.getPitch();\n    };\n    scene.getRotation = function () {\n      return map.getRotation();\n    };\n    scene.getStatus = function () {\n      return map.getStatus();\n    };\n    scene.getScale = function () {\n      return map.getScale();\n    };\n    scene.setZoom = function (zoom) {\n      return map.setZoom(zoom);\n    };\n    scene.getBounds = function () {\n      return map.getBounds();\n    };\n    scene.setMapStyle = function (style) {\n      return this$1.setMapStyle(style);\n    };\n    scene.setZoomAndCenter = function (zoom, center) {\n      var lnglat = new AMap.LngLat(center[0], center[1]);\n      return map.setZoomAndCenter(zoom, lnglat);\n    };\n    scene.setFeature = function (features) {\n      return map.setFeature(features);\n    };\n    scene.setBounds = function (extent) {\n      return map.setBounds(new AMap.Bounds([ extent[0], extent[1] ], [ extent[2], extent[3] ]));\n    };\n    scene.setRotation = function (rotation) {\n      return map.setRotation(rotation);\n    };\n    scene.setStatus = function (status) {\n      return map.setStatus(status);\n    };\n    scene.zoomIn = function () {\n      return map.zoomIn();\n    };\n    scene.zoomOut = function () {\n      return map.zoomOut();\n    };\n    scene.panTo = function (lnglat) {\n      return map.panTo(new AMap.LngLat(lnglat[0], lnglat[1]));\n    };\n    scene.panBy = function (x, y) {\n      return map.panBy(x, y);\n    };\n    scene.setPitch = function (pitch) {\n      return map.setPitch(pitch);\n    };\n    scene.pixelToLngLat = function (pixel) {\n      var ll = new AMap.Pixel(pixel[0], pixel[1]);\n      return map.pixelToLngLat(ll);\n    };\n    scene.lngLatToPixel = function (lnglat) {\n      return map.lnglatToPixel(new AMap.LngLat(lnglat[0], lnglat[1]));\n    };\n    scene.fitBounds = function (extent) {\n      return map.setBounds(\n        new AMap.Bounds([ extent[0], extent[1] ], [ extent[2], extent[3] ])\n      );\n    };\n    scene.containerToLngLat = function (pixel) {\n      var ll = new AMap.Pixel(pixel.x, pixel.y);\n      return map.containerToLngLat(ll);\n    };\n    scene.lngLatToContainer = function (lnglat) {\n      var ll = new AMap.LngLat(lnglat[0], lnglat[1]);\n      return map.lngLatToContainer(ll);\n    };\n    scene.lngLatToGeodeticCoord = function (lnglat) {\n      var ll = new AMap.LngLat(lnglat[0], lnglat[1]);\n      return map.lngLatToGeodeticCoord(ll);\n    };\n  };\n\n  return GaodeMap;\n}(Base));\n\nvar MapType = {\n  amap: GaodeMap,\n  mapbox: MapBox\n};\nvar getMap = function (type) {\n  return MapType[type.toLowerCase()];\n};\n\nvar Source = /*@__PURE__*/(function (Base) {\n  function Source(cfg) {\n    Base.call(this, cfg);\n    var transform = this.get('transforms');\n    this._transforms = transform || [];\n    var mapType = this.get('mapType') || 'AMap';\n    this.projectFlat = getMap(mapType).project;\n    // 数据解析\n    this._init();\n\n  }\n\n  if ( Base ) Source.__proto__ = Base;\n  Source.prototype = Object.create( Base && Base.prototype );\n  Source.prototype.constructor = Source;\n  Source.prototype.getDefaultCfg = function getDefaultCfg () {\n    return {\n      data: null,\n      parser: {},\n      transforms: [],\n      options: {}\n    };\n  };\n\n  Source.prototype._init = function _init () {\n    this._excuteParser();\n    var isCluster = this.get('isCluster') || false;\n    isCluster && this._executeCluster();\n    // 数据转换 统计，聚合，分类\n    this._executeTrans();\n    // 坐标转换\n    if (!this.get('projected')) {\n      this._projectCoords();\n    }\n  };\n  Source.prototype.setData = function setData (data, cfg) {\n    if ( cfg === void 0 ) cfg = {};\n\n    Object.assign(this._attrs, cfg);\n    var transform = this.get('transforms');\n    this._transforms = transform || [];\n    this.set('data', data);\n    this._init();\n    this.emit('SourceUpdate');\n  };\n  // 数据更新\n  Source.prototype.updateTransfrom = function updateTransfrom (cfg) {\n    var transforms = cfg.transforms;\n    this._transforms = transforms;\n    this.data = lib_83(this.originData);\n    this._executeTrans();\n    this._projectCoords();\n  };\n\n  Source.prototype._excuteParser = function _excuteParser () {\n    var parser = this.get('parser');\n    var type = parser.type; if ( type === void 0 ) type = 'geojson';\n    var data = this.get('data');\n    this.originData = getParser(type)(data, parser);\n    // this.data = {\n    //   dataArray: clone(this.originData.dataArray)\n    // }; // TODO 关闭数据备份\n    this.data = this.originData;\n    if (this.data !== null && !this.get('projected')) {\n      this.data.extent = extent(this.data.dataArray);\n    }\n  };\n  /**\n   * 数据统计\n   */\n  Source.prototype._executeTrans = function _executeTrans () {\n    var this$1 = this;\n\n    var trans = this._transforms;\n    trans.forEach(function (tran) {\n      var type = tran.type;\n      var data = getTransform(type)(this$1.data, tran);\n      Object.assign(this$1.data, data);\n    });\n    this._transforms = trans;\n  };\n  Source.prototype.transform = function transform (option) {\n    var data = getTransform(option.type)(this.data, option);\n    Object.assign(this.data, data);\n  };\n  Source.prototype._executeCluster = function _executeCluster () {\n    var clusterCfg = this.get('Cluster') || {};\n    var zoom = this.get('zoom');\n    clusterCfg.zoom = Math.floor(zoom);\n    this.set('cluster', clusterCfg);\n    var clusterData = cluster(this.data, clusterCfg);\n    this.data = clusterData.data;\n    this.pointIndex = clusterData.pointIndex;\n  };\n  Source.prototype.updateCusterData = function updateCusterData (zoom, bbox) {\n    var clusterPoint = this.pointIndex.getClusters(bbox, zoom);\n    this.data.dataArray = formatData(clusterPoint);\n    var clusterCfg = this.get('Cluster') || {};\n    clusterCfg.zoom = Math.floor(zoom);\n    clusterCfg.bbox = bbox;\n    this.set('cluster', clusterCfg);\n    this._projectCoords();\n    this.emit('SourceUpdate');\n  };\n  Source.prototype._projectCoords = function _projectCoords () {\n    var this$1 = this;\n\n    if (this.data === null) {\n      return;\n    }\n    this.data.dataArray.forEach(function (data) {\n      // data.coordinates = this._coordProject(data.coordinates);\n      data.coordinates = tranfrormCoord(data.coordinates, this$1._coorConvert.bind(this$1));\n    });\n  };\n  Source.prototype._getCoord = function _getCoord (geo) {\n    if (geo.geometry) {\n      // GeoJSON feature\n      geo = geo.geometry.coordinates;\n    } else if (geo.coordinates) {\n      // GeoJSON geometry\n      geo = geo.coordinates;\n    }\n    return geo;\n  };\n  Source.prototype._coordProject = function _coordProject (geo) {\n    var this$1 = this;\n\n    if (Array.isArray(geo[0][0])) {\n      return geo.map(function (coor) {\n        return this$1._coordProject(coor);\n      });\n    }\n    if (!Array.isArray(geo[0])) {\n      return this._coorConvert(geo);\n    }\n    return geo.map(function (coor) {\n      return this$1._coorConvert(coor);\n    });\n  };\n  Source.prototype._coorConvert = function _coorConvert (geo) {\n    var ll = this.projectFlat(geo);\n    return [ ll.x, ll.y, geo[2] || 0 ];\n  };\n  Source.prototype.getSelectFeature = function getSelectFeature (featureId) {\n    var data = this.get('data');\n    // 如果是GeoJSON 数据返回原数\n    // 颜色编码从1开始，要素索引从0开始，所以颜色转变要素需要减1\n    var isCluster = this.get('isCluster') || false;\n    return (data.features && !isCluster)\n      ? data.features[featureId - 1]\n      : this.data.dataArray[featureId - 1];\n  };\n  Source.prototype.getSeletFeatureIndex = function getSeletFeatureIndex (featureId) {\n    var data = this.get('data');\n    if (!data.features) {\n      return featureId - 1;\n    }\n    var featureIndex = 0;\n    for (var i = 0; i < this.data.dataArray.length; i++) {\n      var item = this.data.dataArray[i];\n      if (item._id === featureId) {\n        break;\n      }\n      featureIndex++;\n    }\n    return featureIndex;\n  };\n  Source.prototype.destroy = function destroy () {\n    this.data = null;\n    this.originData = null;\n  };\n\n  return Source;\n}(Base));\n\nvar BufferBase = /*@__PURE__*/(function (Base) {\n  function BufferBase(cfg) {\n    Base.call(this, cfg);\n    this.attributes = {\n    };\n    this.verticesCount = 0;\n    this.indexCount = 0;\n    this.indexArray = new Int32Array(0);\n    this._init();\n  }\n\n  if ( Base ) BufferBase.__proto__ = Base;\n  BufferBase.prototype = Object.create( Base && Base.prototype );\n  BufferBase.prototype.constructor = BufferBase;\n  BufferBase.prototype._init = function _init () {\n    this._calculateFeatures();\n    this._initAttributes();\n    this._buildFeatures();\n  };\n  BufferBase.prototype._initAttributes = function _initAttributes () {\n    this.attributes.positions = new Float32Array(this.verticesCount * 3);\n    this.attributes.colors = new Float32Array(this.verticesCount * 4);\n    this.attributes.pickingIds = new Float32Array(this.verticesCount);\n    this.attributes.sizes = new Float32Array(this.verticesCount);\n    this.attributes.pickingIds = new Float32Array(this.verticesCount);\n    if (this.get('uv')) {\n      this.attributes.uv = new Float32Array(this.verticesCount * 2);\n    }\n    this.indexArray = new Int32Array(this.indexCount);\n  };\n  BufferBase.prototype.addFeature = function addFeature () {\n\n  };\n  // 更新渲染\n  BufferBase.prototype.upload = function upload () {\n\n  };\n  BufferBase.prototype.destroy = function destroy () {\n\n  };\n  BufferBase.prototype.resize = function resize () {\n\n  };\n  BufferBase.prototype.checkIsClosed = function checkIsClosed (points) {\n    var p1 = points[0][0];\n    var p2 = points[0][points[0].length - 1];\n    return (p1[0] === p2[0] && p1[1] === p2[1]);\n  };\n  BufferBase.prototype.concat = function concat (arrayType, arrays) {\n    var totalLength = 0;\n    for (var i = 0, list = arrays; i < list.length; i += 1) {\n      var arr = list[i];\n\n      totalLength += arr.length;\n    }\n    var arrayBuffer = new ArrayBuffer(totalLength * arrayType.BYTES_PER_ELEMENT);\n    var offset = 0;\n    var result = new arrayType(arrayBuffer);\n    for (var i$1 = 0, list$1 = arrays; i$1 < list$1.length; i$1 += 1) {\n      var arr$1 = list$1[i$1];\n\n      result.set(arr$1, offset);\n      offset += arr$1.length;\n    }\n    return result;\n  };\n  BufferBase.prototype._encodeArray = function _encodeArray (feature, num) {\n    var color = feature.color;\n    var id = feature.id;\n    var pattern = feature.pattern;\n    var size = feature.size;\n    var ref = feature.bufferInfo;\n    var verticesOffset = ref.verticesOffset;\n    var imagePos = this.get('imagePos');\n    var start1 = verticesOffset;\n    for (var i = 0; i < num; i++) {\n      if (feature.hasOwnProperty('color')) {\n        this.attributes.colors[start1 * 4 + i * 4] = color[0];\n        this.attributes.colors[start1 * 4 + i * 4 + 1] = color[1];\n        this.attributes.colors[start1 * 4 + i * 4 + 2] = color[2];\n        this.attributes.colors[start1 * 4 + i * 4 + 3] = color[3];\n\n      }\n      if (feature.hasOwnProperty('id')) {\n        this.attributes.pickingIds[start1 + i] = id;\n      }\n      if (feature.hasOwnProperty('size')) {\n        var size2 = size;\n        if (Array.isArray(size) && size.length === 2) {\n          size2 = [ size[0] ];\n        }\n        if (!Array.isArray(size)) {\n          size2 = [ size ];\n        }\n        this.attributes.sizes.set(size2, (start1 + i) * size2.length);\n      }\n      if (feature.hasOwnProperty('pattern')) {\n\n        var patternPos = imagePos[pattern] || { x: 0, y: 0 };\n        this.attributes.patterns[start1 * 2 + i * 2 ] = patternPos.x;\n        this.attributes.patterns[start1 * 2 + i * 2 + 1] = patternPos.y;\n      }\n    }\n\n  };\n  BufferBase.prototype._calculateWall = function _calculateWall (feature) {\n    var size = feature.size;\n    var ref = feature.bufferInfo;\n    var vertices = ref.vertices;\n    var indexOffset = ref.indexOffset;\n    var verticesOffset = ref.verticesOffset;\n    var faceNum = ref.faceNum;\n    this._encodeArray(feature, faceNum * 4);\n    for (var i = 0; i < faceNum; i++) {\n      var prePoint = vertices.slice(i * 3, i * 3 + 3);\n      var nextPoint = vertices.slice(i * 3 + 3, i * 3 + 6);\n      this._calculateExtrudeFace(prePoint, nextPoint, verticesOffset + i * 4, indexOffset + i * 6, size);\n      feature.bufferInfo.verticesOffset += 4;\n      feature.bufferInfo.indexOffset += 6;\n    }\n  };\n\n  BufferBase.prototype._calculateExtrudeFace = function _calculateExtrudeFace (prePoint, nextPoint, positionOffset, indexOffset, size) {\n    this.attributes.positions.set([\n      prePoint[0], prePoint[1], size,\n      nextPoint[0], nextPoint[1], size,\n      prePoint[0], prePoint[1], 0,\n      nextPoint[0], nextPoint[1], 0\n    ],\n    positionOffset * 3);\n    var indexArray = [ 1, 2, 0, 3, 2, 1 ].map(function (v) { return v + positionOffset; });\n    if (this.get('uv')) {\n      this.attributes.uv.set([ 0.1, 0, 0, 0, 0.1, size / 2000, 0, size / 2000 ], positionOffset * 2);\n    }\n    this.indexArray.set(indexArray, indexOffset);\n  };\n\n  return BufferBase;\n}(Base));\n\nvar earcut_1 = earcut;\nvar default_1 = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) { return triangles; }\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) { outerNode = eliminateHoles(data, holeIndices, outerNode, dim); }\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) { minX = x; }\n            if (y < minY) { minY = y; }\n            if (x > maxX) { maxX = x; }\n            if (y > maxY) { maxY = y; }\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea$2(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) { last = insertNode(i, data[i], data[i + 1], last); }\n    } else {\n        for (i = end - dim; i >= start; i -= dim) { last = insertNode(i, data[i], data[i + 1], last); }\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) { return start; }\n    if (!end) { end = start; }\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) { break; }\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) { return; }\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) { indexCurve(ear, minX, minY, invSize); }\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) { return false; } // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) { return false; }\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) { return false; } // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) { return false; }\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) { return false; }\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) { return false; }\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) { return false; }\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) { list.steiner = true; }\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n        var b = splitPolygon(outerNode, hole);\n        filterPoints(b, b.next);\n    }\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) { return p; }\n                    if (hy === p.next.y) { return p.next; }\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) { return null; }\n\n    if (hx === qx) { return m; } // hole touches outer segment; pick leftmost endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) { p.z = zOrder(p.x, p.y, minX, minY, invSize); }\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) { break; }\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) { tail.nextZ = e; }\n                else { list = e; }\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) { leftmost = p; }\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) { return true; } // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) { return true; } // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) { return true; } // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) { return true; } // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) { return true; } // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) { return true; }\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            { inside = !inside; }\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) { p.prevZ.nextZ = p.nextZ; }\n    if (p.nextZ) { p.nextZ.prevZ = p.prevZ; }\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea$2(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea$2(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea$2(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) { result.vertices.push(data[i][j][d]); }\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\nearcut_1.default = default_1;\n\nvar FillBuffer = /*@__PURE__*/(function (BufferBase) {\n  function FillBuffer () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) FillBuffer.__proto__ = BufferBase;\n  FillBuffer.prototype = Object.create( BufferBase && BufferBase.prototype );\n  FillBuffer.prototype.constructor = FillBuffer;\n\n  FillBuffer.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    layerData.forEach(function (feature) {\n      this$1._calculateFill(feature);\n      delete feature.bufferInfo;\n    });\n  };\n\n  FillBuffer.prototype._calculateFill = function _calculateFill (feature) {\n    var ref = feature.bufferInfo;\n    var indexArray = ref.indexArray;\n    var vertices = ref.vertices;\n    var indexOffset = ref.indexOffset;\n    var verticesOffset = ref.verticesOffset;\n    var pointCount = vertices.length / 3;\n    this._encodeArray(feature, vertices.length / 3);\n    // 添加顶点\n    for (var i = 0; i < pointCount; i++) {\n      this.attributes.positions.set([ vertices[ i * 3 ], vertices[i * 3 + 1 ], 0 ], (verticesOffset + i) * 3);\n      if (this.get('uv')) {\n        // TODO 用过BBox计算纹理坐标\n        this.attributes.uv.set([ 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0 ], (verticesOffset + i) * 3);\n      }\n    }\n    feature.bufferInfo.verticesOffset += pointCount;\n    // 添加顶点索引\n    this.indexArray.set(indexArray, indexOffset); // 顶部坐标\n    feature.bufferInfo.indexOffset += indexArray.length;\n  };\n\n  FillBuffer.prototype._calculateFeatures = function _calculateFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    // 计算长\n    layerData.forEach(function (feature) {\n      var coordinates = feature.coordinates;\n      var bufferInfo = {};\n      var flattengeo = earcut_1.flatten(coordinates);\n      var vertices = flattengeo.vertices;\n      var dimensions = flattengeo.dimensions;\n      var holes = flattengeo.holes;\n      var indexArray = earcut_1(vertices, holes, dimensions).map(function (v) { return this$1.verticesCount + v; });\n      bufferInfo.vertices = vertices;\n      bufferInfo.indexArray = indexArray;\n      bufferInfo.verticesOffset = this$1.verticesCount + 0;\n      bufferInfo.indexOffset = this$1.indexCount + 0;\n      this$1.indexCount += indexArray.length;\n      this$1.verticesCount += vertices.length / 3;\n      feature.bufferInfo = bufferInfo;\n\n    });\n  };\n\n  return FillBuffer;\n}(BufferBase));\n\nvar LineBuffer = /*@__PURE__*/(function (BufferBase) {\n  function LineBuffer () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) LineBuffer.__proto__ = BufferBase;\n  LineBuffer.prototype = Object.create( BufferBase && BufferBase.prototype );\n  LineBuffer.prototype.constructor = LineBuffer;\n\n  LineBuffer.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    var offsetVertices = 0;\n    var offsetIndex = 0;\n    var offset = 0;\n    layerData.forEach(function (feature) {\n      var coordinates = feature.coordinates;\n      coordinates.forEach(function (coord) {\n        var n = coord.length;\n        feature.bufferInfo = {\n          verticesOffset: offsetVertices\n        };\n        this$1._encodeArray(feature, n);\n        for (var i = 0; i < n; i++) {\n          this$1.attributes.positions[offsetVertices * 3] = coord[i][0];\n          this$1.attributes.positions[offsetVertices * 3 + 1] = coord[i][1];\n          this$1.attributes.positions[offsetVertices * 3 + 2] = coord[i][2];\n          this$1.indexArray[offsetIndex * 2] = i + offset;\n          this$1.indexArray[offsetIndex * 2 + 1] = i + offset + 1;\n          if (i === n - 1) {\n            this$1.indexArray[offsetIndex * 2 + 1] = offsetVertices - n + 1;\n          }\n          offsetVertices++;\n          offsetIndex++;\n        }\n        offset += n;\n      });\n    });\n  };\n\n  LineBuffer.prototype._calculateBufferLength = function _calculateBufferLength () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    layerData.forEach(function (feature) {\n      var coordinates = feature.coordinates;\n      coordinates.forEach(function (coord) {\n        this$1.verticesCount += coord.length;\n        this$1.indexCount += (coord.length * 2 - 2);\n      });\n    });\n  };\n\n  LineBuffer.prototype._calculateFeatures = function _calculateFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    layerData.forEach(function (feature) {\n      var coordinates = feature.coordinates;\n      coordinates.forEach(function (coord) {\n        this$1.verticesCount += coord.length;\n        this$1.indexCount += (coord.length * 2);\n      });\n    });\n  };\n  LineBuffer.prototype._calculateLine = function _calculateLine (feature) {\n    var this$1 = this;\n\n    var ref = feature.bufferInfo;\n    var indexOffset = ref.indexOffset;\n    var verticesOffset = ref.verticesOffset;\n    feature.coordinates.forEach(function (coord) {\n      var n = coord.length;\n      this$1._encodeArray(feature, n);\n      for (var i = 0; i < n; i++) {\n        this$1.attributes.positions[(verticesOffset + i) * 3] = coord[i][0];\n        this$1.attributes.positions[(verticesOffset + i) * 3 + 1] = coord[i][1];\n        this$1.attributes.positions[(verticesOffset + i) * 3 + 2] = coord[i][2];\n        this$1.indexArray[(indexOffset + i) * 2] = i + verticesOffset * 2;\n        this$1.indexArray[(indexOffset + i) * 2 + 1] = i + verticesOffset * 2 + 1;\n        if (i === n - 1) {\n          this$1.indexArray[(indexOffset + i) * 2 + 1] = verticesOffset + 1;\n        }\n\n      }\n      verticesOffset += n;\n      indexOffset += n;\n    });\n  };\n\n  return LineBuffer;\n}(BufferBase));\n\nvar ExtrudeButffer = /*@__PURE__*/(function (BufferBase) {\n  function ExtrudeButffer () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) ExtrudeButffer.__proto__ = BufferBase;\n  ExtrudeButffer.prototype = Object.create( BufferBase && BufferBase.prototype );\n  ExtrudeButffer.prototype.constructor = ExtrudeButffer;\n\n  ExtrudeButffer.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    layerData.forEach(function (feature) {\n      this$1._calculateTop(feature);\n      this$1._calculateWall(feature);\n      delete feature.bufferInfo;\n    });\n  };\n\n  ExtrudeButffer.prototype._calculateFeatures = function _calculateFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    // 计算长\n    layerData.forEach(function (feature) {\n      var coordinates = feature.coordinates;\n      var bufferInfo = {};\n      var flattengeo = earcut_1.flatten(coordinates);\n      var n = this$1.checkIsClosed(coordinates[0]) ? coordinates[0].length - 1 : coordinates[0].length;\n      var vertices = flattengeo.vertices;\n      var dimensions = flattengeo.dimensions;\n      var holes = flattengeo.holes;\n      var indexArray = earcut_1(vertices, holes, dimensions).map(function (v) { return this$1.verticesCount + v; });\n      bufferInfo.vertices = vertices;\n      bufferInfo.indexArray = indexArray;\n      bufferInfo.verticesOffset = this$1.verticesCount + 0;\n      bufferInfo.indexOffset = this$1.indexCount + 0;\n      bufferInfo.faceNum = n;\n      this$1.indexCount += indexArray.length + n * 6;\n      this$1.verticesCount += vertices.length / 3 + n * 4;\n      feature.bufferInfo = bufferInfo;\n\n    });\n  };\n  ExtrudeButffer.prototype._calculateTop = function _calculateTop (feature) {\n    var size = feature.size;\n    var ref = feature.bufferInfo;\n    var indexArray = ref.indexArray;\n    var vertices = ref.vertices;\n    var indexOffset = ref.indexOffset;\n    var verticesOffset = ref.verticesOffset;\n    var pointCount = vertices.length / 3;\n    this._encodeArray(feature, vertices.length / 3);\n    // 添加顶点\n    for (var i = 0; i < pointCount; i++) {\n      this.attributes.positions.set([ vertices[ i * 3 ], vertices[i * 3 + 1 ], size ], (verticesOffset + i) * 3);\n      // 顶部文理坐标计算\n      if (this.get('uv')) {\n        // TODO 用过BBox计算纹理坐标\n        this.attributes.uv.set([ -1, -1 ], (verticesOffset + i) * 2);\n      }\n    }\n    feature.bufferInfo.verticesOffset += pointCount;\n    // 添加顶点索引\n    this.indexArray.set(indexArray, indexOffset); // 顶部坐标\n    feature.bufferInfo.indexOffset += indexArray.length;\n\n  };\n\n  return ExtrudeButffer;\n}(BufferBase));\n\nfunction fillPolygon(points) {\n  var flattengeo = earcut_1.flatten(points);\n  var triangles = earcut_1(flattengeo.vertices, flattengeo.holes, flattengeo.dimensions);\n  return {\n    positions: flattengeo.vertices,\n    indexArray: triangles\n  };\n}\n\n// 绘制3d\nfunction extrude_Polygon(points) {\n  var p1 = points[0][0];\n  var p2 = points[0][points[0].length - 1];\n  if (p1[0] === p2[0] && p1[1] === p2[1]) {\n    points[0] = points[0].slice(0, points[0].length - 1);\n  }\n  var n = points[0].length;\n  var flattengeo = earcut_1.flatten(points);\n  var positions = [];\n  var indexArray = [];\n  var normals = [];\n  // 设置顶部z值\n  for (var j = 0; j < flattengeo.vertices.length / 3; j++) {\n    flattengeo.vertices[j * 3 + 2] = 1;\n    normals.push(0, 0, 1);\n  }\n  positions.push.apply(positions, flattengeo.vertices);\n  var triangles = earcut_1(flattengeo.vertices, flattengeo.holes, flattengeo.dimensions);\n  indexArray.push.apply(indexArray, triangles);\n  var loop = function ( i ) {\n    var prePoint = flattengeo.vertices.slice(i * 3, i * 3 + 3);\n    var nextPoint = flattengeo.vertices.slice(i * 3 + 3, i * 3 + 6);\n    nextPoint.length === 0 && (nextPoint = flattengeo.vertices.slice(0, 3));\n    var indexOffset = positions.length / 3;\n    positions.push(prePoint[0], prePoint[1], 1, nextPoint[0], nextPoint[1], 1, prePoint[0], prePoint[1], 0, nextPoint[0], nextPoint[1], 0);\n    var normal = computeNormal([ nextPoint[0], nextPoint[1], 1 ], [ prePoint[0], prePoint[1], 0 ], [ prePoint[0], prePoint[1], 1 ]);\n    normals.push.apply(normals, normal.concat( normal, normal, normal ));\n    indexArray.push.apply(indexArray, [ 1, 2, 0, 3, 2, 1 ].map(function (v) { return v + indexOffset; }));\n  };\n\n  for (var i = 0; i < n; i++) loop( i );\n  return {\n    positions: positions,\n    indexArray: indexArray,\n    normals: normals\n  };\n}\n\nfunction computeNormal(v1, v2, v3) {\n  var pA = new Vector3();\n  var pB = new Vector3();\n  var pC = new Vector3();\n  var cb = new Vector3();\n  var ab = new Vector3();\n  pA.set.apply(pA, v1);\n  pB.set.apply(pB, v2);\n  pC.set.apply(pC, v3);\n  cb.subVectors(pC, pB);\n  ab.subVectors(pA, pB);\n  cb.cross(ab);\n  cb.normalize();\n  var x = cb.x;\n  var y = cb.y;\n  var z = cb.z;\n  return [ x, y, z ];\n}\n\n/**\n * @author lzxue\n * @email lzx199065@gmail.com\n * @create date 2018-11-28 11:01:33\n * @modify date 2018-11-28 11:01:33\n * @desc 点,线,面 coordinates\n*/\n\nfunction circle() {\n  return polygonPath(30);\n}\nfunction square() {\n  return polygonPath(4);\n}\nfunction triangle() {\n  return polygonPath(3);\n}\nfunction hexagon() {\n  return polygonPath(6, 1);\n}\n\nfunction polygonPath(pointCount, start) {\n  if ( start === void 0 ) start = 0;\n\n  var step = Math.PI * 2 / pointCount;\n  var line = [];\n  for (var i = 0; i < pointCount; i++) {\n    line.push(step * i + start * Math.PI / 12);\n  }\n  var path = line.map(function (t) {\n    var x = Math.sin(t + Math.PI / 4),\n      y = Math.cos(t + Math.PI / 4);\n    return [ x, y, 0 ];\n  });\n  path.push(path[0]);\n  return path;\n}\n\nvar polygonPath$1 = /*#__PURE__*/Object.freeze({\n__proto__: null,\ncircle: circle,\nsquare: square,\ntriangle: triangle,\nhexagon: hexagon,\ncylinder: circle,\ntriangleColumn: triangle,\nhexagonColumn: hexagon,\nsquareColumn: square,\npolygonPath: polygonPath\n});\n\nvar pointShape = Global.pointShape;\nvar PointFillBuffer = /*@__PURE__*/(function (BufferBase) {\n  function PointFillBuffer () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) PointFillBuffer.__proto__ = BufferBase;\n  PointFillBuffer.prototype = Object.create( BufferBase && BufferBase.prototype );\n  PointFillBuffer.prototype.constructor = PointFillBuffer;\n\n  PointFillBuffer.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    this._offset = 0;\n    this._indexOffset = 0;\n\n    layerData.forEach(function (feature) {\n      this$1._calculateFill(feature);\n    });\n  };\n  PointFillBuffer.prototype._initAttributes = function _initAttributes () {\n    BufferBase.prototype._initAttributes.call(this);\n    this.attributes.miters = new Float32Array(this.verticesCount * 2);\n    this.attributes.sizes = new Float32Array(this.verticesCount);\n    this.attributes.shapes = new Float32Array(this.verticesCount);\n  };\n  PointFillBuffer.prototype._calculateFeatures = function _calculateFeatures () {\n    var layerData = this.get('layerData');\n    this.verticesCount = layerData.length * 4;\n    this.indexCount = layerData.length * 6;\n  };\n  PointFillBuffer.prototype._calcultateGeometry = function _calcultateGeometry () {\n    var shape = this.get('shapeType');\n    var hexgonFill = this.getShapeFunction(shape)([ this._getPoints(6) ]);\n    this.instanceGeometry = hexgonFill;\n  };\n  PointFillBuffer.prototype._calculateFill = function _calculateFill (feature) {\n    var this$1 = this;\n\n\n    feature.bufferInfo = { verticesOffset: this._offset };\n    var coordinates = feature.coordinates;\n    var shape = feature.shape;\n    var shapeIndex = pointShape['2d'].indexOf(shape) || 0;\n    var newCoord = coordinates;\n    if (coordinates.length === 1) {\n      newCoord = coordinates[0][0];\n    }\n    feature.bufferInfo = {\n      verticesOffset: this._offset\n    };\n    this._encodeArray(feature, 4);\n    this.attributes.shapes.set([ shapeIndex, shapeIndex, shapeIndex, shapeIndex ], this._offset);\n    this.attributes.miters.set([ -1, -1, 1, -1, 1, 1, -1, 1 ], this._offset * 2);\n    var indexArray = [ 0, 1, 2, 0, 2, 3 ].map(function (n) { return n + this$1._offset; });\n    this.indexArray.set(indexArray, this._offset * 1.5);\n\n    var position = [];\n    for (var i = 0; i < 4; i++) {\n      position.push.apply(position, newCoord);\n    }\n    this.attributes.positions.set(position, this._offset * 3);\n    this._offset += 4;\n  };\n  PointFillBuffer.prototype._getPoints = function _getPoints (num) {\n    return polygonPath(num, 1);\n  };\n  PointFillBuffer.prototype.getShape = function getShape (shape) {\n    var pointShape = Global.pointShape;\n\n    if (this.geometryMap[shape]) {\n      return this.geometryMap[shape];\n    }\n    var geometry = null;\n    if (pointShape['3d'].indexOf(shape) !== -1) {\n      geometry = extrude_Polygon([ polygonPath$1[shape]() ]);\n    } else if (pointShape['2d'].indexOf(shape) !== -1) {\n      geometry = fillPolygon([ polygonPath$1[shape]() ]);\n    } else {\n      geometry = fillPolygon([ polygonPath$1[shape]() ]);\n    }\n    this.geometryMap[shape] = geometry;\n    return geometry;\n  };\n\n  return PointFillBuffer;\n}(BufferBase));\n\nvar add_1 = add;\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out\n}\n\nvar set_1 = set$1;\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nfunction set$1(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out\n}\n\nvar normalize_1 = normalize;\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nfunction normalize(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x*x + y*y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n        out[0] = a[0] * len;\n        out[1] = a[1] * len;\n    }\n    return out\n}\n\nvar subtract_1 = subtract;\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out\n}\n\nvar dot_1 = dot;\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1]\n}\n\nvar tmp = [0, 0];\n\nvar computeMiter = function computeMiter(tangent, miter, lineA, lineB, halfThick) {\n    //get tangent line\n    add_1(tangent, lineA, lineB);\n    normalize_1(tangent, tangent);\n\n    //get miter as a unit vector\n    set_1(miter, -tangent[1], tangent[0]);\n    set_1(tmp, -lineA[1], lineA[0]);\n\n    //get the necessary length of our miter\n    return halfThick / dot_1(miter, tmp)\n};\n\nvar normal = function normal(out, dir) {\n    //get perpendicular\n    set_1(out, -dir[1], dir[0]);\n    return out\n};\n\nvar direction = function direction(out, a, b) {\n    //get unit dir of two lines\n    subtract_1(out, a, b);\n    normalize_1(out, out);\n    return out\n};\n\nvar epsilon = 0.000001;\n\nvar create_1 = create;\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nfunction create() {\n    var out = new Float32Array(2);\n    out[0] = 0;\n    out[1] = 0;\n    return out\n}\n\nvar clone_1$1 = clone;\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nfunction clone(a) {\n    var out = new Float32Array(2);\n    out[0] = a[0];\n    out[1] = a[1];\n    return out\n}\n\nvar fromValues_1 = fromValues;\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nfunction fromValues(x, y) {\n    var out = new Float32Array(2);\n    out[0] = x;\n    out[1] = y;\n    return out\n}\n\nvar copy_1 = copy;\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nfunction copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out\n}\n\nvar equals_1 = equals$1;\n\n\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals$1(a, b) {\n  var a0 = a[0];\n  var a1 = a[1];\n  var b0 = b[0];\n  var b1 = b[1];\n  return (Math.abs(a0 - b0) <= epsilon * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\n          Math.abs(a1 - b1) <= epsilon * Math.max(1.0, Math.abs(a1), Math.abs(b1)))\n}\n\nvar exactEquals_1 = exactEquals;\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1]\n}\n\nvar sub = subtract_1;\n\nvar multiply_1 = multiply;\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out\n}\n\nvar mul = multiply_1;\n\nvar divide_1 = divide;\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out\n}\n\nvar div = divide_1;\n\nvar inverse_1 = inverse;\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out\n}\n\nvar min_1 = min$1;\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction min$1(out, a, b) {\n    out[0] = Math.min(a[0], b[0]);\n    out[1] = Math.min(a[1], b[1]);\n    return out\n}\n\nvar max_1 = max$1;\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction max$1(out, a, b) {\n    out[0] = Math.max(a[0], b[0]);\n    out[1] = Math.max(a[1], b[1]);\n    return out\n}\n\nvar rotate_1 = rotate;\n\n/**\n * Rotates a vec2 by an angle\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to rotate\n * @param {Number} angle the angle of rotation (in radians)\n * @returns {vec2} out\n */\nfunction rotate(out, a, angle) {\n  var c = Math.cos(angle),\n      s = Math.sin(angle);\n  var x = a[0],\n      y = a[1];\n\n  out[0] = x * c - y * s;\n  out[1] = x * s + y * c;\n\n  return out\n}\n\nvar floor_1 = floor;\n\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out\n}\n\nvar ceil_1 = ceil;\n\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out\n}\n\nvar round_1 = round;\n\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out\n}\n\nvar scale_1 = scale;\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nfunction scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out\n}\n\nvar scaleAndAdd_1 = scaleAndAdd;\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n    out[0] = a[0] + (b[0] * scale);\n    out[1] = a[1] + (b[1] * scale);\n    return out\n}\n\nvar distance_1 = distance;\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x*x + y*y)\n}\n\nvar dist = distance_1;\n\nvar squaredDistance_1 = squaredDistance;\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x*x + y*y\n}\n\nvar sqrDist = squaredDistance_1;\n\nvar length_1 = length;\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x*x + y*y)\n}\n\nvar len = length_1;\n\nvar squaredLength_1 = squaredLength;\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n    var x = a[0],\n        y = a[1];\n    return x*x + y*y\n}\n\nvar sqrLen = squaredLength_1;\n\nvar negate_1 = negate;\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nfunction negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out\n}\n\nvar cross_1 = cross;\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n    var z = a[0] * b[1] - a[1] * b[0];\n    out[0] = out[1] = 0;\n    out[2] = z;\n    return out\n}\n\nvar lerp_1 = lerp;\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nfunction lerp(out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out\n}\n\nvar random_1 = random;\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nfunction random(out, scale) {\n    scale = scale || 1.0;\n    var r = Math.random() * 2.0 * Math.PI;\n    out[0] = Math.cos(r) * scale;\n    out[1] = Math.sin(r) * scale;\n    return out\n}\n\nvar transformMat2_1 = transformMat2;\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out\n}\n\nvar transformMat2d_1 = transformMat2d;\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2d(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out\n}\n\nvar transformMat3_1 = transformMat3;\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat3(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out\n}\n\nvar transformMat4_1 = transformMat4;\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat4(out, a, m) {\n    var x = a[0], \n        y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out\n}\n\nvar forEach_1 = forEach;\n\nvar vec = create_1();\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nfunction forEach(a, stride, offset, count, fn, arg) {\n    var i, l;\n    if(!stride) {\n        stride = 2;\n    }\n\n    if(!offset) {\n        offset = 0;\n    }\n    \n    if(count) {\n        l = Math.min((count * stride) + offset, a.length);\n    } else {\n        l = a.length;\n    }\n\n    for(i = offset; i < l; i += stride) {\n        vec[0] = a[i];\n        vec[1] = a[i+1];\n        fn(vec, vec, arg);\n        a[i] = vec[0];\n        a[i+1] = vec[1];\n    }\n    \n    return a\n}\n\nvar limit_1 = limit;\n\n/**\n * Limit the magnitude of this vector to the value used for the `max`\n * parameter.\n *\n * @param  {vec2} the vector to limit\n * @param  {Number} max the maximum magnitude for the vector\n * @returns {vec2} out\n */\nfunction limit(out, a, max) {\n  var mSq = a[0] * a[0] + a[1] * a[1];\n\n  if (mSq > max * max) {\n    var n = Math.sqrt(mSq);\n    out[0] = a[0] / n * max;\n    out[1] = a[1] / n * max;\n  } else {\n    out[0] = a[0];\n    out[1] = a[1];\n  }\n\n  return out;\n}\n\nvar glVec2 = {\n  EPSILON: epsilon\n  , create: create_1\n  , clone: clone_1$1\n  , fromValues: fromValues_1\n  , copy: copy_1\n  , set: set_1\n  , equals: equals_1\n  , exactEquals: exactEquals_1\n  , add: add_1\n  , subtract: subtract_1\n  , sub: sub\n  , multiply: multiply_1\n  , mul: mul\n  , divide: divide_1\n  , div: div\n  , inverse: inverse_1\n  , min: min_1\n  , max: max_1\n  , rotate: rotate_1\n  , floor: floor_1\n  , ceil: ceil_1\n  , round: round_1\n  , scale: scale_1\n  , scaleAndAdd: scaleAndAdd_1\n  , distance: distance_1\n  , dist: dist\n  , squaredDistance: squaredDistance_1\n  , sqrDist: sqrDist\n  , length: length_1\n  , len: len\n  , squaredLength: squaredLength_1\n  , sqrLen: sqrLen\n  , negate: negate_1\n  , normalize: normalize_1\n  , dot: dot_1\n  , cross: cross_1\n  , lerp: lerp_1\n  , random: random_1\n  , transformMat2: transformMat2_1\n  , transformMat2d: transformMat2d_1\n  , transformMat3: transformMat3_1\n  , transformMat4: transformMat4_1\n  , forEach: forEach_1\n  , limit: limit_1\n};\nvar glVec2_2 = glVec2.create;\nvar glVec2_5 = glVec2.copy;\nvar glVec2_35 = glVec2.dot;\n\n/**\n * 对于 polyline-normal 的改进\n * 超过阈值，miter 转成 bevel 接头，\n * 要注意 Three.js 中默认 THREE.FrontFaceDirectionCCW\n * @see https://zhuanlan.zhihu.com/p/59541559\n */\n\nfunction extrusions(positions, out, miters, point, normal, scale) {\n  addNext(out, miters, normal, -scale);\n  addNext(out, miters, normal, scale);\n  positions.push.apply(positions, point);\n  positions.push.apply(positions, point);\n}\n\nfunction addNext(out, miters, normal, length) {\n  out.push(normal[0], normal[1], 0);\n  miters.push(length);\n}\n\nfunction lineSegmentDistance(end, start) {\n  var dx = start[0] - end[0];\n  var dy = start[1] - end[1];\n  var dz = start[2] - end[2];\n  return Math.sqrt(dx * dx + dy * dy + dz * dz);\n}\n\nfunction isPointEqual(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\nfunction getNormals(points, closed, indexOffset) {\n  var lineA = [ 0, 0 ];\n  var lineB = [ 0, 0 ];\n  var tangent = [ 0, 0 ];\n  var miter = [ 0, 0 ];\n  var _started = false;\n  var _normal = null;\n  var tmp = glVec2_2();\n  var count = indexOffset || 0;\n  var miterLimit = 3;\n\n  var out = [];\n  var attrPos = [];\n  var attrIndex = [];\n  var miters = [];\n  var attrDistance = [ 0, 0 ];\n  if (closed) {\n    points = points.slice();\n    points.push(points[0]);\n  }\n\n  var total = points.length;\n\n  for (var i = 1; i < total; i++) {\n    var index = count;\n    var last = points[i - 1];\n    var cur = points[i];\n    var next = i < points.length - 1 ? points[i + 1] : null;\n    // 如果当前点和前一点相同，跳过\n    if (isPointEqual(last, cur)) {\n      continue;\n    }\n    if (next) {\n      var nextIndex = i + 1;\n      // 找到不相同的下一点\n      while (next && isPointEqual(cur, next)) {\n        next = nextIndex < points.length - 1 ? points[++nextIndex] : null;\n      }\n    }\n    var lineDistance = lineSegmentDistance(cur, last);\n    var d = lineDistance + attrDistance[attrDistance.length - 1];\n\n    direction(lineA, cur, last);\n\n    if (!_normal) {\n      _normal = [ 0, 0 ];\n      normal(_normal, lineA);\n    }\n\n    if (!_started) {\n      _started = true;\n      extrusions(attrPos, out, miters, last, _normal, 1);\n    }\n\n    attrIndex.push(index + 0, index + 2, index + 1);\n\n    // no miter, simple segment\n    if (!next) {\n      // reset normal\n      normal(_normal, lineA);\n      extrusions(attrPos, out, miters, cur, _normal, 1);\n      attrDistance.push(d, d);\n      attrIndex.push(index + 1, index + 2, index + 3);\n      count += 2;\n    } else {\n      // get unit dir of next line\n      direction(lineB, next, cur);\n\n      // stores tangent & miter\n      var miterLen = computeMiter(tangent, miter, lineA, lineB, 1);\n\n      // get orientation\n      var flip = (glVec2_35(tangent, _normal) < 0) ? -1 : 1;\n      var bevel = Math.abs(miterLen) > miterLimit;\n\n      // 处理前后两条线段重合的情况，这种情况不需要使用任何接头（miter/bevel）。\n      // 理论上这种情况下 miterLen = Infinity，本应通过 isFinite(miterLen) 判断，\n      // 但是 AMap 投影变换后丢失精度，只能通过一个阈值（1000）判断。\n      if (Math.abs(miterLen) > 1000) {\n        extrusions(attrPos, out, miters, cur, _normal, 1);\n        attrIndex.push(index + 1, index + 2, index + 3);\n        attrIndex.push(index + 2, index + 4, index + 3);\n        normal(tmp, lineB);\n        glVec2_5(_normal, tmp); // store normal for next round\n\n        extrusions(attrPos, out, miters, cur, _normal, 1);\n        attrDistance.push(d, d, d, d);\n\n        // the miter is now the normal for our next join\n        count += 4;\n        continue;\n      }\n\n      if (bevel) {\n        miterLen = miterLimit;\n\n        // next two points in our first segment\n        extrusions(attrPos, out, miters, cur, _normal, 1);\n\n        attrIndex.push(index + 1, index + 2, index + 3);\n\n        // now add the bevel triangle\n        attrIndex.push.apply(attrIndex, (flip === 1 ? [ index + 2, index + 4, index + 5 ] : [ index + 4, index + 5, index + 3 ]));\n\n        normal(tmp, lineB);\n        glVec2_5(_normal, tmp); // store normal for next round\n\n        extrusions(attrPos, out, miters, cur, _normal, 1);\n        attrDistance.push(d, d, d, d);\n\n        // the miter is now the normal for our next join\n        count += 4;\n      } else {\n        // next two points in our first segment\n        extrusions(attrPos, out, miters, cur, _normal, 1);\n        attrIndex.push(index + 1, index + 2, index + 3);\n\n        // now add the miter triangles\n        addNext(out, miters, miter, miterLen * -flip);\n        attrPos.push.apply(attrPos, cur);\n        attrIndex.push(index + 2, index + 4, index + 3);\n        attrIndex.push(index + 4, index + 5, index + 6);\n        normal(tmp, lineB);\n        glVec2_5(_normal, tmp); // store normal for next round\n\n        extrusions(attrPos, out, miters, cur, _normal, 1);\n        attrDistance.push(d, d, d, d, d);\n\n        // the miter is now the normal for our next join\n        count += 5;\n      }\n    }\n  }\n\n  return {\n    normals: out,\n    attrIndex: attrIndex,\n    attrPos: attrPos,\n    attrDistance: attrDistance,\n    miters: miters\n  };\n}\n\nvar MeshLineBuffer = /*@__PURE__*/(function (BufferBase) {\n  function MeshLineBuffer () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) MeshLineBuffer.__proto__ = BufferBase;\n  MeshLineBuffer.prototype = Object.create( BufferBase && BufferBase.prototype );\n  MeshLineBuffer.prototype.constructor = MeshLineBuffer;\n\n  MeshLineBuffer.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    layerData.forEach(function (feature) {\n      this$1._calculateLine(feature);\n      delete feature.bufferInfo;\n    });\n    this.hasPattern = layerData.some(function (layer) {\n      return layer.pattern;\n    });\n  };\n  MeshLineBuffer.prototype._initAttributes = function _initAttributes () {\n    BufferBase.prototype._initAttributes.call(this);\n    this.attributes.dashArray = new Float32Array(this.verticesCount);\n    this.attributes.attrDistance = new Float32Array(this.verticesCount);\n    this.attributes.totalDistances = new Float32Array(this.verticesCount);\n    this.attributes.patterns = new Float32Array(this.verticesCount * 2);\n    this.attributes.miters = new Float32Array(this.verticesCount);\n    this.attributes.normals = new Float32Array(this.verticesCount * 3);\n  };\n  MeshLineBuffer.prototype._calculateFeatures = function _calculateFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    // 计算长\n    layerData.forEach(function (feature) {\n      var bufferInfo = {};\n      var coordinates = feature.coordinates;\n      if (Array.isArray(coordinates[0][0])) {\n        coordinates = coordinates[0];\n      }\n      var ref = getNormals(coordinates, false, this$1.verticesCount);\n      var normals = ref.normals;\n      var attrIndex = ref.attrIndex;\n      var attrPos = ref.attrPos;\n      var attrDistance = ref.attrDistance;\n      var miters = ref.miters;\n      bufferInfo.normals = normals;\n      bufferInfo.arrayIndex = attrIndex;\n      bufferInfo.positions = attrPos;\n      bufferInfo.attrDistance = attrDistance;\n      bufferInfo.miters = miters;\n      bufferInfo.verticesOffset = this$1.verticesCount;\n      bufferInfo.indexOffset = this$1.indexCount;\n      this$1.verticesCount += attrPos.length / 3;\n      this$1.indexCount += attrIndex.length;\n      feature.bufferInfo = bufferInfo;\n    });\n  };\n  MeshLineBuffer.prototype._calculateLine = function _calculateLine (feature) {\n    var ref = feature.bufferInfo;\n    var normals = ref.normals;\n    var arrayIndex = ref.arrayIndex;\n    var positions = ref.positions;\n    var attrDistance = ref.attrDistance;\n    var miters = ref.miters;\n    var verticesOffset = ref.verticesOffset;\n    var indexOffset = ref.indexOffset;\n    var ref$1 = this.get('style');\n    var dashArray = ref$1.dashArray; if ( dashArray === void 0 ) dashArray = 200;\n\n    this._encodeArray(feature, positions.length / 3);\n    var totalLength = attrDistance[attrDistance.length - 1];\n    // 增加长度\n    var totalDistances = Array(positions.length / 3).fill(totalLength);\n    // 虚线比例\n    var ratio = dashArray / totalLength;\n    var dashArrays = Array(positions.length / 3).fill(ratio);\n    this.attributes.positions.set(positions, verticesOffset * 3);\n    this.indexArray.set(arrayIndex, indexOffset);\n    this.attributes.miters.set(miters, verticesOffset);\n    this.attributes.normals.set(normals, verticesOffset * 3);\n    this.attributes.attrDistance.set(attrDistance, verticesOffset);\n    this.attributes.totalDistances.set(totalDistances, verticesOffset);\n    this.attributes.dashArray.set(dashArrays, verticesOffset);\n  };\n\n  return MeshLineBuffer;\n}(BufferBase));\n\nvar ArcLineBuffer = /*@__PURE__*/(function (BufferBase) {\n  function ArcLineBuffer () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) ArcLineBuffer.__proto__ = BufferBase;\n  ArcLineBuffer.prototype = Object.create( BufferBase && BufferBase.prototype );\n  ArcLineBuffer.prototype.constructor = ArcLineBuffer;\n\n  ArcLineBuffer.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    layerData.forEach(function (feature, index) {\n      this$1._calculateArc(feature, index);\n    });\n    this.hasPattern = layerData.some(function (layer) {\n      return layer.pattern;\n    });\n  };\n  ArcLineBuffer.prototype._initAttributes = function _initAttributes () {\n    BufferBase.prototype._initAttributes.call(this);\n    this.attributes.instanceArray = new Float32Array(this.verticesCount * 4);\n  };\n  ArcLineBuffer.prototype._calculateArc = function _calculateArc (feature, offset) {\n    var this$1 = this;\n\n    var ref = this.get('style');\n    var segNum = ref.segNum; if ( segNum === void 0 ) segNum = 30;\n    var coordinates = feature.coordinates;\n    var loop = function ( i ) {\n      this$1.attributes.positions.set([ i, 1, i, i, -1, i ], offset * segNum * 6 + i * 6);\n      this$1.attributes.instanceArray.set([ coordinates[0][0], coordinates[0][1], coordinates[1][0], coordinates[1][1],\n        coordinates[0][0], coordinates[0][1], coordinates[1][0], coordinates[1][1] ], offset * segNum * 8 + i * 8);\n      if (i !== segNum - 1) {\n        var indexArray = [ 0, 1, 2, 1, 3, 2 ].map(function (v) { return offset * segNum * 2 + i * 2 + v; });\n        this$1.indexArray.set(indexArray, offset * segNum * 6 + i * 6 - offset * 6);\n      }\n    };\n\n    for (var i = 0; i < segNum; i++) loop( i );\n    feature.bufferInfo = { verticesOffset: offset * segNum * 2 };\n    this._encodeArray(feature, segNum * 2);\n\n  };\n  ArcLineBuffer.prototype._calculateFeatures = function _calculateFeatures () {\n    var layerData = this.get('layerData');\n    var segNum = this.get('segNum') || 30;\n    this.verticesCount = layerData.length * segNum * 2;\n    this.indexCount = this.verticesCount * 3 - layerData.length * 6;\n  };\n\n  return ArcLineBuffer;\n}(BufferBase));\n\n/**\n * instantcebufferGeometry的组装方式\n */\n\nvar Hexagon3D = /*@__PURE__*/(function (BufferBase) {\n  function Hexagon3D () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) Hexagon3D.__proto__ = BufferBase;\n  Hexagon3D.prototype = Object.create( BufferBase && BufferBase.prototype );\n  Hexagon3D.prototype.constructor = Hexagon3D;\n\n  Hexagon3D.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    this._offset = 0;\n\n    layerData.forEach(function (feature) {\n      this$1._calculateFill(feature);\n    });\n  };\n  Hexagon3D.prototype._calculateFeatures = function _calculateFeatures () {\n    var shape = this.get('shapeType');\n    var hexgonFill = this.getShape(shape);\n    var layerData = this.get('layerData');\n    this.verticesCount = layerData.length;\n    this.indexCount = 0;\n    this.instanceGeometry = hexgonFill;\n  };\n  Hexagon3D.prototype._calculateFill = function _calculateFill (feature) {\n\n    feature.bufferInfo = { verticesOffset: this._offset };\n    var coordinates = feature.coordinates;\n    this._encodeArray(feature, 1);\n    this.attributes.positions.set(coordinates, this._offset * 3);\n    this._offset++;\n  };\n  Hexagon3D.prototype.getShape = function getShape (shape) {\n    var pointShape = Global.pointShape;\n    if (pointShape['3d'].indexOf(shape) !== -1) { return extrude_Polygon([ polygonPath$1[shape]() ]); }\n    if (pointShape['2d'].indexOf(shape) !== -1) { return fillPolygon([ polygonPath$1[shape]() ]); }\n    return fillPolygon([ polygonPath$1[shape]() ]);\n  };\n\n  return Hexagon3D;\n}(BufferBase));\n\n/**\n * bufferGeometry的顶点组装方式\n */\nvar ExtrudeBuffer = /*@__PURE__*/(function (BufferBase) {\n  function ExtrudeBuffer () {\n    BufferBase.apply(this, arguments);\n  }\n\n  if ( BufferBase ) ExtrudeBuffer.__proto__ = BufferBase;\n  ExtrudeBuffer.prototype = Object.create( BufferBase && BufferBase.prototype );\n  ExtrudeBuffer.prototype.constructor = ExtrudeBuffer;\n\n  ExtrudeBuffer.prototype._buildFeatures = function _buildFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    this._offset = 0;\n    this._indexOffset = 0;\n\n    layerData.forEach(function (feature) {\n      this$1._calculateFill(feature);\n    });\n  };\n  ExtrudeBuffer.prototype._initAttributes = function _initAttributes () {\n    BufferBase.prototype._initAttributes.call(this);\n    this.attributes.miters = new Float32Array(this.verticesCount * 3);\n    this.attributes.normals = new Float32Array(this.verticesCount * 3);\n    this.attributes.sizes = new Float32Array(this.verticesCount * 3);\n  };\n  ExtrudeBuffer.prototype._calculateFeatures = function _calculateFeatures () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    this.geometryMap = {};\n    layerData.forEach(function (feature) {\n      var shape = feature.shape;\n      var ref = this$1.getShape(shape);\n      var positions = ref.positions;\n      var indexArray = ref.indexArray;\n      this$1.verticesCount += positions.length / 3;\n      this$1.indexCount += indexArray.length;\n    });\n  };\n  ExtrudeBuffer.prototype._calcultateGeometry = function _calcultateGeometry () {\n    var shape = this.get('shapeType');\n    var hexgonFill = this.getShapeFunction(shape)([ this._getPoints(6) ]);\n    this.instanceGeometry = hexgonFill;\n  };\n  ExtrudeBuffer.prototype._calculateFill = function _calculateFill (feature) {\n    var this$1 = this;\n\n\n    feature.bufferInfo = { verticesOffset: this._offset };\n    var coordinates = feature.coordinates;\n    var shape = feature.shape;\n    var instanceGeometry = this.getShape(shape);\n    var numPoint = instanceGeometry.positions.length / 3;\n    this._encodeArray(feature, numPoint);\n    this.attributes.miters.set(instanceGeometry.positions, this._offset * 3);\n    var indexArray = instanceGeometry.indexArray.map(function (v) { return v + this$1._offset; });\n    this.indexArray.set(indexArray, this._indexOffset);\n    if (instanceGeometry.normals) {\n      this.attributes.normals.set(instanceGeometry.normals, this._offset * 3);\n    }\n    var position = [];\n    for (var i = 0; i < numPoint; i++) {\n      position.push.apply(position, coordinates);\n    }\n    this.attributes.positions.set(position, this._offset * 3);\n    this._offset += numPoint;\n    this._indexOffset += indexArray.length;\n  };\n  ExtrudeBuffer.prototype._getPoints = function _getPoints (num) {\n    return polygonPath(num, 1);\n  };\n  ExtrudeBuffer.prototype.getShape = function getShape (shape) {\n    var pointShape = Global.pointShape;\n\n    if (this.geometryMap[shape]) {\n      return this.geometryMap[shape];\n    }\n    var geometry = null;\n    if (pointShape['3d'].indexOf(shape) !== -1) {\n      geometry = extrude_Polygon([ polygonPath$1[shape]() ]);\n    } else if (pointShape['2d'].indexOf(shape) !== -1) {\n      geometry = fillPolygon([ polygonPath$1[shape]() ]);\n    } else {\n      geometry = fillPolygon([ polygonPath$1[shape]() ]);\n    }\n    this.geometryMap[shape] = geometry;\n    return geometry;\n  };\n\n  return ExtrudeBuffer;\n}(BufferBase));\n\nvar Buffer_MAP = {};\nvar getBuffer = function (bufferType, shapeType) {\n  return Buffer_MAP[bufferType.toLowerCase()] && Buffer_MAP[bufferType.toLowerCase()][shapeType.toLowerCase()];\n};\nvar registerBuffer = function (bufferType, shapeType, render) {\n  if (getBuffer(bufferType, shapeType)) {\n    throw new Error((\"Render shapeType '\" + shapeType + \"' existed.\"));\n  }\n  // 存储到 map 中\n  if (!Buffer_MAP[bufferType.toLowerCase()]) { Buffer_MAP[bufferType.toLowerCase()] = {}; }\n  Buffer_MAP[bufferType.toLowerCase()][shapeType.toLowerCase()] = render;\n};\n\n// Point\nregisterBuffer('point', 'fill', PointFillBuffer);\n\n// polygon\nregisterBuffer('polygon', 'fill', FillBuffer);\nregisterBuffer('polygon', 'extrude', ExtrudeButffer);\nregisterBuffer('polygon', 'line', LineBuffer);\n\n// line\nregisterBuffer('line', 'line', MeshLineBuffer);\nregisterBuffer('line', 'arc', ArcLineBuffer);\nregisterBuffer('line', 'greatCircle', ArcLineBuffer);\n\n// heatmap\n\n// registerBuffer('heatmap', 'square', Grid3D);\n// registerBuffer('heatmap', 'squareColumn', Grid3D);\nregisterBuffer('heatmap', 'shape', Hexagon3D);\nregisterBuffer('point', 'shape', Hexagon3D);\n// 3D Shape\n\nregisterBuffer('shape', 'extrude', ExtrudeBuffer);\n\nfunction serialize(input, transferables) {\n  if (input === null ||\n    input === undefined ||\n    typeof input === 'boolean' ||\n    typeof input === 'number' ||\n    typeof input === 'string' ||\n    input instanceof Boolean ||\n    input instanceof Number ||\n    input instanceof String ||\n    input instanceof Date ||\n    input instanceof RegExp) {\n    return input;\n  }\n  if (input instanceof ArrayBuffer) {\n    if (transferables) {\n      transferables.push(input);\n    }\n    return input;\n  }\n  if (ArrayBuffer.isView(input)) {\n    var view = input;\n    if (transferables) {\n      transferables.push(view.buffer);\n    }\n    return view;\n  }\n\n  if (input instanceof ImageData) {\n    if (transferables) {\n      transferables.push(input.data.buffer);\n    }\n    return input;\n  }\n  if (Array.isArray(input)) {\n    var serialized = [];\n    for (var i = 0, list = input; i < list.length; i += 1) {\n      var item = list[i];\n\n      serialized.push(serialize(item, transferables));\n    }\n    return serialized;\n  }\n  if (typeof input === 'object') {\n    var properties = {};\n    for (var key in input) {\n      if (!input.hasOwnProperty(key)) {\n        continue;\n      }\n      var property = input[key];\n      properties[key] = serialize(property, transferables);\n    }\n    return properties;\n  }\n\n}\n\nfunction bindAll(fns, context) {\n  fns.forEach(function (fn) {\n    if (!context[fn]) { return; }\n    context[fn] = context[fn].bind(context);\n  });\n}\n\nvar Actor = function Actor(target, parent, mapId) {\n  this.target = target;\n  this.parent = parent;\n  this.mapId = mapId;\n  this.callbacks = {};\n  this.callbackID = 0;\n  bindAll([ 'receive' ], this);\n  this.target.addEventListener('message', this.receive, false);\n\n};\nActor.prototype.send = function send (type, data, callback, targetMapId) {\n    var this$1 = this;\n\n  var id = callback ? ((this.mapId) + \"_\" + (this.callbackID++)) : null;\n  if (callback) { this.callbacks[id] = callback; }\n  var buffer = [];\n  this.target.postMessage({\n    targetMapId: targetMapId,\n    sourceMapId: this.mapId,\n    type: type,\n    id: String(id),\n    data: data\n  }, buffer);\n  if (callback) {\n    return {\n      cancel: function () { return this$1.target.postMessage({\n        targetMapId: targetMapId,\n        sourceMapId: this$1.mapId,\n        type: '<cancel>',\n        id: String(id)\n      }); }\n    };\n  }\n};\nActor.prototype.receive = function receive (message) {\n    var this$1 = this;\n\n  // TODO 处理中断Worker\n  var data = message.data;\n  var id = data.id;\n  var callback;\n  var done = function (err, data) {\n    delete this$1.callbacks[id];\n    var buffers = [];\n    this$1.target.postMessage({ // 发送结果数据\n      sourceMapId: this$1.mapId,\n      type: '<response>',\n      id: String(id),\n      error: err ? JSON.stringify(err) : null,\n      data: serialize(data, buffers)\n    }, buffers);\n  };\n  if (data.type === '<response>' || data.type === '<cancel>') {\n    callback = this.callbacks[data.id];\n    delete this.callbacks[data.id];\n    if (callback && data.error) {\n      callback(data.error);\n    } else if (callback) {\n      callback(null, data.data);\n    }\n\n  } else if (typeof data.id !== 'undefined' && this.parent[data.type]) { // loadTile\n    this.parent[data.type](data.sourceMapId, data.data, done);\n\n  } else if (typeof data.id !== 'undefined' && this.parent.getWorkerSource) {\n    var keys = data.type.split('.');\n    var params = data.data;\n    var workerSource = (this.parent).getWorkerSource(data.sourceMapId, keys[0], params.source);\n    workerSource[keys[1]](params, done);\n  } else {\n    this.parent[data.type](data.data);\n  }\n\n};\nActor.prototype.remove = function remove () {\n  this.target.removeEventListener('message', this.receive, false);\n};\n\nexports.Actor = Actor;\nexports.AdditiveBlending = AdditiveBlending;\nexports.AlphaFormat = AlphaFormat;\nexports.Attr = AttributeBase;\nexports.Base = Base;\nexports.BufferGeometry = BufferGeometry;\nexports.CanvasTexture = CanvasTexture;\nexports.ClampToEdgeWrapping = ClampToEdgeWrapping;\nexports.Clock = Clock;\nexports.Color = Color;\nexports.ColorUtil = ColorUtil;\nexports.DataTexture = DataTexture;\nexports.DoubleSide = DoubleSide;\nexports.EventEmitter = EventEmitter;\nexports.Float32BufferAttribute = Float32BufferAttribute$1;\nexports.FloatType = FloatType;\nexports.Global = Global;\nexports.Group = Group;\nexports.InstancedBufferAttribute = InstancedBufferAttribute;\nexports.InstancedBufferGeometry = InstancedBufferGeometry;\nexports.LineSegments = LineSegments;\nexports.LinearFilter = LinearFilter;\nexports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\nexports.LuminanceFormat = LuminanceFormat;\nexports.Matrix4 = Matrix4;\nexports.Mesh = Mesh;\nexports.NearestFilter = NearestFilter;\nexports.NormalBlending = NormalBlending;\nexports.Object3D = Object3D;\nexports.OrthographicCamera = OrthographicCamera;\nexports.PBF = pbf;\nexports.PerspectiveCamera = PerspectiveCamera;\nexports.PlaneBufferGeometry = PlaneBufferGeometry;\nexports.Points = Points;\nexports.RGBAFormat = RGBAFormat;\nexports.ScaleController = ScaleController;\nexports.Scene = Scene;\nexports.ShaderMaterial = ShaderMaterial;\nexports.Source = Source;\nexports.THREE = THREE$1;\nexports.Texture = Texture;\nexports.Uint32BufferAttribute = Uint32BufferAttribute;\nexports.UniformsUtils = UniformsUtils;\nexports.UnsignedByteType = UnsignedByteType;\nexports.Util = Util;\nexports.Vector4 = Vector4;\nexports.VectorTile = VectorTile$1;\nexports.WebGLRenderTarget = WebGLRenderTarget;\nexports.WebGLRenderer = WebGLRenderer;\nexports.bindAll = bindAll;\nexports.createCommonjsModule = createCommonjsModule;\nexports.flatten = flatten$1;\nexports.getArrayBuffer = getArrayBuffer;\nexports.getBuffer = getBuffer;\nexports.getImage = getImage;\nexports.getMap = getMap;\nexports.getNormals = getNormals;\nexports.isString = isString$1;\nexports.lib = lib;\nexports.lib_29 = lib_29;\nexports.lib_3 = lib_3;\nexports.lib_51 = lib_51;\nexports.lib_73 = lib_73;\nexports.lib_87 = lib_87;\nexports.lib_91 = lib_91;\nexports.merge = merge;\nexports.polygonPath = polygonPath$1;\nexports.registerParser = registerParser;\nexports.registerTransform = registerTransform;\nexports.uniq = uniq;\nexports.unwrapExports = unwrapExports;\n\n});\n\ndefine(['./shared'], function (actor) { 'use strict';\n\nvar TileMapping = /*@__PURE__*/(function (Base) {\n  function TileMapping(source, cfg) {\n    Base.call(this, cfg);\n    this.source = source;\n    this._init();\n  }\n\n  if ( Base ) TileMapping.__proto__ = Base;\n  TileMapping.prototype = Object.create( Base && Base.prototype );\n  TileMapping.prototype.constructor = TileMapping;\n  TileMapping.prototype._init = function _init () {\n    this._initControllers();\n    this._initTileAttrs();\n    this._mapping();\n  };\n  TileMapping.prototype.update = function update () {\n    this.set('scales', {});\n    this._initTileAttrs();\n    this._updateMaping();\n  };\n  TileMapping.prototype._initControllers = function _initControllers () {\n    var scalesOption = this.get('scaleOptions');\n    var scaleController = new actor.ScaleController({\n      defs: Object.assign({}, scalesOption)\n    });\n    this.set('scaleController', scaleController);\n  };\n  TileMapping.prototype._createScale = function _createScale (field) {\n    var scales = this.get('scales');\n    this._initControllers(); // scale更新\n    var scale = scales[field];\n    if (!scale) {\n      scale = this.createScale(field);\n      scales[field] = scale;\n    }\n    return scale;\n  };\n  TileMapping.prototype.createScale = function createScale (field) {\n    var data = this.source.data.dataArray;\n    var scales = this.get('scales');\n    var scale = scales[field];\n    var scaleController = this.get('scaleController');\n    if (!scale) {\n      scale = scaleController.createScale(field, data);\n      scales[field] = scale;\n    }\n    return scale;\n  };\n  // 获取属性映射的值\n  TileMapping.prototype._getAttrValues = function _getAttrValues (attr, record) {\n    var scales = attr.scales;\n    var params = [];\n    for (var i = 0; i < scales.length; i++) {\n      var scale = scales[i];\n      var field = scale.field;\n      if (scale.type === 'identity') {\n        params.push(scale.value);\n      } else {\n        params.push(record[field]);\n      }\n    }\n    var indexZoom = params.indexOf('zoom');\n    indexZoom !== -1 ? params[indexZoom] = attr.zoom : null;\n    var values = attr.mapping.apply(attr, params);\n    return values;\n  };\n  TileMapping.prototype._mapping = function _mapping () {\n    var attrs = this.get('attrs');\n    var mappedData = [];\n    var data = this.source.data.dataArray;\n    for (var i = 0; i < data.length; i++) {\n      var record = data[i];\n      var newRecord = {};\n      newRecord.id = data[i]._id;\n      for (var k in attrs) {\n        if (attrs.hasOwnProperty(k)) {\n          var attr = attrs[k];\n          var names = attr.names;\n          var values = this._getAttrValues(attr, record);\n          if (names.length > 1) { // position 之类的生成多个字段的属性\n            for (var j = 0; j < values.length; j++) {\n              var val = values[j];\n              var name = names[j];\n              newRecord[name] = (actor.Util.isArray(val) && val.length === 1) ? val[0] : val; // 只有一个值时返回第一个属性值\n            }\n          } else {\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n\n          }\n        }\n      }\n      newRecord.coordinates = record.coordinates;\n      mappedData.push(newRecord);\n    }\n    // 通过透明度过滤数据\n    if (attrs.hasOwnProperty('filter')) {\n      mappedData.forEach(function (item) {\n        if (item.filter === false) {\n          (item.color[3] = 0);\n          item.id = -item.id;\n        }\n      });\n    }\n    this.layerData = mappedData;\n  };\n\n  TileMapping.prototype._updateMaping = function _updateMaping () {\n    var attrs = this.get('attrs');\n\n    var data = this.source.data.dataArray;\n    var layerData = this.layerData;\n    for (var i = 0; i < data.length; i++) {\n      var record = data[i];\n      for (var attrName in attrs) {\n        if (attrs.hasOwnProperty(attrName) && attrs[attrName].neadUpdate) {\n          var attr = attrs[attrName];\n          var names = attr.names;\n          var values = this._getAttrValues(attr, record);\n          if (names.length > 1) { // position 之类的生成多个字段的属性\n            for (var j = 0; j < values.length; j++) {\n              var val = values[j];\n              var name = names[j];\n              layerData[i][name] = (actor.Util.isArray(val) && val.length === 1) ? val[0] : val; // 只有一个值时返回第一个属性值\n            }\n          } else {\n            layerData[i][names[0]] = values.length === 1 ? values[0] : values;\n\n          }\n          attr.neadUpdate = true;\n        }\n      }\n    }\n  };\n\n\n  TileMapping.prototype._initTileAttrs = function _initTileAttrs () {\n    var attrOptions = this.get('attrOptions');\n    for (var type in attrOptions) {\n      if (attrOptions.hasOwnProperty(type)) {\n        this._updateTileAttr(type);\n      }\n    }\n  };\n  TileMapping.prototype._updateTileAttr = function _updateTileAttr (type) {\n    var self = this;\n    var attrs = this.get('attrs');\n    var attrOptions = this.get('attrOptions');\n    var option = attrOptions[type];\n    option.neadUpdate = true;\n    var className = actor.Util.upperFirst(type);\n    var fields = this._parseFields(option.field);\n    var scales = [];\n    for (var i = 0; i < fields.length; i++) {\n      var field = fields[i];\n      var scale = self._createScale(field);\n\n      if (type === 'color' && actor.Util.isNil(option.values)) { // 设置 color 的默认色值\n        option.values = actor.Global.colors;\n      }\n      scales.push(scale);\n    }\n    option.scales = scales;\n    var attr = new actor.Attr[className](option);\n    attrs[type] = attr;\n  };\n  TileMapping.prototype._parseFields = function _parseFields (field) {\n    if (actor.Util.isArray(field)) {\n      return field;\n    }\n    if (actor.Util.isString(field)) {\n      return field.split('*');\n    }\n    return [ field ];\n  };\n\n  return TileMapping;\n}(actor.Base));\n\nvar pointShape = actor.Global.pointShape;\n\nvar WorkerTile = function WorkerTile(params) {\n  this.tileID = params.id;\n  this.source = params.sourceID;\n  this.params = params;\n};\nWorkerTile.prototype.parse = function parse (data, layerstyle, actor$1, callback) {\n  this.status = 'parsing';\n  this.data = data;\n  var sourceStyle = this._layerStyleGroupBySourceID(layerstyle)[this.source];\n  var tile = this.tileID.split('_');\n  var sourceLayerData = {};\n  // 数据源解析\n  for (var sourcelayer in sourceStyle) { // sourceLayer\n    var vectorLayer = data.layers[sourcelayer];\n    if (vectorLayer === undefined) {\n      return null;\n    }\n    var style = sourceStyle[sourcelayer][0];\n    style.sourceOption.parser.type = 'vector';\n    style.sourceOption.parser.tile = tile;\n    var tileSource = new actor.Source(Object.assign({}, style.sourceOption,\n      {mapType: style.mapType,\n      projected: true,\n      data: data.layers[sourcelayer]}));\n    for (var i = 0; i < sourceStyle[sourcelayer].length; i++) {\n      var style$1 = sourceStyle[sourcelayer][i];\n      var tileMapping = new TileMapping(tileSource, style$1);\n      if (style$1.type === 'point') {\n        style$1.shape = this._getPointShape(tileMapping);\n      }\n      var geometryBuffer = actor.getBuffer(style$1.type, style$1.shape);\n      var buffer = new geometryBuffer({\n        layerData: tileMapping.layerData,\n        shape: style$1.shape,\n        style: style$1\n      });\n      sourceLayerData[style$1.layerId] = {\n        buffer: {\n          attributes: buffer.attributes,\n          indexArray: buffer.indexArray\n        },\n        // layerData: tileMapping.layerData,\n        // sourceData: tileSource.data,\n        shape: style$1.shape,\n        layerId: style$1.layerId,\n        sourcelayer: sourcelayer,\n        tileId: this.tileID,\n        featureKey: tileSource.data.featureKeys.slice(0)\n      };\n    }\n  }\n  this.status = 'done';\n\n  callback(null, Object.assign({}, sourceLayerData));\n};\nWorkerTile.prototype._layerStyleGroupBySourceID = function _layerStyleGroupBySourceID (layerStyles) {\n  var sourceStyles = {};\n  // 支持VectorLayer\n  for (var layerId in layerStyles) {\n    var sourceID = layerStyles[layerId].sourceOption.id;\n    var sourcelayer = layerStyles[layerId].sourceOption.parser.sourceLayer;\n    if (!sourceStyles[sourceID]) { sourceStyles[sourceID] = {}; }\n    if (!sourceStyles[sourceID][sourcelayer]) { sourceStyles[sourceID][sourcelayer] = []; }\n    sourceStyles[sourceID][sourcelayer].push(layerStyles[layerId]);\n  }\n  return sourceStyles;\n};\nWorkerTile.prototype._getPointShape = function _getPointShape (tileMapping) {\n  var shape = null;\n  if (!tileMapping.layerData[0].hasOwnProperty('shape')) {\n    return 'normal';\n  }\n  for (var i = 0; i < tileMapping.layerData.length; i++) {\n    shape = tileMapping.layerData[i].shape;\n    if (shape !== undefined) {\n      break;\n    }\n  }\n\n  // 2D circle 特殊处理\n  if (pointShape['2d'].indexOf(shape) !== -1) {\n    return 'fill';\n  } else if (pointShape['3d'].indexOf(shape) !== -1) {\n    return 'extrude';\n  }\n  // TODO 图片支持\n  //else if (this.scene.image.imagesIds.indexOf(shape) !== -1) {\n  // return 'image';\n  // }\n  return 'text';\n};\n\n// import WorkerTile from '../worker/workerTile';\n\nfunction loadVectorTile(params, callback) {\n  var request = actor.getArrayBuffer({ url: params.url }, function (err, data) {\n    if (err) {\n      callback(err);\n    } else if (data) {\n      callback(null, {\n        vectorTile: new actor.VectorTile(new actor.PBF(data.data)),\n        rawData: data.data\n      });\n    }\n  });\n  return function () {\n    request.abort();\n    callback();\n  };\n}\nvar VectorTileWorkerSource = function VectorTileWorkerSource(actor, layerStyle, loadVectorData) {\n  this.actor = actor;\n  this.layerStyle = layerStyle;\n  this.loadVectorData = loadVectorData || loadVectorTile;\n  this.loaded = {};\n  this.loading = {};\n};\nVectorTileWorkerSource.prototype.loadTile = function loadTile (params, callback) {\n    var this$1 = this;\n\n  var uid = params.id;\n  if (!this.loading) {\n    this.loading = {};\n  }\n  var workerTile = this.loading[uid] = new WorkerTile(params);\n  workerTile.abort = this.loadVectorData(params, function (err, response) {\n    if (err || !response) {\n      workerTile.status = 'done';\n      this$1.loaded[uid] = workerTile;\n      return callback(err);\n    }\n    workerTile.vectorTile = response.vectorTile;\n    var rawTileData = response.rawData;\n    workerTile.parse(response.vectorTile, this$1.layerStyle, this$1.actor, function (err, result) {\n      if (err || !result) { return callback(err); }\n      // Transferring a copy of rawTileData because the worker needs to retain its copy.\n      callback(null, {\n        buffer: result,\n        rawTileData: rawTileData.slice(0)\n      });\n    });\n\n    this$1.loaded = this$1.loaded || {};\n    this$1.loaded[uid] = workerTile;\n  });\n\n\n};\nVectorTileWorkerSource.prototype.abortTile = function abortTile (params, callback) {\n  var loading = this.loading;\n  var uid = params.id;\n  if (loading && loading[uid] && loading[uid].abort) {\n    loading[uid].abort();\n    delete loading[uid];\n  }\n  callback();\n};\nVectorTileWorkerSource.prototype.reloadTile = function reloadTile (params, callback) { // 重新加载 tile\n  var loaded = this.loaded,\n    uid = params.id,\n    vtSource = this;\n  if (loaded && loaded[uid]) {\n    var workerTile = loaded[uid];\n    var done = function (err, data) {\n      var reloadCallback = workerTile.reloadCallback;\n      if (reloadCallback) {\n        delete workerTile.reloadCallback;\n        workerTile.parse(workerTile.vectorTile, vtSource.layerStyle, vtSource.actor, reloadCallback);\n      }\n      callback(err, data);\n    };\n\n    if (workerTile.status === 'parsing') {\n      workerTile.reloadCallback = done;\n    } else if (workerTile.status === 'done') {\n      // if there was no vector tile data on the initial load, don't try and re-parse tile\n      if (workerTile.vectorTile) {\n        workerTile.parse(workerTile.vectorTile, this.layerIndex, this.actor, done);\n      } else {\n        done();\n      }\n    }\n  }\n};\nVectorTileWorkerSource.prototype.removeTile = function removeTile (params, callback) {\n  var loaded = this.loaded,\n    uid = params.id;\n  if (loaded && loaded[uid]) {\n    delete loaded[uid];\n  }\n  callback();\n};\nVectorTileWorkerSource.prototype.unloadTile = function unloadTile () {\n\n};\nVectorTileWorkerSource.prototype.hasTransition = function hasTransition () {\n\n};\n\n// 统一管理workerSource 实例化\nvar Worker = function Worker(self) {\n  var this$1 = this;\n\n  this.self = self;\n  this.actor = new actor.Actor(self, this);\n  this.workerSourceTypes = {\n    vector: VectorTileWorkerSource\n  };\n  this.workerSources = {};\n  this.self.registerWorkerSource = function (name, WorkerSource) {\n    if (this$1.workerSourceTypes[name]) {\n      throw new Error((\"Worker source with name \\\"\" + name + \"\\\" already registered.\"));\n    }\n    this$1.workerSourceTypes[name] = WorkerSource;\n  };\n  this.layerStyles = {};\n};\n\nWorker.prototype.loadTile = function loadTile (mapId, params, callback) {\n  this.getWorkerSource(mapId, params.type, params.sourceID).loadTile(params, callback);\n};\nWorker.prototype.abortTile = function abortTile (mapId, params, callback) {\n  this.getWorkerSource(mapId, params.type, params.sourceID).abortTile(params, callback);\n};\nWorker.prototype.removeTile = function removeTile (mapId, params, callback) {\n  this.getWorkerSource(mapId, params.type, params.sourceID).removeTile(params, callback);\n};\nWorker.prototype.setLayers = function setLayers (mapId, layercfgs, callback) {\n  this.layerStyles[mapId] = layercfgs; // mapid layerID\n  if (this.workerSources[mapId]) {\n    for (var sourceId in this.workerSources[mapId].vector) {\n      this.workerSources[mapId].vector[sourceId].layerStyle = layercfgs;\n    }\n  }\n  callback();\n};\n// updateLayers(id, params, callback) {\n\n// }\n/**\n * 获取workerSource\n * @param {string} mapId WorkerPool Id\n * @param {string} type 瓦片类型 目前支持Vector\n * @param {string} source souce ID\n * @return {*} WorkerSource\n */\nWorker.prototype.getWorkerSource = function getWorkerSource (mapId, type, source) {\n    var this$1 = this;\n\n  if (!this.workerSources[mapId]) {\n    this.workerSources[mapId] = {};\n  }\n  if (!this.workerSources[mapId][type]) {\n    this.workerSources[mapId][type] = {};\n  }\n  if (!this.workerSources[mapId][type][source]) {\n    // use a wrapped actor so that we can attach a target mapId param\n    // to any messages invoked by the WorkerSource\n    var actor = {\n      send: function (type, data, callback) {\n        this$1.actor.send(type, data, callback, mapId);\n      }\n    };\n    this.workerSources[mapId][type][source] = new this.workerSourceTypes[type](actor, this.layerStyles[mapId]);\n  }\n  return this.workerSources[mapId][type][source];\n};\nself.worker = new Worker(self);\n\nreturn Worker;\n\n});\n\ndefine(['./shared'], function (actor) { 'use strict';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) { ref = {}; }\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".l7-marker {\\n\\tposition: absolute !important;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tz-index: 5;\\n}\\n.l7-popup-anchor-top,\\n.l7-popup-anchor-top-left,\\n.l7-popup-anchor-top-right {\\n    -webkit-flex-direction: column;\\n    flex-direction: column;\\n}\\n\\n.l7-popup-anchor-bottom,\\n.l7-popup-anchor-bottom-left,\\n.l7-popup-anchor-bottom-right {\\n    -webkit-flex-direction: column-reverse;\\n    flex-direction: column-reverse;\\n}\\n\\n.l7-popup-anchor-left {\\n    -webkit-flex-direction: row;\\n    flex-direction: row;\\n}\\n\\n.l7-popup-anchor-right {\\n    -webkit-flex-direction: row-reverse;\\n    flex-direction: row-reverse;\\n}\\n.l7-popup {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  display: -webkit-flex;\\n  display: flex;\\n  will-change: transform;\\n  pointer-events: none;\\n  z-index: 5;\\n}\\n.l7-popup-tip {\\n  width: 0;\\n  height: 0;\\n  border: 10px solid transparent;\\n  z-index: 1;\\n}\\n.l7-popup-anchor-top .l7-popup-tip {\\n\\t-webkit-align-self: center;\\n\\talign-self: center;\\n\\tborder-top: none;\\n\\tborder-bottom-color: #fff;\\n}\\n\\n.l7-popup-anchor-top-left .l7-popup-tip {\\n\\t-webkit-align-self: flex-start;\\n\\talign-self: flex-start;\\n\\tborder-top: none;\\n\\tborder-left: none;\\n\\tborder-bottom-color: #fff;\\n}\\n\\n.l7-popup-anchor-top-right .l7-popup-tip {\\n\\t-webkit-align-self: flex-end;\\n\\talign-self: flex-end;\\n\\tborder-top: none;\\n\\tborder-right: none;\\n\\tborder-bottom-color: #fff;\\n}\\n\\n.l7-popup-anchor-bottom .l7-popup-tip {\\n\\t-webkit-align-self: center;\\n\\talign-self: center;\\n\\tborder-bottom: none;\\n\\tborder-top-color: #fff;\\n}\\n\\n.l7-popup-anchor-bottom-left .l7-popup-tip {\\n\\t-webkit-align-self: flex-start;\\n\\talign-self: flex-start;\\n\\tborder-bottom: none;\\n\\tborder-left: none;\\n\\tborder-top-color: #fff;\\n}\\n\\n.l7-popup-anchor-bottom-right .l7-popup-tip {\\n\\t-webkit-align-self: flex-end;\\n\\talign-self: flex-end;\\n\\tborder-bottom: none;\\n\\tborder-right: none;\\n\\tborder-top-color: #fff;\\n}\\n\\n.l7-popup-anchor-left .l7-popup-tip {\\n\\t-webkit-align-self: center;\\n\\talign-self: center;\\n\\tborder-left: none;\\n\\tborder-right-color: #fff;\\n}\\n\\n.l7-popup-anchor-right .l7-popup-tip {\\n\\t-webkit-align-self: center;\\n\\talign-self: center;\\n\\tborder-right: none;\\n\\tborder-left-color: #fff;\\n}\\n\\n.l7-popup-close-button {\\n\\tposition: absolute;\\n\\tright: 0;\\n\\ttop: 0;\\n\\tborder: 0;\\n\\tpadding: 0;\\n\\tfont-size: 25px;\\n\\tline-height: 20px;\\n\\tborder-radius: 0 3px 0 0;\\n\\tcursor: pointer;\\n\\tbackground-color: transparent;\\n}\\n\\n.l7-popup-close-button:hover {\\n\\tbackground-color: rgba(0, 0, 0, 0.05);\\n}\\n\\n.l7-popup-content {\\n\\tposition: relative;\\n\\tbackground: #fff;\\n\\tborder-radius: 3px;\\n\\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\\n\\tpadding: 10px 10px 15px;\\n\\tpointer-events: auto;\\n}\\n\\n.l7-popup-anchor-top-left .l7-popup-content {\\n\\tborder-top-left-radius: 0;\\n}\\n\\n.l7-popup-anchor-top-right .l7-popup-content {\\n\\tborder-top-right-radius: 0;\\n}\\n\\n.l7-popup-anchor-bottom-left .l7-popup-content {\\n\\tborder-bottom-left-radius: 0;\\n}\\n\\n.l7-popup-anchor-bottom-right .l7-popup-content {\\n\\tborder-bottom-right-radius: 0;\\n}\\n\\n.l7-popup-track-pointer {\\n\\tdisplay: none;\\n}\\n\\n.l7-popup-track-pointer * {\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n\\n.l7-map:hover .l7-popup-track-pointer {\\n\\tdisplay: flex;\\n}\\n\\n.l7-map:active .l7-popup-track-pointer {\\n\\tdisplay: none;\\n}\\n\\n.l7-popup-close-button {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  border: 0;\\n  border-radius: 0 3px 0 0;\\n  cursor: pointer;\\n  background-color: transparent;\\n}\\n\\n.l7-popup-close-button:hover {\\n  background-color: rgba(0, 0, 0, 0.05);\\n}\\n\\n.l7-popup-content {\\n  position: relative;\\n  background: #fff;\\n  border-radius: 3px;\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\\n  padding: 10px 10px 15px;\\n  pointer-events: auto;\\n}\\n\\n/* general toolbar styles */\\n\\n.l7-bar {\\n\\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\\n\\tborder-radius: 4px;\\n\\t}\\n.l7-bar a,\\n.l7-bar a:hover {\\n\\tbackground-color: #fff;\\n\\tborder-bottom: 1px solid #ccc;\\n\\twidth: 26px;\\n\\theight: 26px;\\n\\tline-height: 26px;\\n\\tdisplay: block;\\n\\ttext-align: center;\\n\\ttext-decoration: none;\\n\\tcolor: black;\\n\\t}\\n.l7-bar a,\\n.l7-control-layers-toggle {\\n\\tbackground-position: 50% 50%;\\n\\tbackground-repeat: no-repeat;\\n\\tdisplay: block;\\n\\t}\\n.l7-bar a:hover {\\n\\tbackground-color: #f4f4f4;\\n\\t}\\n.l7-bar a:first-child {\\n\\tborder-top-left-radius: 4px;\\n\\tborder-top-right-radius: 4px;\\n\\t}\\n.l7-bar a:last-child {\\n\\tborder-bottom-left-radius: 4px;\\n\\tborder-bottom-right-radius: 4px;\\n\\tborder-bottom: none;\\n\\t}\\n.l7-bar a.l7-disabled {\\n\\tcursor: default;\\n\\tbackground-color: #f4f4f4;\\n\\tcolor: #bbb;\\n\\t}\\n\\n\\n/* control positioning */\\n\\n.l7-control-container {\\n\\tfont: 12px/1.5 \\\"Helvetica Neue\\\", Arial, Helvetica, sans-serif;\\n}\\n.l7-control-hide {\\n\\tdisplay: none;\\n}\\n.l7-control {\\n\\tposition: relative;\\n\\tz-index: 800;\\n\\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\\n\\tpointer-events: auto;\\n\\t}\\n.l7-top,\\n.l7-bottom {\\n\\tposition: absolute;\\n\\tz-index: 1000;\\n\\tpointer-events: none;\\n\\t}\\n.l7-top {\\n\\ttop: 0;\\n\\t}\\n.l7-right {\\n\\tright: 0;\\n\\t}\\n.l7-bottom {\\n\\tbottom: 0;\\n\\t}\\n.l7-left {\\n\\tleft: 0;\\n\\t}\\n.l7-control {\\n\\tfloat: left;\\n\\tclear: both;\\n\\t}\\n.l7-right .l7-control {\\n\\tfloat: right;\\n\\t}\\n.l7-top .l7-control {\\n\\tmargin-top: 10px;\\n\\t}\\n.l7-bottom .l7-control {\\n\\tmargin-bottom: 10px;\\n\\t}\\n.l7-left .l7-control {\\n\\tmargin-left: 10px;\\n\\t}\\n.l7-right .l7-control {\\n\\tmargin-right: 10px;\\n  }\\n  \\n  /* attribution and scale controls */\\n\\n.l7-control-container .l7-control-attribution {\\n\\tbackground: #fff;\\n\\tbackground: rgba(255, 255, 255, 0.7);\\n\\tmargin: 0;\\n\\t}\\n.l7-control-attribution,\\n.l7-control-scale-line {\\n\\tpadding: 0 5px;\\n\\tcolor: #333;\\n\\t}\\n.l7-control-attribution a {\\n\\ttext-decoration: none;\\n\\t}\\n.l7-control-attribution a:hover {\\n\\ttext-decoration: underline;\\n\\t}\\n.l7-container .l7-control-attribution,\\n.l7-container .l7-control-scale {\\n\\tfont-size: 11px;\\n\\t}\\n.l7-left .l7-control-scale {\\n\\tmargin-left: 5px;\\n\\t}\\n.l7-bottom .l7-control-scale {\\n\\tmargin-bottom: 5px;\\n\\t}\\n.l7-control-scale-line {\\n\\tborder: 2px solid #777;\\n\\tborder-top: none;\\n\\tline-height: 1.1;\\n\\tpadding: 2px 5px 1px;\\n\\tfont-size: 11px;\\n\\twhite-space: nowrap;\\n\\toverflow: hidden;\\n\\t-moz-box-sizing: border-box;\\n\\t     box-sizing: border-box;\\n\\n\\tbackground: #fff;\\n\\tbackground: rgba(255, 255, 255, 0.5);\\n\\t}\\n.l7-control-scale-line:not(:first-child) {\\n\\tborder-top: 2px solid #777;\\n\\tborder-bottom: none;\\n\\tmargin-top: -2px;\\n\\t}\\n.l7-control-scale-line:not(:first-child):not(:last-child) {\\n\\tborder-bottom: 2px solid #777;\\n\\t}\\n\\n.l7-touch .l7-control-attribution,\\n.l7-touch .l7-control-layers,\\n.l7-touch .l7-bar {\\n\\tbox-shadow: none;\\n\\t}\\n.l7-touch .l7-control-layers,\\n.l7-touch .l7-bar {\\n\\tborder: 2px solid rgba(0,0,0,0.2);\\n\\tbackground-clip: padding-box;\\n\\t}\\n\\n\\n\\t/* layers control */\\n\\n.l7-control-layers {\\n\\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\\n\\tbackground: #fff;\\n\\tborder-radius: 5px;\\n\\t}\\n.l7-control-layers-toggle {\\n\\tbackground-image: url(\\\"data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 standalone%3D%22no%22%3F%3E%3C!DOCTYPE svg PUBLIC %22-%2F%2FW3C%2F%2FDTD SVG 1.1%2F%2FEN%22 %22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg t%3D%221566292427369%22 class%3D%22icon%22 viewBox%3D%220 0 1024 1024%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 p-id%3D%228341%22 width%3D%2232%22 height%3D%2232%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cdefs%3E%3Cstyle type%3D%22text%2Fcss%22%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpath d%3D%22M256 341.333333l256 128 256-128-256-128-256 128z m276.864-208.384l341.034667 173.909334c20.736 10.581333 28.202667 34.56 16.682666 53.632a41.386667 41.386667 0 0 1-16.64 15.317333l-341.077333 173.909333a46.336 46.336 0 0 1-41.728 0L150.101333 375.808c-20.736-10.581333-28.202667-34.56-16.682666-53.632a41.386667 41.386667 0 0 1 16.64-15.317333l341.077333-173.909334c12.970667-6.613333 28.757333-6.613333 41.728 0z m0 587.349334a45.653333 45.653333 0 0 1-41.728 0l-341.034667-176.938667c-20.736-10.752-28.202667-35.157333-16.682666-54.528a41.642667 41.642667 0 0 1 16.64-15.573333 34.901333 34.901333 0 0 1 32.213333 0l308.906667 160.213333c12.928 6.741333 28.714667 6.741333 41.685333 0l308.864-160.213333a34.901333 34.901333 0 0 1 32.170667 0c20.736 10.752 28.202667 35.157333 16.682666 54.528a41.642667 41.642667 0 0 1-16.64 15.573333l-341.077333 176.938667z m0 170.666666a45.653333 45.653333 0 0 1-41.728 0l-341.034667-176.938666c-20.736-10.752-28.202667-35.157333-16.682666-54.528a41.642667 41.642667 0 0 1 16.64-15.573334 34.901333 34.901333 0 0 1 32.213333 0l308.906667 160.213334c12.928 6.741333 28.714667 6.741333 41.685333 0l308.864-160.213334a34.901333 34.901333 0 0 1 32.170667 0c20.736 10.752 28.202667 35.157333 16.682666 54.528a41.642667 41.642667 0 0 1-16.64 15.573334l-341.077333 176.938666z%22 fill%3D%22%23000000%22 p-id%3D%228342%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E\\\");\\n\\twidth: 36px;\\n\\theight: 36px;\\n\\t}\\n.l7-retina .l7-control-layers-toggle {\\n\\tbackground-image: url(\\\"data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 standalone%3D%22no%22%3F%3E%3C!DOCTYPE svg PUBLIC %22-%2F%2FW3C%2F%2FDTD SVG 1.1%2F%2FEN%22 %22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg t%3D%221566292427369%22 class%3D%22icon%22 viewBox%3D%220 0 1024 1024%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 p-id%3D%228341%22 width%3D%2232%22 height%3D%2232%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cdefs%3E%3Cstyle type%3D%22text%2Fcss%22%3E%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpath d%3D%22M256 341.333333l256 128 256-128-256-128-256 128z m276.864-208.384l341.034667 173.909334c20.736 10.581333 28.202667 34.56 16.682666 53.632a41.386667 41.386667 0 0 1-16.64 15.317333l-341.077333 173.909333a46.336 46.336 0 0 1-41.728 0L150.101333 375.808c-20.736-10.581333-28.202667-34.56-16.682666-53.632a41.386667 41.386667 0 0 1 16.64-15.317333l341.077333-173.909334c12.970667-6.613333 28.757333-6.613333 41.728 0z m0 587.349334a45.653333 45.653333 0 0 1-41.728 0l-341.034667-176.938667c-20.736-10.752-28.202667-35.157333-16.682666-54.528a41.642667 41.642667 0 0 1 16.64-15.573333 34.901333 34.901333 0 0 1 32.213333 0l308.906667 160.213333c12.928 6.741333 28.714667 6.741333 41.685333 0l308.864-160.213333a34.901333 34.901333 0 0 1 32.170667 0c20.736 10.752 28.202667 35.157333 16.682666 54.528a41.642667 41.642667 0 0 1-16.64 15.573333l-341.077333 176.938667z m0 170.666666a45.653333 45.653333 0 0 1-41.728 0l-341.034667-176.938666c-20.736-10.752-28.202667-35.157333-16.682666-54.528a41.642667 41.642667 0 0 1 16.64-15.573334 34.901333 34.901333 0 0 1 32.213333 0l308.906667 160.213334c12.928 6.741333 28.714667 6.741333 41.685333 0l308.864-160.213334a34.901333 34.901333 0 0 1 32.170667 0c20.736 10.752 28.202667 35.157333 16.682666 54.528a41.642667 41.642667 0 0 1-16.64 15.573334l-341.077333 176.938666z%22 fill%3D%22%23000000%22 p-id%3D%228342%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E\\\");\\n\\tbackground-size: 26px 26px;\\n\\t}\\n.l7-touch .l7-control-layers-toggle {\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\t}\\n.l7-control-layers .l7-control-layers-list,\\n.l7-control-layers-expanded .l7-control-layers-toggle {\\n\\tdisplay: none;\\n\\t}\\n.l7-control-layers-expanded .l7-control-layers-list {\\n\\tdisplay: block;\\n\\tposition: relative;\\n\\t}\\n.l7-control-layers-expanded {\\n\\tpadding: 6px 10px 6px 6px;\\n\\tcolor: #333;\\n\\tbackground: #fff;\\n\\t}\\n.l7-control-layers-scrollbar {\\n\\toverflow-y: scroll;\\n\\toverflow-x: hidden;\\n\\tpadding-right: 5px;\\n\\t}\\n.l7-control-layers-selector {\\n\\tmargin-top: 2px;\\n\\tposition: relative;\\n\\ttop: 1px;\\n\\t}\\n.l7-control-layers label {\\n\\tdisplay: block;\\n\\t}\\n.l7-control-layers-separator {\\n\\theight: 0;\\n\\tborder-top: 1px solid #ddd;\\n\\tmargin: 5px -10px 5px -6px;\\n\\t}\\n\\n\";\nstyleInject(css);\n\nvar Camera = function Camera(container) {\n  this.container = container;\n  var camera = new actor.PerspectiveCamera(45, 1, 1, 2000000);\n  this.camera = camera;\n  this.updateSize();\n  window.addEventListener('resize', this.updateSize.bind(this));\n\n};\nCamera.prototype.updateSize = function updateSize () {\n  var container = this.container;\n  this.camera.aspect = container.clientWidth / container.clientHeight;\n  this.camera.updateProjectionMatrix();\n};\n\nvar Renderer = function Renderer(container) {\n  this.container = container;\n  this.initRender();\n  this.updateSize();\n  window.addEventListener('resize', this.updateSize.bind(this), false);\n};\nRenderer.prototype.initRender = function initRender () {\n  this.renderer = new actor.WebGLRenderer({\n    antialias: true,\n    alpha: true,\n    autoClear: false\n  });\n  this.renderer.setClearColor(0xff0000, 0.0);\n  this.pixelRatio = window.devicePixelRatio;\n  this.renderer.setPixelRatio(this.pixelRatio);\n  this.renderer.gammaInput = true;\n  this.renderer.gammaOutput = true;\n  this.renderer.shadowMap.enabled = false;\n  this.container.appendChild(this.renderer.domElement);\n};\nRenderer.prototype.updateSize = function updateSize () {\n  this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\n\n};\n\nfunction destoryObject(obj) {\n  if (!obj) {\n    return;\n  }\n  if (obj.children) {\n    for (var i = 0; i < obj.children.length; i++) {\n      var child = obj.children[i];\n      destoryObject(child);\n    }\n  }\n  if (obj.geometry) {\n    obj.geometry.dispose();\n    obj.geometry = null;\n  }\n  if (obj.material) {\n    if (obj.material.map) {\n      obj.material.map.dispose();\n      obj.material.map = null;\n    }\n\n    obj.material.dispose();\n    obj.material = null;\n  }\n}\nfunction updateObjecteUniform(obj, newOption) {\n  if (!obj) {\n    return;\n  }\n  if (obj.children) {\n    for (var i = 0; i < obj.children.length; i++) {\n      var child = obj.children[i];\n      updateObjecteUniform(child, newOption);\n    }\n  }\n  if (obj.material) {\n    obj.material.updateUninform(newOption);\n  }\n}\n\nvar nextId = 1;\n\nvar Picking = function Picking(world, renderer, camera) {\n  this._world = world;\n  this._renderer = renderer;\n  this._camera = camera;\n  this._pickingScene = new actor.Scene();\n  this.world = new actor.Group();\n  this._pickingScene.add(this.world);\n  var size = this._renderer.getSize();\n  this._width = size.width;\n  this._height = size.height;\n  var parameters = { minFilter: actor.LinearFilter,\n    magFilter: actor.LinearFilter,\n    format: actor.RGBAFormat,\n    stencilBuffer: false,\n    depthBuffer: true\n  };\n  this.pixelBuffer = new Uint8Array(4);\n\n  this._pickingTexture = new actor.WebGLRenderTarget(1, 1, parameters);\n\n\n  this._nextId = 1;\n\n  // this._resizeTexture();\n  this._initEvents();\n};\n\nPicking.prototype._initEvents = function _initEvents () {\n  this._resizeHandler = this._resizeTexture.bind(this);\n  window.addEventListener('resize', this._resizeHandler, false);\n};\nPicking.prototype.pickdata = function pickdata (event) {\n  var point = { x: event.offsetX, y: event.offsetY, type: event.type, _parent: event };\n  if (event.type.substr(0, 5) === 'touch') {\n    if (event.touches.length === 0) {\n      return;\n    }\n    var touch = event.touches[0];\n    point = { x: touch.clientX, y: touch.clientY, type: event.type, _parent: touch };\n  }\n  var normalisedPoint = { x: 0, y: 0 };\n  normalisedPoint.x = (point.x / this._width) * 2 - 1;\n  normalisedPoint.y = -(point.y / this._height) * 2 + 1;\n  this._pickAllObject(point, normalisedPoint);\n};\nPicking.prototype._resizeTexture = function _resizeTexture () {\n  var size = this._renderer.getSize();\n\n  this._width = size.width;\n  this._height = size.height;\n  this._pickingTexture.setSize(1, 1);\n  this._needUpdate = true;\n};\nPicking.prototype._update = function _update (point) {\n  var texture = this._pickingTexture;\n  this._camera.setViewOffset(this._width, this._height, point.x, point.y, 1, 1);\n  this._renderer.render(this._pickingScene, this._camera, texture);\n  this._camera.clearViewOffset();\n  this._renderer.readRenderTargetPixels(texture, 0, 0, 1, 1, this.pixelBuffer);\n\n};\nPicking.prototype._filterObject = function _filterObject (id) {\n  this.world.children.forEach(function (object, index) {\n    index === id ? object.visible = true : object.visible = false;\n  });\n};\nPicking.prototype._layerIsVisable = function _layerIsVisable (object) {\n  var layers = this._world.getLayers();\n  var isVisable = false;\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    if (object.name === layer.layerId) {\n      isVisable = layer.get('visible');\n      break;\n    }\n  }\n  return isVisable;\n};\nPicking.prototype._layerisListened = function _layerisListened (object, type) {\n  var layers = this._world.getLayers();\n  var isListened = false;\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    if (object.name === layer.layerId) {\n      if (type === 'mouseup' || type === 'mousedown') {\n        isListened = layer.getListeners(type).length > 0 || layer.getListeners('click').length > 0;\n        break;\n      }\n      isListened = layer.getListeners(type).length > 0;\n      break;\n    }\n  }\n  return isListened;\n};\nPicking.prototype._pickAllObject = function _pickAllObject (point, normalisedPoint) {\n    var this$1 = this;\n\n\n  this.world.children.forEach(function (object, index) {\n    if (!this$1._layerIsVisable(object) || !this$1._layerisListened(object, point.type)) {\n      return;\n    }\n    this$1._filterObject(index);\n    var item = this$1._pick(point, normalisedPoint, object.name);\n    item.type = point.type;\n    item._parent = point._parent;\n    // this._world.emit('pick', item);\n    this$1._world.emit('pick-' + object.name, item);\n\n  });\n};\nPicking.prototype._pick = function _pick (point, normalisedPoint, layerId) {\n  this._update(point);\n  var id = (this.pixelBuffer[2] * 255 * 255) + (this.pixelBuffer[1] * 255) + (this.pixelBuffer[0]);\n  if (id === 16646655 || this.pixelBuffer[3] === 0) {\n    id = -999;\n    // return;\n  }\n  var _point2d = { x: point.x, y: point.y };\n  var item = {\n    layerId: layerId,\n    featureId: id,\n    point2d: _point2d\n  };\n  return item;\n\n};\n\n// Add mesh to picking scene\n//\n// Picking ID should already be added as an attribute\nPicking.prototype.add = function add (mesh) {\n  this.world.add(mesh);\n\n  this._needUpdate = true;\n};\n\n// Remove mesh from picking scene\nPicking.prototype.remove = function remove (mesh) {\n  this.world.remove(mesh);\n  this._needUpdate = true;\n};\n\n// Returns next ID to use for picking\nPicking.prototype.getNextId = function getNextId () {\n  return nextId++;\n};\n\nPicking.prototype.destroy = function destroy () {\n  // TODO: Find a way to properly remove these listeners as they stay\n  // active at the moment\n  window.removeEventListener('resize', this._resizeHandler, false);\n  destoryObject(this._pickingScene);\n\n  this._pickingScene = null;\n  this._pickingTexture = null;\n  this._pixelBuffer = null;\n\n  this._world = null;\n  this._renderer = null;\n  this._camera = null;\n};\n\n// Initialise without requiring new keyword\nfunction Picking$1(world, renderer, camera, scene) {\n  return new Picking(world, renderer, camera, scene);\n}\n\nvar Engine = /*@__PURE__*/(function (EventEmitter) {\n  function Engine(container, world) {\n    EventEmitter.call(this);\n    this._scene = new actor.Scene();\n    this._camera = new Camera(container).camera;\n    this._render = new Renderer(container);\n    this._renderer = this._render.renderer;\n    this._world = world;// 地图场景实例\n    // for MapBox\n    this.world = new actor.Group();\n    this._scene.add(this.world);\n    this._picking = Picking$1(this._world, this._renderer, this._camera);\n    this.clock = new actor.Clock();\n    this.composerLayers = [];\n  }\n\n  if ( EventEmitter ) Engine.__proto__ = EventEmitter;\n  Engine.prototype = Object.create( EventEmitter && EventEmitter.prototype );\n  Engine.prototype.constructor = Engine;\n  Engine.prototype._initPostProcessing = function _initPostProcessing () {\n    this.composerLayers.forEach(function (layer) {\n      layer.visible && layer.render();\n    });\n  };\n  Engine.prototype.update = function update () {\n    var this$1 = this;\n\n    this.redraw();\n    setTimeout(function () {\n      this$1.redraw();\n    }, 50);\n  };\n  Engine.prototype.redraw = function redraw () {\n    this._renderer.clear();\n    this._renderer.render(this._scene, this._camera);\n    this._initPostProcessing();\n  };\n  Engine.prototype.destroy = function destroy () {\n    destoryObject(this._scene);\n    this.composerLayers.forEach(function (layer) {\n      layer.distory();\n    });\n    destoryObject(this.composerLayers);\n\n    this._picking.destroy();\n    this._picking = null;\n    this._world = null;\n    this.clock = null;\n    this._camera = null;\n    this._renderer = null;\n  };\n  // 渲染第三方Scene对象\n  Engine.prototype.renderScene = function renderScene (scene) {\n    this._renderer.render(scene, this._camera);\n  };\n  Engine.prototype.run = function run () {\n    this.update();\n    this.engineID = requestAnimationFrame(this.run.bind(this));\n  };\n  Engine.prototype.stop = function stop () {\n    cancelAnimationFrame(this.engineID);\n  };\n  Engine.prototype.resize = function resize () {\n    this._render.updateSize();\n    this.update();\n  };\n\n  return Engine;\n}(actor.EventEmitter));\n\nvar LAYER_MAP = {};\nvar getLayer = function (type) {\n  return LAYER_MAP[type.toLowerCase()];\n};\nvar registerLayer = function (type, layer) {\n  if (getLayer(type)) {\n    throw new Error((\"Layer type '\" + type + \"' existed.\"));\n  }\n  // 存储到 map 中\n  LAYER_MAP[type] = layer;\n};\n\nvar Mapping = function Mapping(cfg) {\n  actor.Util.assign(this, cfg);\n  if (!this.mesh) { this.mesh = this.layer; }\n  this._init();\n};\n\nMapping.prototype._init = function _init () {\n  this._initControllers();\n  this._initAttrs();\n  this._mapping();\n};\n\nMapping.prototype.update = function update () {\n  this.mesh.set('scales', {});\n  this._initAttrs();\n  this._updateMaping();\n};\nMapping.prototype.reMapping = function reMapping () {\n  this.mesh.set('scales', {});\n  this._initAttrs();\n  this._mapping();\n};\n\nMapping.prototype._initControllers = function _initControllers () {\n  var scalesOption = this.layer.get('scaleOptions');\n  var scaleController = new actor.ScaleController({\n    defs: Object.assign({}, scalesOption)\n  });\n  this.mesh.set('scaleController', scaleController);\n};\n\nMapping.prototype._createScale = function _createScale (field) {\n  var scales = this.mesh.get('scales');\n  this._initControllers(); // scale更新\n  var scale = scales[field];\n  if (!scale) {\n    scale = this.createScale(field);\n    scales[field] = scale;\n  }\n  return scale;\n};\n\nMapping.prototype.createScale = function createScale (field) {\n  var data = this.mesh.layerSource.data.dataArray;\n  var scales = this.mesh.get('scales');\n  var scale = scales[field];\n  var scaleController = this.mesh.get('scaleController');\n  if (!scale) {\n    scale = scaleController.createScale(field, data);\n    scales[field] = scale;\n  }\n  return scale;\n};\n// 获取属性映射的值\nMapping.prototype._getAttrValues = function _getAttrValues (attr, record) {\n  var scales = attr.scales;\n  var params = [];\n  for (var i = 0; i < scales.length; i++) {\n    var scale = scales[i];\n    var field = scale.field;\n    if (scale.type === 'identity') {\n      params.push(scale.value);\n    } else {\n      params.push(record[field]);\n    }\n  }\n  var indexZoom = params.indexOf('zoom');\n  indexZoom !== -1 ? params[indexZoom] = attr.zoom : null;\n  var values = attr.mapping.apply(attr, params);\n  return values;\n};\n\nMapping.prototype._mapping = function _mapping () {\n  var attrs = this.mesh.get('attrs');\n  var mappedData = [];\n  var data = this.mesh.layerSource.data.dataArray;\n  for (var i = 0; i < data.length; i++) {\n    var record = data[i];\n    var newRecord = {};\n    newRecord.id = data[i]._id;\n    if (attrs.hasOwnProperty('filter')) {\n      var attr = attrs.filter;\n      var values = this._getAttrValues(attr, record);\n      if (!values[0]) { continue; }\n    }\n    for (var k in attrs) {\n      if (attrs.hasOwnProperty(k)) {\n        var attr$1 = attrs[k];\n        var names = attr$1.names;\n        var values$1 = this._getAttrValues(attr$1, record);\n        if (names.length > 1) { // position 之类的生成多个字段的属性\n          for (var j = 0; j < values$1.length; j++) {\n            var val = values$1[j];\n            var name = names[j];\n            newRecord[name] = (actor.Util.isArray(val) && val.length === 1) ? val[0] : val; // 只有一个值时返回第一个属性值\n          }\n        } else {\n          newRecord[names[0]] = values$1.length === 1 ? values$1[0] : values$1;\n\n        }\n      }\n    }\n    newRecord.coordinates = record.coordinates;\n    mappedData.push(newRecord);\n  }\n  this.mesh.layerData = mappedData;\n};\n\nMapping.prototype._updateMaping = function _updateMaping () {\n  var attrs = this.mesh.get('attrs');\n\n  var data = this.mesh.layerSource.data.dataArray;\n  var layerData = this.mesh.layerData;\n  for (var i = 0; i < data.length; i++) {\n    var record = data[i];\n    for (var attrName in attrs) {\n      if (attrs.hasOwnProperty(attrName) && attrs[attrName].neadUpdate) {\n        var attr = attrs[attrName];\n        var names = attr.names;\n        var values = this._getAttrValues(attr, record);\n        if (names.length > 1) { // position 之类的生成多个字段的属性\n          for (var j = 0; j < values.length; j++) {\n            var val = values[j];\n            var name = names[j];\n            layerData[i][name] = (actor.Util.isArray(val) && val.length === 1) ? val[0] : val; // 只有一个值时返回第一个属性值\n          }\n        } else {\n          layerData[i][names[0]] = values.length === 1 ? values[0] : values;\n\n        }\n      }\n    }\n  }\n};\n\n\nMapping.prototype._initAttrs = function _initAttrs () {\n  var attrOptions = this.layer.get('attrOptions');\n  for (var type in attrOptions) {\n    if (attrOptions.hasOwnProperty(type)) {\n      this._updateTileAttr(type);\n    }\n  }\n};\nMapping.prototype._updateTileAttr = function _updateTileAttr (type) {\n  var self = this;\n  var attrs = this.mesh.get('attrs');\n  var attrOptions = this.layer.get('attrOptions');\n  var option = attrOptions[type];\n  var className = actor.Util.upperFirst(type);\n  var fields = this._parseFields(option.field);\n  var scales = [];\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var scale = self._createScale(field);\n    if (type === 'color' && actor.Util.isNil(option.values)) { // 设置 color 的默认色值\n      option.values = actor.Global.colors;\n    }\n    scales.push(scale);\n  }\n  // option.scales = scales;\n  var attr = new actor.Attr[className](Object.assign({}, option, {scales: scales}));\n  attrs[type] = attr;\n};\nMapping.prototype._parseFields = function _parseFields (field) {\n  if (actor.Util.isArray(field)) {\n    return field;\n  }\n  if (actor.Util.isString(field)) {\n    return field.split('*');\n  }\n  return [ field ];\n};\n/**\n * 获取图例配置项\n * @param {*} field 字段\n * @param {*} type 图例类型 color, size\n * @return {*} 图例配置项\n */\nMapping.prototype.getLegendCfg = function getLegendCfg (field, type) {\n    var this$1 = this;\n    if ( type === void 0 ) type = 'color';\n\n  // todo heatmap\n  if (this.layer.type === 'heatmap' && this.layer.shapeType === 'heatmap') {\n    return this.get('styleOptions').rampColors;\n  }\n  var scales = this.layer.get('scales');\n  var scale = scales[field];\n  var colorAttrs = this.layer.get('attrs')[type];\n  var lengendCfg = {};\n  if (scale) {\n    var ticks = scale.ticks;\n    lengendCfg.value = ticks;\n    lengendCfg.type = scale.type;\n    var values = ticks.map(function (value) {\n        var obj;\n\n      var v = this$1._getAttrValues(colorAttrs, ( obj = {}, obj[field] = value, obj ));\n      return type === 'color' ? actor.ColorUtil.colorArray2RGBA(v) : v;\n    });\n    lengendCfg[type] = values;\n  }\n  return lengendCfg;\n};\n\nvar PickContoller = function PickContoller(cfg) {\n  actor.Util.assign(this, cfg);\n  this.pickObject3D = new actor.Object3D();\n  this.addToPicking(this.pickObject3D);\n};\nPickContoller.prototype.getPickingId = function getPickingId () {\n  return this.layer.scene._engine._picking.getNextId();\n};\nPickContoller.prototype.addToPicking = function addToPicking (object) {\n  object.name = this.layer.layerId;\n  this.layer.scene._engine._picking.add(object);\n};\nPickContoller.prototype.removePickingObject = function removePickingObject (object) {\n  this.layer.scene._engine._picking.remove(object);\n};\nPickContoller.prototype.removePickingMesh = function removePickingMesh (mesh) {\n  this.pickObject3D.remove(mesh);\n  destoryObject(mesh);\n};\nPickContoller.prototype.removePickMeshByName = function removePickMeshByName (name) {\n  for (var i = 0; i < this.pickObject3D.children.length; i++) {\n    if (this.pickObject3D.children[i].name === name) {\n      this.removePickingMesh(this.pickObject3D.children[i]);\n    }\n  }\n};\nPickContoller.prototype.removeAllMesh = function removeAllMesh () {\n    var this$1 = this;\n\n  this.pickObject3D.children.forEach(function (element) {\n\n    this$1.pickObject3D.remove(element);\n    destoryObject(element);\n  });\n};\nPickContoller.prototype.addPickMesh = function addPickMesh (mesh) {\n    var this$1 = this;\n\n  var pickmaterial = mesh.material.clone();\n  pickmaterial.defines.PICK = true;\n  // pickmaterial.fragmentShader = pickingFragmentShader;\n  var pickingMesh = new actor.THREE[mesh.type](mesh.geometry, pickmaterial);\n  pickingMesh.name = mesh.name;\n  pickingMesh.onBeforeRender = function () {\n    var zoom = this$1.layer.scene.getZoom();\n    updateObjecteUniform(pickingMesh, { u_zoom: zoom });\n  };\n  this.pickObject3D.add(pickingMesh);\n};\n\nvar EVENT_TYPES = [ 'start', 'process', 'end', 'reset' ];\n\nvar Interaction = function Interaction(cfg) {\n  var defaultCfg = this._getDefaultCfg();\n  Object.assign(this, defaultCfg, cfg);\n  this._eventHandlers = [];\n  this._bindEvents();\n};\nInteraction.prototype._getDefaultCfg = function _getDefaultCfg () {\n  return {\n    startEvent: 'mousedown',\n    processEvent: 'mousemove',\n    endEvent: 'mouseup',\n    resetEvent: 'dblclick'\n  };\n};\nInteraction.prototype._start = function _start (ev) {\n  this.preStart(ev);\n  this.start(ev);\n  this.afterStart(ev);\n};\n\nInteraction.prototype.preStart = function preStart () {};\n\nInteraction.prototype.start = function start () {};\n\nInteraction.prototype.afterStart = function afterStart () {};\n\nInteraction.prototype._process = function _process (ev) {\n  this.preProcess(ev);\n  this.process(ev);\n  this.afterProcess(ev);\n};\n\nInteraction.prototype.preProcess = function preProcess () {};\n\nInteraction.prototype.process = function process () {\n};\n\nInteraction.prototype.afterProcess = function afterProcess () {};\n\nInteraction.prototype._end = function _end (ev) {\n  this.preEnd(ev);\n  this.end(ev);\n  this.afterEnd(ev);\n};\nInteraction.prototype.preEnd = function preEnd () {};\n\nInteraction.prototype.end = function end () {};\n\nInteraction.prototype.afterEnd = function afterEnd () {};\n\nInteraction.prototype._reset = function _reset () {\n  this.preReset();\n  this.reset();\n  this.afterReset();\n};\n\nInteraction.prototype.preReset = function preReset () {};\n\nInteraction.prototype.reset = function reset () {};\n\nInteraction.prototype.afterReset = function afterReset () {};\n\nInteraction.prototype._bindEvents = function _bindEvents () {\n    var this$1 = this;\n\n  actor.lib_87(EVENT_TYPES, function (type) {\n    var eventName = this$1[(type + \"Event\")];\n    var handler = actor.lib_29(this$1, (\"_\" + type));\n    this$1.layer.on(eventName, handler);\n    this$1._eventHandlers.push({ type: eventName, handler: handler });\n  });\n};\n\nInteraction.prototype._unbindEvents = function _unbindEvents () {\n    var this$1 = this;\n\n  var eventHandlers = this._eventHandlers;\n  actor.lib_87(eventHandlers, function (eh) {\n    this$1.layer.off(eh.type, eh.handler);\n  });\n};\n\nInteraction.prototype.destory = function destory () {\n  this._unbindEvents();\n  this._reset();\n};\n\nvar Active = /*@__PURE__*/(function (Interaction) {\n  function Active(cfg) {\n    Interaction.call(this, Object.assign({}, {processEvent: 'mousemove',\n      resetEvent: 'mouseleave'},\n      cfg));\n  }\n\n  if ( Interaction ) Active.__proto__ = Interaction;\n  Active.prototype = Object.create( Interaction && Interaction.prototype );\n  Active.prototype.constructor = Active;\n  Active.prototype.process = function process (ev) {\n    this.layer._addActiveFeature(ev);\n    this.layer.scene._engine.update();\n  };\n  Active.prototype.reset = function reset () {\n    this.layer._resetStyle();\n    this.layer.scene._engine.update();\n  };\n\n  return Active;\n}(Interaction));\n\nvar Select = /*@__PURE__*/(function (Interaction) {\n  function Select(cfg) {\n    Interaction.call(this, Object.assign({}, {processEvent: 'click'},\n      cfg));\n  }\n\n  if ( Interaction ) Select.__proto__ = Interaction;\n  Select.prototype = Object.create( Interaction && Interaction.prototype );\n  Select.prototype.constructor = Select;\n  Select.prototype.process = function process (ev) {\n    this.layer._addActiveFeature(ev);\n    this.layer.scene._engine.update();\n  };\n\n  return Select;\n}(Interaction));\n\nfunction throttle(fn, delay) {\n  var lastCall = 0;\n  return function() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var now = (new Date()).getTime();\n    if (now - lastCall < delay) {\n      return;\n    }\n    lastCall = now;\n    return fn.apply(void 0, args);\n  };\n}\n\nvar Hash = /*@__PURE__*/(function (Interaction) {\n  function Hash(cfg) {\n    Interaction.call(this, Object.assign({}, {endEvent: 'camerachange'},\n      cfg));\n    window.addEventListener('hashchange', this._onHashChange.bind(this), false);\n    this._updateHash = throttle(this._updateHashUnthrottled.bind(this), 30 * 1000 / 100);\n  }\n\n  if ( Interaction ) Hash.__proto__ = Interaction;\n  Hash.prototype = Object.create( Interaction && Interaction.prototype );\n  Hash.prototype.constructor = Hash;\n  Hash.prototype.end = function end () {\n    this._updateHash();\n  };\n  Hash.prototype.reset = function reset () {\n    // this.layer._resetStyle();\n  };\n  Hash.prototype._getHashString = function _getHashString () {\n    var center = this.layer.getCenter(),\n      zoom = Math.round(this.layer.getZoom() * 100) / 100,\n      // derived from equation: 512px * 2^z / 360 / 10^d < 0.5px\n      precision = Math.ceil((zoom * Math.LN2 + Math.log(512 / 360 / 0.5)) / Math.LN10),\n      m = Math.pow(10, precision),\n      lng = Math.round(center.lng * m) / m,\n      lat = Math.round(center.lat * m) / m,\n      bearing = this.layer.getRotation(),\n      pitch = this.layer.getPitch();\n    var hash = '';\n    hash += \"#\" + zoom + \"/\" + lat + \"/\" + lng;\n    if (bearing || pitch) { hash += ((\"/\" + (Math.round(bearing * 10) / 10))); }\n    if (pitch) { hash += ((\"/\" + (Math.round(pitch)))); }\n    return hash;\n  };\n  Hash.prototype._onHashChange = function _onHashChange () {\n    var loc = window.location.hash.replace('#', '').split('/');\n    if (loc.length >= 3) {\n      this.layer.setStatus({\n        center: [ +loc[2], +loc[1] ],\n        zoom: +loc[0],\n        bearing: +(loc[3] || 0),\n        pitch: +(loc[4] || 0)\n      });\n      return true;\n    }\n    return false;\n  };\n  Hash.prototype._updateHashUnthrottled = function _updateHashUnthrottled () {\n    var hash = this._getHashString();\n    window.history.replaceState(window.history.state, '', hash);\n  };\n  Hash.prototype.destory = function destory () {\n    window.removeEventListener('hashchange', this._onHashChange, false);\n    this.layer.off('camerachange', this._updateHash);\n    clearTimeout(this._updateHash());\n\n    return this;\n  };\n\n  return Hash;\n}(Interaction));\n\nvar INTERACTION_MAP = {};\n\nvar getInteraction = function (type) {\n  return INTERACTION_MAP[type];\n};\n\nvar registerInteraction = function (type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getInteraction(type)) {\n    throw new Error((\"Interaction type '\" + type + \"' existed.\"));\n  }\n  // 存储到 map 中\n  INTERACTION_MAP[type] = ctor;\n};\n\nregisterInteraction('active', Active);\nregisterInteraction('select', Select);\nregisterInteraction('hash', Hash);\n\nvar InteractionController = function InteractionController(cfg) {\n  // defs 列定义\n  actor.Util.assign(this, cfg);\n};\n// interaction 方法\nInteractionController.prototype.clearAllInteractions = function clearAllInteractions () {\n  var interactions = this.layer.get('interactions');\n  actor.Util.each(interactions, function (interaction, key) {\n    interaction.destory();\n    delete interactions[key];\n  });\n  return this;\n};\nInteractionController.prototype.clearInteraction = function clearInteraction (type) {\n  var interactions = this.layer.get('interactions');\n  if (interactions[type]) {\n    interactions[type].destory();\n    delete interactions[type];\n  }\n  return this;\n};\nInteractionController.prototype.addInteraction = function addInteraction (type, cfg) {\n    if ( cfg === void 0 ) cfg = {};\n\n  cfg.layer = this.layer;\n  var Ctor = getInteraction(type);\n  var interaction = new Ctor(cfg);\n  this._setInteraction(type, interaction);\n  return this;\n};\nInteractionController.prototype._setInteraction = function _setInteraction (type, interaction) {\n  var interactions = this.layer.get('interactions');\n  if (interactions[type]) {\n    interactions[type].destory();\n  }\n  interactions[type] = interaction;\n};\n\nvar EventContoller = function EventContoller(cfg) {\n  actor.Util.assign(this, cfg);\n  this._init();\n  this.startPoint = { x: -1, y: -1 };\n  this._selectedId = null;\n};\nEventContoller.prototype._init = function _init () {\n    var this$1 = this;\n\n  this.layer.scene.on('pick-' + this.layer.layerId, function (e) {\n    var featureId = e.featureId;\n      var point2d = e.point2d;\n      var type = e.type;\n    if (type === 'click') {\n      return;\n    }\n    if (type === 'mousedown') {\n      this$1.startPoint = point2d;\n    }\n    if (type === 'mouseup') {\n      this$1.endPoint = point2d;\n      if (this$1.startPoint.x - this$1.endPoint.x === 0 && this$1.startPoint.y - this$1.endPoint.y === 0) {\n        type = 'click';\n      }\n    }\n    // TODO 瓦片图层获取选中数据信息\n    var lnglat = this$1.layer.scene.containerToLngLat(point2d) || {};\n    var feature = null;\n    var style = null;\n    if (featureId !== -999) {\n      var res = this$1.layer.getSelectFeature(featureId, lnglat);\n      feature = res.feature;\n      style = res.style;\n    }\n    var target = {\n      featureId: featureId,\n      feature: feature,\n      style: style,\n      pixel: point2d,\n      type: type,\n      lnglat: { lng: lnglat.lng, lat: lnglat.lat }\n    };\n    if (featureId >= 0) { // 拾取到元素，或者离开元素\n      if (type.substr(0, 5) === 'touch') {\n        type = 'click';\n        this$1.layer.emit('mousemove', target);\n      }\n      this$1.layer.emit(type, target);\n      this$1._selectedId = featureId;\n    }\n    if (featureId < 0 && this$1._selectedId != null) {\n      type = 'mouseleave';\n      this$1.layer.emit(type, target);\n      this$1._selectedId = null;\n    }\n    this$1.layer._activeIds = featureId;\n\n  });\n};\nEventContoller.prototype._initMapEvent = function _initMapEvent () {\n\n};\n\nvar BufferController = function BufferController(cfg) {\n  // defs 列定义\n  actor.Util.assign(this, cfg);\n  if (!this.mesh) { this.mesh = this.layer; }\n};\n\nBufferController.prototype._updateColorAttributes = function _updateColorAttributes () {\n    var this$1 = this;\n\n  var filterData = this.mesh.layerData;\n  var colorKey = {};\n  for (var e = 0; e < filterData.length; e++) {\n    var item = filterData[e];\n    colorKey[item.id] = item.color;\n  }\n  this.layer._activeIds = null; // 清空选中元素xwxw\n  var colorAttr = this.mesh.mesh.geometry.attributes.a_color;\n  var pickAttr = this.mesh.mesh.geometry.attributes.pickingId;\n  pickAttr.array.forEach(function (id, index) {\n    var newId = Math.abs(id);\n    var item = null;\n    var color = null;\n    if (this$1.mesh.layerSource.data.featureKeys) { // hash数据映射\n      newId = this$1.mesh.layerSource.data.featureKeys[newId].index;\n      item = filterData[newId];\n      color = colorKey[item.id];\n    } else {\n      item = filterData[newId - 1];\n      color = colorKey[newId];\n    }\n\n    if (item.hasOwnProperty('filter') && item.filter === false) {\n      colorAttr.array[index * 4 + 0] = 0;\n      colorAttr.array[index * 4 + 1] = 0;\n      colorAttr.array[index * 4 + 2] = 0;\n      colorAttr.array[index * 4 + 3] = 0;\n      pickAttr.array[index] = -id; // 通过Id数据过滤 id<0 不显示\n    } else {\n      colorAttr.array[index * 4 + 0] = color[0];\n      colorAttr.array[index * 4 + 1] = color[1];\n      colorAttr.array[index * 4 + 2] = color[2];\n      colorAttr.array[index * 4 + 3] = color[3];\n      pickAttr.array[index] = id;\n    }\n  });\n  colorAttr.needsUpdate = true;\n  pickAttr.needsUpdate = true;\n};\nBufferController.prototype._updateStyle = function _updateStyle (option) {\n  var newOption = { };\n  for (var key in option) {\n    newOption['u_' + key] = option[key];\n  }\n  updateObjecteUniform(this.mesh._object3D, newOption);\n};\n\nvar Controller = {\n  Scale: actor.ScaleController,\n  Mapping: Mapping,\n  Picking: PickContoller,\n  Interaction: InteractionController,\n  Event: EventContoller,\n  Buffer: BufferController\n};\n\nfunction diff(a, b) {\n  // Throw is a or b are not objects.\n  if (!actor.lib_73(a)) {\n    throw new Error('First parameter to diff() is not an object');\n  }\n  if (!actor.lib_73(b)) {\n    throw new Error('Second parameter to diff() is not an object');\n  }\n\n  var changes = [];\n  var keysA = actor.lib_51(a);\n  var keysB = actor.lib_51(b);\n\n  // Find the items in A that are not in B.\n  actor.lib_87(actor.lib_3(keysA, keysB), function (key) {\n    changes.push({ type: 'remove', key: key, value: a[key] });\n  });\n\n  // Find the items in B that are not in A.\n  actor.lib_87(actor.lib_3(keysB, keysA), function (key) {\n    changes.push({ type: 'add', key: key, value: b[key] });\n  });\n\n  // Find the items that are in both, but have changed.\n  actor.lib_87(intersection(keysA, keysB), function (key) {\n    if (!actor.lib_91(a[key], b[key])) {\n      changes.push({ type: 'update', key: key, value: b[key] });\n    }\n  });\n\n  return changes;\n}\nfunction intersection(keysA, keysB) {\n  return keysA.filter(function (key) {\n    return keysB.indexOf(key) > -1;\n  });\n}\n\n/**\n * @fileOverview Layer基类\n * @author lzx199065@gmail.com\n */\nvar id = 1;\nfunction parseFields(field) {\n  if (actor.Util.isArray(field)) {\n    return field;\n  }\n  if (actor.Util.isString(field)) {\n    return field.split('*');\n  }\n  return [ field ];\n}\nvar Layer = /*@__PURE__*/(function (Base) {\n  function Layer(scene, cfg) {\n    Base.call(this, cfg);\n    this.scene = scene;\n    this.map = scene.map;\n    this._object3D = new actor.Object3D();\n    this._pickObject3D = new actor.Object3D();\n    this._object3D.visible = this.get('visible');\n    this._object3D.renderOrder = this.get('zIndex') || 0;\n    this._mapEventHandlers = [];\n    var layerId = this._getUniqueId();\n    this.set('layerId', layerId);\n    this.set('mapType', this.scene.mapType);\n    this.layerId = layerId;\n    this._activeIds = null;\n    var world = scene._engine.world;\n    world.add(this._object3D);\n    this.layerMesh = null;\n    this.layerLineMesh = null;\n  }\n\n  if ( Base ) Layer.__proto__ = Base;\n  Layer.prototype = Object.create( Base && Base.prototype );\n  Layer.prototype.constructor = Layer;\n  /**\n   * 将图层添加加到 Object\n   * @param {*} object three 物体\n   */\n  Layer.prototype.getDefaultCfg = function getDefaultCfg () {\n    return {\n      visible: true,\n      zIndex: 0,\n      type: '',\n      minZoom: 0,\n      maxZoom: 22,\n      rotation: 0,\n      option: {},\n      attrOptions: {\n      },\n      scaleOptions: {},\n      preScaleOptions: null,\n      scales: {},\n      attrs: {},\n      // 样式配置项\n      styleOptions: {\n        stroke: [ 1, 1, 1, 1 ],\n        strokeWidth: 1.0,\n        opacity: 1.0,\n        strokeOpacity: 1.0,\n        texture: false\n      },\n      destroyed: false,\n      // 选中时的配置项\n      selectedOptions: null,\n      // active 时的配置项\n      activedOptions: {\n        fill: [ 1.0, 0, 0, 1.0 ]\n      },\n      interactions: {},\n      animateOptions: {\n        enable: false\n      }\n    };\n  };\n\n  Layer.prototype.add = function add (object) {\n    var this$1 = this;\n\n    // composer合图层绘制\n    if (object.type === 'composer') {\n      this._object3D = object;\n      this.scene._engine.composerLayers.push(object);\n      return;\n    }\n    this.layerMesh = object;\n    this._visibleWithZoom();\n    var startTime = this.scene._engine.clock.getElapsedTime();\n    object.onBeforeRender = function () { // 每次渲染前改变状态\n      var zoom = this$1.scene.getZoom();\n      updateObjecteUniform(this$1._object3D, {\n        u_time: this$1.scene._engine.clock.getElapsedTime() - startTime,\n        u_zoom: zoom\n      });\n      this$1.preRender();\n    };\n\n    object.onAfterRender = function () { // 每次渲染后改变状态\n      this$1.afterRender();\n    };\n    this._object3D.add(object);\n    this.get('pickingController').addPickMesh(object);\n\n  };\n  Layer.prototype.remove = function remove (object) {\n    if (object.type === 'composer') {\n      this.scene._engine.composerLayers = this.scene._engine.composerLayers.filter(function (layer) {\n        return (layer !== object);\n      });\n      return;\n    }\n    this._object3D.remove(object);\n  };\n  Layer.prototype._getUniqueId = function _getUniqueId () {\n    return id++;\n  };\n  Layer.prototype._visible = function _visible (visible) {\n    this.set('visible', visible);\n    this._object3D.visible = this.get('visible');\n  };\n  // 兼容瓦片source，非瓦片source\n\n  Layer.prototype.source = function source$1 (data, cfg) {\n    var this$1 = this;\n    if ( cfg === void 0 ) cfg = {};\n\n    // 根据Source类型判断，是不是瓦片图层\n    if (this.scene.getTileSource(data)) {\n      this.set('layerType', 'tile');\n      this.set('sourceOption', Object.assign({}, {id: data},\n        cfg));\n      this.scene.style.addLayer(this);\n      // 初始化tiles\n      this.tiles = new actor.Object3D();\n      this._object3D.add(this.tiles);\n      return this;\n    }\n\n    if (data instanceof actor.Source) {\n      this.layerSource = data;\n      this.layerSource.on('SourceUpdate', function () {\n        this$1.repaint();\n      });\n      return this;\n    }\n    cfg.data = data;\n    cfg.mapType = this.scene.mapType;\n    cfg.zoom = this.scene.getZoom();\n    this.layerSource = new actor.Source(cfg);\n    return this;\n  };\n  Layer.prototype.color = function color (field, values) {\n    this._createAttrOption('color', field, values, actor.Global.colors);\n    return this;\n  };\n  Layer.prototype.size = function size (field, values) {\n    var fields = parseFields(field);\n    if (fields.indexOf('zoom') !== -1) {\n      this._zoomScale = true;\n    }\n    if (actor.Util.isArray(fields) && !values) { values = fields; }\n    this._createAttrOption('size', field, values, actor.Global.size);\n    return this;\n  };\n  Layer.prototype.scale = function scale (field, cfg) {\n    var options = this.get('scaleOptions');\n    var scaleDefs = options;\n    if (actor.Util.isObject(field)) {\n      actor.Util.mix(scaleDefs, field);\n    } else {\n      scaleDefs[field] = cfg;\n    }\n    return this;\n  };\n  Layer.prototype.shape = function shape (field, values) {\n    if (field.split(':').length === 2) {\n      this.shapeType = field.split(':')[0];\n      field = field.split(':')[1];\n    }\n    values === 'text' ? this.shapeType = values : null;\n\n    this._createAttrOption('shape', field, values, actor.Global.shape);\n    return this;\n  };\n  Layer.prototype.pattern = function pattern (field, values) {\n    this._createAttrOption('pattern', field, values, actor.Global.pattern);\n    return this;\n  };\n  /**\n   * 是否允许使用默认的图形激活交互\n   * @param  {Boolean} enable 是否允许激活开关\n   * @param {Object} cfg 激活的配置项\n   * @return {Geom}    返回 geom 自身\n   */\n  Layer.prototype.active = function active (enable, cfg) {\n    if (enable === false) {\n      this.set('allowActive', false);\n    } else if (actor.Util.isObject(enable) && enable.fill) {\n      this.set('allowActive', true);\n      if (enable.fill) { enable.fill = actor.ColorUtil.color2RGBA(enable.fill); }\n      this.set('activedOptions', enable);\n    } else {\n      this.set('allowActive', true);\n      this.set('activedOptions', cfg || { fill: actor.ColorUtil.color2RGBA(actor.Global.activeColor) });\n    }\n    return this;\n  };\n\n  Layer.prototype.style = function style (field, cfg) {\n    var colorItem = [ 'fill', 'stroke', 'strokeColor', 'color', 'baseColor', 'brightColor', 'windowColor' ];\n    var styleOptions = this.get('styleOptions');\n    if (!styleOptions) {\n      styleOptions = {};\n      this.set('styleOptions', styleOptions);\n    }\n    if (actor.Util.isObject(field)) {\n      cfg = field;\n      field = null;\n    }\n    var fields;\n    if (field) {\n      fields = parseFields(field);\n    }\n    styleOptions.fields = fields;\n    actor.Util.assign(styleOptions, cfg);\n    for (var item in cfg) {\n      if (colorItem.indexOf(item) !== -1 && styleOptions[item] !== 'none') {\n        styleOptions[item] = actor.ColorUtil.color2RGBA(styleOptions[item]);\n      }\n    }\n    this.set('styleOptions', styleOptions);\n    return this;\n  };\n\n  Layer.prototype.filter = function filter (field, values) {\n    this._createAttrOption('filter', field, values, true);\n    return this;\n  };\n\n  Layer.prototype.animate = function animate (field, cfg) {\n    var animateOptions = this.get('animateOptions');\n    if (!animateOptions) {\n      animateOptions = {};\n      this.set('animateOptions', animateOptions);\n    }\n    if (actor.Util.isObject(field)) {\n      cfg = field;\n      field = null;\n    }\n    var fields;\n    if (field) {\n      fields = parseFields(field);\n    }\n    animateOptions.fields = fields;\n    actor.Util.assign(animateOptions, cfg);\n    this.set('animateOptions', animateOptions);\n    return this;\n  };\n  Layer.prototype.fitBounds = function fitBounds () {\n    var extent = this.layerSource.data.extent;\n    this.scene.fitBounds(extent);\n  };\n  Layer.prototype.hide = function hide () {\n    this._visible(false);\n    this.scene._engine.update();\n    return this;\n  };\n  Layer.prototype.show = function show () {\n    this._visible(true);\n    this.scene._engine.update();\n    return this;\n  };\n  Layer.prototype.setData = function setData (data, cfg) {\n    this.layerSource.setData(data, cfg);\n    this.repaint();\n    this.scene._engine.update();\n  };\n  Layer.prototype._createScale = function _createScale (field) {\n    // TODO scale更新\n    var scales = this.get('scales');\n    var scale = scales[field];\n    if (!scale) {\n      scale = this.createScale(field);\n      scales[field] = scale;\n    }\n    return scale;\n  };\n  Layer.prototype._setAttrOptions = function _setAttrOptions (attrName, attrCfg) {\n    var options = this.get('attrOptions');\n    if (attrName === 'size' && this._zoomScale) {\n      attrCfg.zoom = this.map.getZoom();\n    }\n    options[attrName] = attrCfg;\n  };\n  Layer.prototype._createAttrOption = function _createAttrOption (attrName, field, cfg, defaultValues) {\n\n    var attrCfg = {};\n    attrCfg.field = field;\n    if (cfg) {\n      if (actor.Util.isFunction(cfg)) {\n        attrCfg.callback = cfg;\n      } else {\n        attrCfg.values = cfg;\n      }\n    } else if (attrName !== 'color') {\n      attrCfg.values = defaultValues;\n    }\n    this._setAttrOptions(attrName, attrCfg);\n  };\n  Layer.prototype._initControllers = function _initControllers () {\n    var pickCtr = new Controller.Picking({ layer: this });\n    var interactionCtr = new Controller.Interaction({ layer: this });\n    var eventCtr = new Controller.Event({ layer: this });\n    this.set('pickingController', pickCtr);\n    this.set('interacionController', interactionCtr);\n    this.set('eventController', eventCtr);\n  };\n  Layer.prototype._mapping = function _mapping () {\n    var mappingCtr = new Controller.Mapping({ layer: this });\n    this.set('mappingController', mappingCtr);\n  };\n  Layer.prototype.render = function render () {\n    if (this.get('layerType') === 'tile') {\n      this._initControllers();\n      this._initInteraction();\n      this.scene.style.update(this._attrs);\n      return this;\n    }\n    this._updateDraw();\n    this.scene._engine.update();\n    return this;\n  };\n  // 重绘 度量， 映射，顶点构建\n  Layer.prototype.repaint = function repaint () {\n    this.set('scales', {});\n    this._mapping();\n    if (this.layerData.length === 0) {\n      this.clearDraw();\n      return;\n    }\n    this.redraw();\n  };\n  // 初始化图层\n  Layer.prototype.init = function init () {\n    this._initControllers();\n    this._mapping();\n  };\n  Layer.prototype._initInteraction = function _initInteraction () {\n    if (this.get('allowActive')) {\n      this.get('interacionController').addInteraction('active');\n    }\n  };\n  Layer.prototype._initMapEvent = function _initMapEvent () {\n    var this$1 = this;\n\n    // zoomchange  mapmove resize\n    var EVENT_TYPES = [ 'zoomchange', 'dragend', 'camerachange', 'resize' ];\n    actor.Util.each(EVENT_TYPES, function (type) {\n      var handler = actor.Util.wrapBehavior(this$1, (\"\" + type));\n      this$1.map.on((\"\" + type), handler);\n      this$1._mapEventHandlers.push({ type: type, handler: handler });\n    });\n  };\n  Layer.prototype.clearMapEvent = function clearMapEvent () {\n    var this$1 = this;\n\n    var eventHandlers = this._mapEventHandlers;\n    actor.Util.each(eventHandlers, function (eh) {\n      this$1.map.off(eh.type, eh.handler);\n    });\n  };\n  Layer.prototype.zoomchange = function zoomchange (ev) {\n    // 地图缩放等级变化\n    this._visibleWithZoom(ev);\n  };\n  Layer.prototype.dragend = function dragend () {\n\n  };\n  Layer.prototype.resize = function resize () {\n    this.scene._engine.update();\n  };\n  Layer.prototype.camerachange = function camerachange (e) {\n    this.emit('camerachange', e);\n  };\n  Layer.prototype.setActive = function setActive (id, color) {\n    this._activeIds = id;\n    if (!color) { color = actor.Global.activeColor; }\n    if (!Array.isArray(color)) {\n      color = actor.ColorUtil.color2RGBA(color);\n    }\n    updateObjecteUniform(this._object3D, {\n      u_activeColor: color,\n      u_activeId: id\n    });\n    this.scene._engine.update();\n  };\n\n  Layer.prototype._addActiveFeature = function _addActiveFeature (e) {\n    var featureId = e.featureId;\n    this._activeIds = featureId;\n    updateObjecteUniform(this._object3D, { u_activeId: featureId });\n  };\n\n  Layer.prototype._setPreOption = function _setPreOption () {\n    var nextAttrs = this.get('attrOptions');\n    var nextStyle = this.get('styleOptions');\n    this.set('preAttrOptions', actor.Util.clone(nextAttrs));\n    this.set('preStyleOption', actor.Util.clone(nextStyle));\n  };\n  Layer.prototype._updateDraw = function _updateDraw () {\n    var preAttrs = this.get('preAttrOptions');\n    var nextAttrs = this.get('attrOptions');\n    var preStyle = this.get('preStyleOption');\n    var nextStyle = this.get('styleOptions');\n    if (preAttrs === undefined && preStyle === undefined) { // 首次渲染\n      this._setPreOption();\n      this.init();\n      this._initInteraction();\n      this._initMapEvent();\n      if (this.layerData.length === 0) {\n        return;\n      }\n      this.draw();\n      return;\n    }\n    if (!actor.Util.isEqual(preAttrs.filter, nextAttrs.filter) ||\n      !actor.Util.isEqual(preAttrs.color, nextAttrs.color) ||\n      !actor.Util.isEqual(preAttrs.size, nextAttrs.size) ||\n      !actor.Util.isEqual(preAttrs.shape, nextAttrs.shape)\n    ) {\n      this.repaint();\n    }\n\n    if (!actor.Util.isEqual(preStyle, nextStyle)) {\n      // 判断新增，修改，删除\n      var newStyle = {};\n      actor.Util.each(diff(preStyle, nextStyle), function (ref) {\n        var type = ref.type;\n        var key = ref.key;\n        var value = ref.value;\n\n        (type !== 'remove') && (newStyle[key] = value);\n        // newStyle[key] = type === 'remove' ? null : value;\n      });\n      this._updateStyle(newStyle);\n    }\n    this._setPreOption();\n  };\n\n  Layer.prototype._updateSize = function _updateSize (zoom) {\n    var this$1 = this;\n\n    var sizeOption = this.get('attrOptions').size;\n    var fields = parseFields(sizeOption.field);\n    var data = this.layerSource.data.dataArray;\n    if (!this.zoomSizeCache) { this.zoomSizeCache = {}; }\n    if (!this.zoomSizeCache[zoom]) {\n      this.zoomSizeCache[zoom] = [];\n      var loop = function ( i ) {\n        var params = fields.map(function (field) { return data[i][field]; });\n        var indexZoom = fields.indexOf('zoom');\n        indexZoom !== -1 ? params[indexZoom] = zoom : null;\n        this$1.zoomSizeCache[zoom].push(sizeOption.callback.apply(sizeOption, params));\n\n      };\n\n      for (var i = 0; i < data.length; i++) loop( i );\n    }\n    this.emit('sizeUpdated', this.zoomSizeCache[zoom]);\n  };\n  Layer.prototype._updateStyle = function _updateStyle (option) {\n\n    var newOption = { };\n    for (var key in option) {\n      newOption['u_' + key] = option[key];\n    }\n    updateObjecteUniform(this._object3D, newOption);\n    if (option.hasOwnProperty('textAllowOverlap')) {\n      this.repaint();\n      this.scene._engine.update();\n    }\n    if (option.hasOwnProperty('blending')) {\n      this.layerMesh && this.layerMesh.material.setBending(option.blending);\n    }\n  };\n  Layer.prototype._scaleByZoom = function _scaleByZoom () {\n    var this$1 = this;\n\n    if (this._zoomScale) {\n      this.map.on('zoomend', function () {\n        var zoom = this$1.map.getZoom();\n        this$1._updateSize(Math.floor(zoom));\n      });\n    }\n  };\n\n  Layer.prototype.getSelectFeature = function getSelectFeature (featureId, lnglat) {\n    if (this.get('layerType') === 'tile') {\n      var sourceCache = this.getSourceCache(this.get('sourceOption').id);\n      var feature$1 = sourceCache.getSelectFeature(featureId, this.layerId, lnglat);\n      return {\n        feature: feature$1\n      };\n    }\n    var feature = this.layerSource && this.layerSource.getSelectFeature(featureId) || {};\n    var style = this.layerData[featureId - 1];\n    return {\n      feature: feature,\n      style: style\n    };\n  };\n  Layer.prototype._updateFilter = function _updateFilter () {\n    this.get('mappingController').reMapping();\n  };\n  Layer.prototype._visibleWithZoom = function _visibleWithZoom () {\n    if (this._object3D === null) { return; }\n    var zoom = this.scene.getZoom();\n    var minZoom = this.get('minZoom');\n    var maxZoom = this.get('maxZoom');\n    // z-fighting\n    var offset = 0;\n    if (this.type === 'point') {\n      offset = 5;\n\n    } else if (this.type === 'polyline' || this.type === 'line') {\n      offset = 2;\n    } else if (this.type === 'polygon') {\n      offset = 1;\n    }\n    if (this.type === 'text') {\n      offset = 10;\n    }\n    this._object3D.position && (this._object3D.position.z = offset * Math.pow(2, 20 - zoom));\n    if (zoom < minZoom || zoom >= maxZoom) {\n      this._object3D.visible = false;\n    } else if (this.get('visible')) {\n      this._object3D.visible = true;\n    }\n  };\n\n  // 重新构建mesh\n  Layer.prototype.clearDraw = function clearDraw () {\n    var this$1 = this;\n\n    if (this._object3D.children) {\n      this._object3D.children.forEach(function (child) {\n        this$1._object3D.remove(child);\n      });\n    }\n    if (this._object3D.type === 'composer') {\n      var composerindex = this.scene._engine.composerLayers.indexOf(this._object3D);\n      this.scene._engine.composerLayers.splice(composerindex, 1);\n\n    }\n    // 文本清除更新\n    if (this.updateGeometryHander) {\n      this.off('camerachange', this.updateGeometryHander);\n    }\n    this.get('pickingController').removeAllMesh();\n    this.scene._engine.update();\n  };\n  Layer.prototype.redraw = function redraw () {\n    this.clearDraw();\n    this.draw();\n  };\n  /**\n   * 重置高亮要素\n   */\n  Layer.prototype._resetStyle = function _resetStyle () {\n    this._activeIds = null;\n    updateObjecteUniform(this._object3D, { u_activeId: 0 });\n  };\n  /**\n   * 销毁Layer对象\n   */\n  Layer.prototype.destroy = function destroy () {\n    this.removeAllListeners();\n    this.get('interacionController').clearAllInteractions();\n    this.clearMapEvent();\n    if (this._object3D.type === 'composer') {\n      this.remove(this._object3D);\n      return;\n    }\n    if (this._object3D && this._object3D.children) {\n      var child;\n      for (var i = 0; i < this._object3D.children.length; i++) {\n        child = this._object3D.children[i];\n        if (!child) {\n          continue;\n        }\n        this.remove(child);\n        if (child.geometry) {\n          // child.geometry.dispose();\n          child.geometry = null;\n        }\n        if (child.material) {\n          if (child.material.map) {\n            child.material.map.dispose();\n            child.material.map = null;\n          }\n\n          child.material.dispose();\n          child.material = null;\n        }\n        child = null;\n      }\n    }\n    if (this.layerMesh) {\n      this.layerMesh.geometry = null;\n      this.layerMesh.material = null;\n\n    }\n    if (this._pickingMesh) {\n      this._pickingMesh.children[0].geometry = null;\n      this._pickingMesh.children[0].material.dispose();\n      this._pickingMesh.children[0].material = null;\n    }\n    this._buffer = null;\n    this._object3D = null;\n    this.scene._engine._scene.remove(this._object3D);\n    this.layerData.length = 0;\n    this.layerSource = null;\n    this.scene._engine._picking.remove(this._pickingMesh);\n    this.destroyed = true;\n  };\n\n  /**\n   * 获取图例配置项\n   * @param {*} field 字段\n   * @param {*} type 图例类型 color, size\n   * @return {*} 图例配置项\n   */\n  Layer.prototype.getLegendCfg = function getLegendCfg (field, type) {\n    if ( type === void 0 ) type = 'color';\n\n    var mapCtr = this.get('mappingController');\n    return mapCtr.getLegendCfg(field, type);\n  };\n  Layer.prototype.preRender = function preRender () {\n\n  };\n\n  Layer.prototype.afterRender = function afterRender () {\n\n  };\n\n  // tileLayer\n  Layer.prototype.getSourceCache = function getSourceCache (id) {\n    return this.scene.style.getSource(id);\n  };\n  Layer.prototype.setHeight = function setHeight (height) {\n    this._object3D.children.forEach(function (mesh) {\n      mesh.position.z = height;\n    });\n    this.scene._engine.update();\n  };\n\n  return Layer;\n}(actor.Base));\n\nvar Render_MAP = {};\nvar getRender = function (layerType, shapeType) {\n  return Render_MAP[layerType.toLowerCase()] && Render_MAP[layerType.toLowerCase()][shapeType.toLowerCase()];\n};\nvar registerRender = function (layerType, shapeType, render) {\n  if (getRender(layerType, shapeType)) {\n    throw new Error((\"Render shapeType '\" + shapeType + \"' existed.\"));\n  }\n  // 存储到 map 中\n  if (!Render_MAP[layerType.toLowerCase()]) { Render_MAP[layerType.toLowerCase()] = {}; }\n  Render_MAP[layerType.toLowerCase()][shapeType.toLowerCase()] = render;\n};\n\nvar Material = /*@__PURE__*/(function (superclass) {\n  function Material () {\n    superclass.apply(this, arguments);\n  }\n\n  if ( superclass ) Material.__proto__ = superclass;\n  Material.prototype = Object.create( superclass && superclass.prototype );\n  Material.prototype.constructor = Material;\n\n  Material.prototype.setUniformsValue = function setUniformsValue (name, value) {\n    if (!this.uniforms[name]) { return; }\n    this.uniforms[name].value = value;\n    this.uniforms.needsUpdate = true;\n  };\n  Material.prototype.setDefinesvalue = function setDefinesvalue (name, value) {\n    this.defines[name] = value;\n    this.needsUpdate = true;\n  };\n  Material.prototype.setUniform = function setUniform (option) {\n    var uniforms = {};\n    for (var key in option) {\n      if (key.substr(0, 2) === 'u_') {\n        uniforms[key] = { value: option[key] };\n      }\n    }\n    return uniforms;\n  };\n  Material.prototype.updateUninform = function updateUninform (option) {\n    for (var key in option) {\n      if (key.substr(0, 2) === 'u_') {\n        this.setUniformsValue(key, option[key]);\n      }\n    }\n  };\n  Material.prototype.setBending = function setBending (type) {\n    this.blending = actor.THREE[Material.blendingEnum[type]] || actor.NormalBlending;\n  };\n\n  return Material;\n}(actor.ShaderMaterial));\nMaterial.blendingEnum = {\n  normal: 'NormalBlending',\n  additive: 'AdditiveBlending',\n  subtractive: 'SubtractiveBlending'\n};\n\nfunction objectWithoutProperties (obj, exclude) { var target = {}; for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k]; return target; }\n\nvar SHADER_TYPE = {\n  VS: 'vs',\n  FS: 'fs'\n};\nvar moduleCache = {};\nvar rawContentCache = {};\nvar precisionRegExp = /precision\\s+(high|low|medium)p\\s+float/;\nvar globalDefaultprecision = '#ifdef GL_FRAGMENT_PRECISION_HIGH\\n precision highp float;\\n #else\\n precision mediump float;\\n#endif\\n';\nvar globalDefaultAttribute = 'attribute float pickingId;\\n  #ifdef PICK \\n varying vec4 worldId; \\n #endif \\n';\nvar globalFSDefaultAttribute = '#ifdef PICK \\n varying vec4 worldId; \\n #endif \\n';\nvar globalDefaultInclude = '#pragma include \"pick_color\"\\n';\nvar includeRegExp = /#pragma include ([\"^+\"]?[\"\\ \"[a-zA-Z_0-9](.*)\"]*?)/g;\nvar uniformRegExp = /uniform\\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\\s+([\\s\\S]*?);/g;\n\nfunction processModule(rawContent, includeList, type) {\n  var compiled = rawContent.replace(includeRegExp, function (_, strMatch) {\n    var includeOpt = strMatch.split(' ');\n    var includeName = includeOpt[0].replace(/\"/g, '');\n\n    if (includeList.indexOf(includeName) > -1) {\n      return '';\n    }\n\n    var txt = rawContentCache[includeName][type];\n    includeList.push(includeName);\n\n    var ref = processModule(txt, includeList, type);\n    var content = ref.content;\n    return content;\n  });\n\n  return {\n    content: compiled,\n    includeList: includeList\n  };\n}\n\nfunction getUniformLengthByType(type) {\n  var arrayLength = 0;\n  switch (type) {\n    case 'vec2':\n    case 'ivec2':\n      arrayLength = 2;\n      break;\n    case 'vec3':\n    case 'ivec3':\n      arrayLength = 3;\n      break;\n    case 'vec4':\n    case 'ivec4':\n    case 'mat2':\n      arrayLength = 4;\n      break;\n    case 'mat3':\n      arrayLength = 9;\n      break;\n    case 'mat4':\n      arrayLength = 16;\n      break;\n    default:\n  }\n  return arrayLength;\n}\n\nfunction extractUniforms(content) {\n  var uniforms = {};\n  content = content.replace(uniformRegExp, function (_, type, c) {\n    var defaultValues = c.split(':');\n    var uniformName = defaultValues[0].trim();\n    var defaultValue = '';\n    if (defaultValues.length > 1) {\n      defaultValue = defaultValues[1].trim();\n    }\n\n    // set default value for uniform according to its type\n    // eg. vec2 u -> [0.0, 0.0]\n    switch (type) {\n      case 'bool':\n        defaultValue = defaultValue === 'true';\n        break;\n      case 'float':\n      case 'int':\n        defaultValue = Number(defaultValue);\n        break;\n      case 'vec2':\n      case 'vec3':\n      case 'vec4':\n      case 'ivec2':\n      case 'ivec3':\n      case 'ivec4':\n      case 'mat2':\n      case 'mat3':\n      case 'mat4':\n        if (defaultValue) {\n          defaultValue = defaultValue.replace('[', '').replace(']', '')\n            .split(',')\n            .reduce(function (prev, cur) {\n              prev.push(Number(cur.trim()));\n              return prev;\n            }, []);\n        } else {\n          defaultValue = new Array(getUniformLengthByType(type)).fill(0);\n        }\n        break;\n      default:\n    }\n\n    uniforms[uniformName] = defaultValue;\n    return (\"uniform \" + type + \" \" + uniformName + \";\\n\");\n  });\n  return {\n    content: content,\n    uniforms: uniforms\n  };\n}\n\nfunction registerModule(moduleName, ref) {\n  var obj;\n\n  var vs = ref.vs;\n  var fs = ref.fs;\n  var declaredUniforms = ref.uniforms;\n  var ref$1 = extractUniforms(vs);\n  var extractedVS = ref$1.content;\n  var vsUniforms = ref$1.uniforms;\n  var ref$2 = extractUniforms(fs);\n  var extractedFS = ref$2.content;\n  var fsUniforms = ref$2.uniforms;\n\n  rawContentCache[moduleName] = ( obj = {}, obj[SHADER_TYPE.VS] = extractedVS, obj[SHADER_TYPE.FS] = extractedFS, obj.uniforms = Object.assign({}, vsUniforms,\n      fsUniforms,\n      declaredUniforms), obj );\n}\n\nfunction getModule(moduleName) {\n  var obj;\n\n  if (moduleCache[moduleName]) {\n    return moduleCache[moduleName];\n  }\n\n  var rawVS = rawContentCache[moduleName][SHADER_TYPE.VS];\n  var rawFS = rawContentCache[moduleName][SHADER_TYPE.FS];\n\n  rawVS = globalDefaultAttribute + globalDefaultInclude + rawVS;\n  rawFS = globalFSDefaultAttribute + rawFS;\n\n  var ref = processModule(rawVS, [], SHADER_TYPE.VS);\n  var vs = ref.content;\n  var vsIncludeList = ref.includeList;\n  var ref$1 = processModule(rawFS, [], SHADER_TYPE.FS);\n  var fs = ref$1.content;\n  var fsIncludeList = ref$1.includeList;\n  // TODO: extract uniforms and their default values from GLSL\n  var uniforms = actor.uniq(vsIncludeList.concat(fsIncludeList).concat(moduleName)).reduce(function (prev, cur) {\n    return Object.assign({}, prev,\n      rawContentCache[cur].uniforms);\n  }, {});\n\n  /**\n   * set default precision for fragment shader\n   * https://stackoverflow.com/questions/28540290/why-it-is-necessary-to-set-precision-for-the-fragment-shader\n   */\n  if (!precisionRegExp.test(fs)) {\n    fs = globalDefaultprecision + fs;\n  }\n\n  moduleCache[moduleName] = ( obj = {}, obj[SHADER_TYPE.VS] = vs.trim(), obj[SHADER_TYPE.FS] = fs.trim(), obj.uniforms = uniforms, obj );\n  return moduleCache[moduleName];\n}\n\nfunction wrapUniforms(uniforms) {\n  return Object.keys(uniforms).reduce(function (prev, cur) {\n    prev[cur] = {\n      value: uniforms[cur]\n    };\n    return prev;\n  }, {});\n}\n\nvar DEFAULT_LIGHT = {\n  type: 'directional',\n  // direction: [ 1, 10.5, 12 ],\n  direction: [ 0, -10.5, 1 ],\n  ambient: [ 0.2, 0.2, 0.2 ],\n  diffuse: [ 0.6, 0.6, 0.6 ],\n  specular: [ 0.1, 0.1, 0.1 ]\n};\n\nvar DEFAULT_DIRECTIONAL_LIGHT = {\n  direction: [ 0, 0, 0 ],\n  ambient: [ 0, 0, 0 ],\n  diffuse: [ 0, 0, 0 ],\n  specular: [ 0, 0, 0 ]\n};\n\nvar DEFAULT_SPOT_LIGHT = {\n  position: [ 0, 0, 0 ],\n  direction: [ 0, 0, 0 ],\n  ambient: [ 0, 0, 0 ],\n  diffuse: [ 0, 0, 0 ],\n  specular: [ 0, 0, 0 ],\n  constant: 1,\n  linear: 0,\n  quadratic: 0,\n  angle: 14,\n  exponent: 40,\n  blur: 5\n};\n\nvar COLOR_ATTRIBUTES = [\n  'ambient', 'diffuse', 'specular'\n];\n\nfunction generateLightingUniforms(lights) {\n  var lightsMap = {\n    u_directional_lights: new Array(3).fill(Object.assign({}, DEFAULT_DIRECTIONAL_LIGHT)),\n    u_num_of_directional_lights: 0,\n    u_spot_lights: new Array(3).fill(Object.assign({}, DEFAULT_SPOT_LIGHT)),\n    u_num_of_spot_lights: 0\n  };\n  if (!lights || !lights.length) {\n    lights = [ DEFAULT_LIGHT ];\n  }\n  lights.forEach(function (ref, i) {\n    var type = ref.type;\n    var rest$1 = objectWithoutProperties( ref, [\"type\"] );\n    var rest = rest$1;\n\n    var lightsUniformName = \"u_\" + type + \"_lights\";\n    var lightsNumUniformName = \"u_num_of_\" + type + \"_lights\";\n\n    Object.keys(rest).forEach(function (key) {\n      if (actor.isString(rest[key]) && COLOR_ATTRIBUTES.indexOf(key) > -1) {\n        rest[key] = actor.ColorUtil.color2RGBA(rest[key]).slice(0, 3);\n      }\n    });\n\n    lightsMap[lightsUniformName][i] = Object.assign({}, lightsMap[lightsUniformName][i], rest);\n    lightsMap[lightsNumUniformName]++;\n  });\n  return lightsMap;\n}\n\nvar PolygonMaterial = /*@__PURE__*/(function (Material) {\n  function PolygonMaterial(_uniforms, _defines, parameters) {\n    Material.call(this, parameters);\n    var ref = getModule('polygon');\n    var vs = ref.vs;\n    var fs = ref.fs;\n    var uniforms = ref.uniforms;\n    this.uniforms = wrapUniforms(actor.merge(uniforms, _uniforms));\n    this.type = 'PolygonMaterial';\n    this.defines = _defines;\n\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n  }\n\n  if ( Material ) PolygonMaterial.__proto__ = Material;\n  PolygonMaterial.prototype = Object.create( Material && Material.prototype );\n  PolygonMaterial.prototype.constructor = PolygonMaterial;\n\n  return PolygonMaterial;\n}(Material));\n\nfunction DrawPolygonFill(layerData, layer, buffer) {\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  var config = Object.assign({}, style,\n    {activeColor: activeOption.fill});\n  var opacity = config.opacity;\n  var activeColor = config.activeColor;\n  var lights = config.lights;\n  if (!buffer) {\n    var geometryBuffer = actor.getBuffer(layer.type, layer.shape);\n    buffer = new geometryBuffer({\n      layerData: layerData\n    });\n\n  }\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var geometry = new actor.BufferGeometry();\n  if (indexArray) {\n    geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  }\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.computeVertexNormals();\n  var material = new PolygonMaterial(Object.assign({}, {u_opacity: opacity,\n    u_activeColor: activeColor},\n    generateLightingUniforms(lights)), {\n    SHAPE: false,\n    LIGHTING: true\n  });\n  var fillPolygonMesh = new actor.Mesh(geometry, material);\n  delete attributes.vertices;\n  delete attributes.colors;\n  delete attributes.pickingIds;\n  delete attributes.normals;\n  return fillPolygonMesh;\n}\n\nfunction LineMaterial(options) {\n  var ref = getModule('line');\n  var vs = ref.vs;\n  var fs = ref.fs;\n  var material = new Material({\n    uniforms: {\n      u_opacity: { value: options.u_opacity || 1.0 },\n      u_time: { value: options.u_time || 0 },\n      u_zoom: { value: options.u_zoom || 10 },\n      u_activeId: { value: options.activeId || 0 },\n      u_activeColor: { value: options.activeColor || [ 1.0, 0, 0, 1.0 ] }\n    },\n    vertexShader: vs,\n    fragmentShader: fs,\n    transparent: true,\n    blending: actor.THREE[Material.blendingEnum[options.blending]]\n  });\n  return material;\n}\n// 弧线绘制 大圆航线 3D弧线\nfunction ArcLineMaterial(options) {\n  var moduleName = 'arcline';\n  if (options.shapeType === 'greatCircle') {\n    moduleName = 'greatcircle';\n  }\n  var ref = getModule(moduleName);\n  var vs = ref.vs;\n  var fs = ref.fs;\n  var uniforms = ref.uniforms;\n  var material = new Material({\n    uniforms: wrapUniforms(actor.merge(uniforms, {\n      u_opacity: options.u_opacity,\n      segmentNumber: 30,\n      u_time: 0,\n      u_zoom: options.u_zoom,\n      u_activeId: options.activeId,\n      u_activeColor: options.activeColor\n    })),\n    vertexShader: vs,\n    fragmentShader: fs,\n    transparent: true,\n    side: actor.DoubleSide,\n    blending: actor.THREE[Material.blendingEnum[options.blending]]\n  });\n  return material;\n}\n\nfunction MeshLineMaterial(options, defines) {\n  var ref = getModule('meshline');\n  var vs = ref.vs;\n  var fs = ref.fs;\n  var uniforms = ref.uniforms;\n  var material = new Material({\n    uniforms: wrapUniforms(actor.merge(uniforms, options, {\n      u_activeId: options.activeId,\n      u_activeColor: options.activeColor\n    })),\n    defines: defines,\n    vertexShader: vs,\n    fragmentShader: fs,\n    transparent: true,\n    blending: actor.THREE[Material.blendingEnum[options.blending]]\n  });\n  return material;\n}\n\nfunction DrawPolygonLine(layerData, layer, buffer) {\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  var config = Object.assign({}, style,\n    {activeColor: activeOption.fill});\n  var opacity = config.opacity;\n  if (!buffer) {\n    var geometryBuffer = actor.getBuffer(layer.type, layer.shape);\n    buffer = new geometryBuffer({\n      layerData: layerData\n    });\n\n  }\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var geometry = new actor.BufferGeometry();\n  if (indexArray) {\n    geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  }\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  var lineMaterial = new LineMaterial({\n    u_opacity: opacity\n  }, {\n    SHAPE: false\n  });\n  var polygonLineMesh = new actor.LineSegments(geometry, lineMaterial);\n  return polygonLineMesh;\n}\n\nfunction DrawAnimate(layerData, layer, buffer) {\n  var style = layer.get('styleOptions');\n  var ref = layer.map.getCameraState();\n  var near = ref.near;\n  var far = ref.far;\n  layer.scene.startAnimate();\n  if (!buffer) {\n    var geometryBuffer = actor.getBuffer(layer.type, 'extrude');\n    buffer = new geometryBuffer({\n      layerData: layerData,\n      uv: true\n    });\n\n  }\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var opacity = style.opacity;\n  var baseColor = style.baseColor;\n  var brightColor = style.brightColor;\n  var windowColor = style.windowColor;\n  var lights = style.lights;\n  var geometry = new actor.BufferGeometry();\n  if (indexArray) {\n    geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  }\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('faceUv', new actor.Float32BufferAttribute(attributes.uv, 2));\n  // geometry.addAttribute('a_size', new THREE.Float32BufferAttribute(attributes.sizes, 1));\n  geometry.computeVertexNormals();\n  var material = new PolygonMaterial(Object.assign({}, {u_opacity: opacity,\n    u_baseColor: baseColor,\n    u_brightColor: brightColor,\n    u_windowColor: windowColor,\n    u_near: near,\n    u_far: far},\n    generateLightingUniforms(lights)), {\n    SHAPE: false,\n    LIGHTING: true,\n    ANIMATE: true\n  });\n  var fillPolygonMesh = new actor.Mesh(geometry, material);\n  return fillPolygonMesh;\n}\n\nDrawAnimate.prototype.updateStyle = function(style) {\n  this.fillPolygonMesh.material.updateUninform({\n    u_opacity: style.opacity,\n    u_baseColor: style.baseColor,\n    u_brightColor: style.brightColor,\n    u_windowColor: style.windowColor\n  });\n};\n\nfunction Draw3DShape(layerData, layer) {\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  var geometryBuffer = actor.getBuffer('shape', 'extrude');\n  var buffer = new geometryBuffer({\n    layerData: layerData,\n    shapeType: layer.shapeType\n  });\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var geometry = new actor.BufferGeometry();\n  geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('normal', new actor.Float32BufferAttribute(attributes.normals, 3));\n  geometry.addAttribute('a_shape', new actor.Float32BufferAttribute(attributes.miters, 3));\n  geometry.addAttribute('a_size', new actor.Float32BufferAttribute(attributes.sizes, 3));\n\n  var material = new PolygonMaterial(Object.assign({}, {u_opacity: style.opacity,\n    u_activeColor: activeOption.fill,\n    u_zoom: layer.scene.getZoom()},\n    generateLightingUniforms(style.lights)), {\n    SHAPE: true,\n    LIGHTING: true\n  });\n  material.setDefinesvalue('SHAPE', true);\n  material.setBending(style.blending || 'normal');\n  var fillMesh = new actor.Mesh(geometry, material);\n  return fillMesh;\n}\n\nfunction TextMaterial(_uniforms) {\n  var ref = getModule('text');\n  var vs = ref.vs;\n  var fs = ref.fs;\n  var uniforms = ref.uniforms;\n  var material = new Material({\n    defines: {\n      SDF_PX: '8.0',\n      EDGE_GAMMA: 0.105 / window.devicePixelRatio\n    },\n    uniforms: wrapUniforms(actor.merge(uniforms, _uniforms)),\n    vertexShader: vs,\n    fragmentShader: fs,\n    transparent: true\n  });\n  return material;\n}\n\n/**\n * 返回文本相对锚点位置\n * @param {string} anchor 锚点位置\n * @return {alignment} alignment\n */\nfunction getAnchorAlignment(anchor) {\n  var horizontalAlign = 0.5;\n  var verticalAlign = 0.5;\n\n  switch (anchor) {\n    case 'right':\n    case 'top-right':\n    case 'bottom-right':\n      horizontalAlign = 1;\n      break;\n    case 'left':\n    case 'top-left':\n    case 'bottom-left':\n      horizontalAlign = 0;\n      break;\n    default:\n      horizontalAlign = 0.5;\n  }\n\n  switch (anchor) {\n    case 'bottom':\n    case 'bottom-right':\n    case 'bottom-left':\n      verticalAlign = 1;\n      break;\n    case 'top':\n    case 'top-right':\n    case 'top-left':\n      verticalAlign = 0;\n      break;\n    default:\n      verticalAlign = 0.5;\n  }\n\n  return { horizontalAlign: horizontalAlign, verticalAlign: verticalAlign };\n}\n\n// justify right = 1, left = 0, center = 0.5\nfunction justifyLine(\n  positionedGlyphs,\n  glyphMap,\n  start,\n  end,\n  justify) {\n  if (!justify) {\n    return;\n  }\n\n  var lastPositionedGlyph = positionedGlyphs[end];\n  var glyph = lastPositionedGlyph.glyph;\n  if (glyph) {\n    var lastAdvance = glyphMap[glyph].advance * lastPositionedGlyph.scale;\n    var lineIndent = (positionedGlyphs[end].x + lastAdvance) * justify;\n\n    for (var j = start; j <= end; j++) {\n      positionedGlyphs[j].x -= lineIndent;\n    }\n  }\n}\n\n// justify right=1 left=0 center=0.5\n// horizontalAlign right=1 left=0 center=0.5\n// verticalAlign right=1 left=0 center=0.5\nfunction align(\n  positionedGlyphs,\n  justify,\n  horizontalAlign,\n  verticalAlign,\n  maxLineLength,\n  lineHeight,\n  lineCount\n) {\n  var shiftX = (justify - horizontalAlign) * maxLineLength;\n  var shiftY = (-verticalAlign * lineCount + 0.5) * lineHeight;\n\n  for (var j = 0; j < positionedGlyphs.length; j++) {\n    positionedGlyphs[j].x += shiftX;\n    positionedGlyphs[j].y += shiftY;\n  }\n}\n\nfunction shapeLines(\n  shaping,\n  glyphMap,\n  lines,\n  lineHeight,\n  textAnchor,\n  textJustify,\n  spacing\n) {\n  // buffer 为 4\n  var yOffset = -8;\n\n  var x = 0;\n  var y = yOffset;\n\n  var maxLineLength = 0;\n  var positionedGlyphs = shaping.positionedGlyphs;\n\n  var justify =\n    textJustify === 'right' ? 1 :\n      textJustify === 'left' ? 0 : 0.5;\n\n  var lineStartIndex = positionedGlyphs.length;\n  lines.forEach(function (line) {\n    line.split('').forEach(function (char) {\n      var glyph = glyphMap[char];\n      var baselineOffset = 0;\n\n      if (glyph) {\n        positionedGlyphs.push({\n          glyph: char,\n          x: x,\n          y: y + baselineOffset,\n          vertical: false, // TODO：目前只支持水平方向\n          scale: 1,\n          metrics: glyph\n        });\n        x += glyph.advance + spacing;\n      }\n    });\n\n    // 左右对齐\n    if (positionedGlyphs.length !== lineStartIndex) {\n      var lineLength = x - spacing;\n      maxLineLength = Math.max(lineLength, maxLineLength);\n      justifyLine(positionedGlyphs, glyphMap, lineStartIndex, positionedGlyphs.length - 1, justify);\n    }\n\n    x = 0;\n    y += lineHeight;\n  });\n\n  var ref = getAnchorAlignment(textAnchor);\n  var horizontalAlign = ref.horizontalAlign;\n  var verticalAlign = ref.verticalAlign;\n  align(positionedGlyphs, justify, horizontalAlign, verticalAlign, maxLineLength, lineHeight, lines.length);\n\n  // 计算包围盒\n  var height = y - yOffset;\n\n  shaping.top += -verticalAlign * height;\n  shaping.bottom = shaping.top + height;\n  shaping.left += -horizontalAlign * maxLineLength;\n  shaping.right = shaping.left + maxLineLength;\n}\n\n/**\n * 计算文本中每个独立字符相对锚点的位置\n *\n * @param {string} text 原始文本\n * @param {*} glyphs mapping\n * @param {number} lineHeight 行高\n * @param {string} textAnchor 文本相对于锚点的位置\n * @param {string} textJustify 左右对齐\n * @param {number} spacing 字符间距\n * @param {[number, number]} translate 文本水平 & 垂直偏移量\n * @return {boolean|shaping} 每个字符相对于锚点的位置\n */\nfunction shapeText(\n  text,\n  glyphs,\n  lineHeight,\n  textAnchor,\n  textJustify,\n  spacing,\n  translate\n) {\n\n  // TODO：处理换行\n  var lines = text.split('\\n');\n\n  var positionedGlyphs = [];\n  var shaping = {\n    positionedGlyphs: positionedGlyphs,\n    top: translate[1],\n    bottom: translate[1],\n    left: translate[0],\n    right: translate[0],\n    lineCount: lines.length,\n    text: text\n  };\n\n  shapeLines(shaping, glyphs, lines, lineHeight, textAnchor, textJustify, spacing);\n  if (!positionedGlyphs.length) { return false; }\n\n  return shaping;\n}\n\nfunction getGlyphQuads(\n  shaping,\n  textOffset,\n  alongLine\n) {\n  var positionedGlyphs = shaping.positionedGlyphs;\n  var quads = [];\n\n  for (var k = 0; k < positionedGlyphs.length; k++) {\n    var positionedGlyph = positionedGlyphs[k];\n    var rect = positionedGlyph.metrics;\n\n    // The rects have an addditional buffer that is not included in their size.\n    var rectBuffer = 4;\n\n    var halfAdvance = rect.advance * positionedGlyph.scale / 2;\n\n    var glyphOffset = alongLine ?\n      [ positionedGlyph.x + halfAdvance, positionedGlyph.y ] :\n      [ 0, 0 ];\n\n    var builtInOffset = alongLine ?\n      [ 0, 0 ] :\n      [ positionedGlyph.x + halfAdvance + textOffset[0], positionedGlyph.y + textOffset[1] ];\n\n    var x1 = (0 - rectBuffer) * positionedGlyph.scale - halfAdvance + builtInOffset[0];\n    var y1 = (0 - rectBuffer) * positionedGlyph.scale + builtInOffset[1];\n    var x2 = x1 + rect.width * positionedGlyph.scale;\n    var y2 = y1 + rect.height * positionedGlyph.scale;\n\n    var tl = { x: x1, y: y1 };\n    var tr = { x: x2, y: y1 };\n    var bl = { x: x1, y: y2 };\n    var br = { x: x2, y: y2 };\n\n    // TODO：处理字符旋转的情况\n\n    quads.push({ tl: tl, tr: tr, bl: bl, br: br, tex: rect, glyphOffset: glyphOffset });\n  }\n\n  return quads;\n}\n\n/**\n * 为文本构建顶点数据，仅支持点要素自动标注。\n * @see https://zhuanlan.zhihu.com/p/72222549\n * @see https://zhuanlan.zhihu.com/p/74373214\n */\n\nfunction TextBuffer(\n  layerData,\n  sourceData,\n  options,\n  fontAtlasManager,\n  collisionIndex,\n  mvpMatrix\n) {\n  var fontWeight = options.fontWeight;\n  var fontFamily = options.fontFamily;\n  var characterSet = [];\n  sourceData.forEach(function (element) {\n    // shape 存储了 text-field\n    var text = element.shape || '';\n    text = text.toString();\n    for (var j = 0; j < text.length; j++) {\n      // 去重\n      if (characterSet.indexOf(text[j]) === -1) {\n        characterSet.push(text[j]);\n      }\n    }\n  });\n  fontAtlasManager.setProps({\n    characterSet: characterSet,\n    fontFamily: fontFamily,\n    fontWeight: fontWeight\n  });\n  return drawGlyph(layerData, sourceData, options, fontAtlasManager, collisionIndex, mvpMatrix);\n}\n\nfunction drawGlyph(\n  layerData, sourceData,\n  ref,\n  fontAtlasManager,\n  collisionIndex,\n  mvpMatrix\n) {\n  var spacing = ref.spacing; if ( spacing === void 0 ) spacing = 2;\n  var textAnchor = ref.textAnchor; if ( textAnchor === void 0 ) textAnchor = 'center';\n  var textOffset = ref.textOffset; if ( textOffset === void 0 ) textOffset = [ 0, 0 ];\n  var padding = ref.padding; if ( padding === void 0 ) padding = [ 4, 4 ];\n  var textAllowOverlap = ref.textAllowOverlap;\n\n  var texture = fontAtlasManager.texture;\n  var fontAtlas = fontAtlasManager.fontAtlas;\n  var mapping = fontAtlasManager.mapping;\n\n  var attributes = {\n    fontAtlas: fontAtlas,\n    texture: texture,\n    positions: [],\n    colors: [],\n    pickingIds: [],\n    textUVs: [],\n    textOffsets: [],\n    textSizes: [],\n    index: []\n  };\n  var indexCounter = 0;\n  layerData.forEach(function (feature, i) {\n    var size = feature.size;\n    var coordinates = feature.coordinates;\n    // 根据字段获取文本\n    var text = \"\" + (layerData[i].shape || '');\n    // sdf 中默认字号为 24\n    var fontScale = size / 24;\n\n    // 1. 计算每个字符相对锚点的位置\n    var shaping = shapeText(text, mapping, 24, textAnchor, 'center', spacing, textOffset);\n\n    if (shaping) {\n      // 2. 尝试加入空间索引，获取碰撞检测结果\n      // TODO：按照 feature 中指定字段排序，确定插入权重，保证优先级高的文本优先展示\n      var ref = collisionIndex.placeCollisionBox({\n        x1: shaping.left * fontScale - padding[0],\n        x2: shaping.right * fontScale + padding[0],\n        y1: shaping.top * fontScale - padding[1],\n        y2: shaping.bottom * fontScale + padding[1],\n        // 点要素锚点就是当前点位置\n        anchorPointX: coordinates[0],\n        anchorPointY: coordinates[1]\n      }, mvpMatrix);\n      var box = ref.box;\n\n      // 无碰撞则加入空间索引\n      if (textAllowOverlap || box && box.length) {\n        // TODO：featureIndex\n        collisionIndex.insertCollisionBox(box, 0);\n\n        // 3. 计算可供渲染的文本块，其中每个字符都包含纹理坐标\n        var glyphQuads = getGlyphQuads(shaping, textOffset, false);\n\n        // 4. 构建顶点数据，四个顶点组成一个 quad\n        indexCounter = addAttributeForFeature(feature, attributes, glyphQuads, indexCounter);\n      }\n    }\n  });\n  return attributes;\n}\n\nfunction addAttributeForFeature(feature, attributes, glyphQuads, indexCounter) {\n  var id = feature.id;\n  var size = feature.size;\n  var color = feature.color;\n  var coordinates = feature.coordinates;\n  glyphQuads.forEach(function (quad) {\n    var ref;\n\n\n    attributes.pickingIds.push(\n      id,\n      id,\n      id,\n      id\n    );\n\n    (ref = attributes.colors).push.apply(\n      ref, color.concat( color,\n      color,\n      color )\n    );\n\n    attributes.positions.push(\n      coordinates[0], coordinates[1],\n      coordinates[0], coordinates[1],\n      coordinates[0], coordinates[1],\n      coordinates[0], coordinates[1]\n    );\n\n    attributes.textUVs.push(\n      quad.tex.x, quad.tex.y + quad.tex.height,\n      quad.tex.x + quad.tex.width, quad.tex.y + quad.tex.height,\n      quad.tex.x + quad.tex.width, quad.tex.y,\n      quad.tex.x, quad.tex.y\n    );\n\n    attributes.textOffsets.push(\n      quad.tl.x, quad.tl.y,\n      quad.tr.x, quad.tr.y,\n      quad.br.x, quad.br.y,\n      quad.bl.x, quad.bl.y\n    );\n\n    attributes.textSizes.push(\n      size,\n      size,\n      size,\n      size\n    );\n\n    attributes.index.push(\n      0 + indexCounter,\n      1 + indexCounter,\n      2 + indexCounter,\n      2 + indexCounter,\n      3 + indexCounter,\n      0 + indexCounter\n    );\n    indexCounter += 4;\n  });\n\n  return indexCounter;\n}\n\n/**\n * 网格索引，相比 @mapbox/grid-index，在简单计算碰撞检测结果时效率更高\n * @see https://zhuanlan.zhihu.com/p/74373214\n */\nvar GridIndex = function GridIndex(width, height, cellSize) {\n  var boxCells = this.boxCells = [];\n\n  this.xCellCount = Math.ceil(width / cellSize);\n  this.yCellCount = Math.ceil(height / cellSize);\n\n  for (var i = 0; i < this.xCellCount * this.yCellCount; i++) {\n    boxCells.push([]);\n  }\n  this.boxKeys = [];\n  this.bboxes = [];\n\n  this.width = width;\n  this.height = height;\n  this.xScale = this.xCellCount / width;\n  this.yScale = this.yCellCount / height;\n  this.boxUid = 0;\n};\n\nGridIndex.prototype.insert = function insert (key, x1, y1, x2, y2) {\n  this._forEachCell(x1, y1, x2, y2, this._insertBoxCell, this.boxUid++);\n  this.boxKeys.push(key);\n  this.bboxes.push(x1);\n  this.bboxes.push(y1);\n  this.bboxes.push(x2);\n  this.bboxes.push(y2);\n};\n\nGridIndex.prototype._insertBoxCell = function _insertBoxCell (x1, y1, x2, y2, cellIndex, uid) {\n  this.boxCells[cellIndex].push(uid);\n};\n\nGridIndex.prototype._query = function _query (x1, y1, x2, y2, hitTest, predicate) {\n  if (x2 < 0 || x1 > this.width || y2 < 0 || y1 > this.height) {\n    return hitTest ? false : [];\n  }\n  var result = [];\n  if (x1 <= 0 && y1 <= 0 && this.width <= x2 && this.height <= y2) {\n    // 这一步是高效的关键，后续精确碰撞检测结果在计算文本可见性时并不需要\n    if (hitTest) {\n      return true;\n    }\n    for (var boxUid = 0; boxUid < this.boxKeys.length; boxUid++) {\n      result.push({\n        key: this.boxKeys[boxUid],\n        x1: this.bboxes[boxUid * 4],\n        y1: this.bboxes[boxUid * 4 + 1],\n        x2: this.bboxes[boxUid * 4 + 2],\n        y2: this.bboxes[boxUid * 4 + 3]\n      });\n    }\n    return predicate ? result.filter(predicate) : result;\n  }\n\n  var queryArgs = {\n    hitTest: hitTest,\n    seenUids: { box: {}, circle: {} }\n  };\n  this._forEachCell(x1, y1, x2, y2, this._queryCell, result, queryArgs, predicate);\n  return hitTest ? result.length > 0 : result;\n};\n\nGridIndex.prototype.query = function query (x1, y1, x2, y2, predicate) {\n  return this._query(x1, y1, x2, y2, false, predicate);\n};\n\nGridIndex.prototype.hitTest = function hitTest (x1, y1, x2, y2, predicate) {\n  return this._query(x1, y1, x2, y2, true, predicate);\n};\n\nGridIndex.prototype._queryCell = function _queryCell (x1, y1, x2, y2, cellIndex, result, queryArgs, predicate) {\n  var seenUids = queryArgs.seenUids;\n  var boxCell = this.boxCells[cellIndex];\n  if (boxCell !== null) {\n    var bboxes = this.bboxes;\n    for (var i = 0, list = boxCell; i < list.length; i += 1) {\n      var boxUid = list[i];\n\n        if (!seenUids.box[boxUid]) {\n        seenUids.box[boxUid] = true;\n        var offset = boxUid * 4;\n        if ((x1 <= bboxes[offset + 2]) &&\n          (y1 <= bboxes[offset + 3]) &&\n          (x2 >= bboxes[offset + 0]) &&\n          (y2 >= bboxes[offset + 1]) &&\n          (!predicate || predicate(this.boxKeys[boxUid]))) {\n          if (queryArgs.hitTest) {\n            result.push(true);\n            return true;\n          }\n          result.push({\n            key: this.boxKeys[boxUid],\n            x1: bboxes[offset],\n            y1: bboxes[offset + 1],\n            x2: bboxes[offset + 2],\n            y2: bboxes[offset + 3]\n          });\n        }\n      }\n    }\n  }\n  return false;\n};\n\nGridIndex.prototype._forEachCell = function _forEachCell (x1, y1, x2, y2, fn, arg1, arg2, predicate) {\n  var cx1 = this._convertToXCellCoord(x1);\n  var cy1 = this._convertToYCellCoord(y1);\n  var cx2 = this._convertToXCellCoord(x2);\n  var cy2 = this._convertToYCellCoord(y2);\n\n  for (var x = cx1; x <= cx2; x++) {\n    for (var y = cy1; y <= cy2; y++) {\n      var cellIndex = this.xCellCount * y + x;\n      if (fn.call(this, x1, y1, x2, y2, cellIndex, arg1, arg2, predicate)) { return; }\n    }\n  }\n};\n\nGridIndex.prototype._convertToXCellCoord = function _convertToXCellCoord (x) {\n  return Math.max(0, Math.min(this.xCellCount - 1, Math.floor(x * this.xScale)));\n};\n\nGridIndex.prototype._convertToYCellCoord = function _convertToYCellCoord (y) {\n  return Math.max(0, Math.min(this.yCellCount - 1, Math.floor(y * this.yScale)));\n};\n\n// import GridIndex from 'grid-index';\n\n// 为 viewport 加上 buffer，避免边缘处的文本无法显示\nvar viewportPadding = 100;\n\n/**\n * 基于网格实现文本避让，大幅提升包围盒碰撞检测效率\n * @see https://zhuanlan.zhihu.com/p/74373214\n */\nvar CollisionIndex = function CollisionIndex(width, height) {\n  this.width = width;\n  this.height = height;\n  // 创建网格索引\n  this.grid = new GridIndex(width + 2 * viewportPadding, height + 2 * viewportPadding, 25);\n\n  this.screenRightBoundary = width + viewportPadding;\n  this.screenBottomBoundary = height + viewportPadding;\n  this.gridRightBoundary = width + 2 * viewportPadding;\n  this.gridBottomBoundary = height + 2 * viewportPadding;\n};\n\nCollisionIndex.prototype.placeCollisionBox = function placeCollisionBox (collisionBox, mvpMatrix) {\n  var projectedPoint = this.project(mvpMatrix, collisionBox.anchorPointX, collisionBox.anchorPointY);\n\n  var tlX = collisionBox.x1 + projectedPoint.x;\n  var tlY = collisionBox.y1 + projectedPoint.y;\n  var brX = collisionBox.x2 + projectedPoint.x;\n  var brY = collisionBox.y2 + projectedPoint.y;\n\n  if (!this.isInsideGrid(tlX, tlY, brX, brY) ||\n    this.grid.hitTest(tlX, tlY, brX, brY)\n  ) {\n    return {\n      box: []\n    };\n  }\n\n  return {\n    box: [ tlX, tlY, brX, brY ]\n  };\n};\n\nCollisionIndex.prototype.insertCollisionBox = function insertCollisionBox (collisionBox, featureIndex) {\n  var key = { featureIndex: featureIndex };\n  this.grid.insert(key, collisionBox[0], collisionBox[1], collisionBox[2], collisionBox[3]);\n};\n\n/**\n * 后续碰撞检测都需要投影到 viewport 坐标系\n * @param {THREE.Matrix4} mvpMatrix mvp矩阵\n * @param {number} x P20 平面坐标X\n * @param {number} y P20 平面坐标Y\n * @return {Point} projectedPoint\n */\nCollisionIndex.prototype.project = function project (mvpMatrix, x, y) {\n  var p = new actor.Vector4(x, y, 0, 1)\n    .applyMatrix4(mvpMatrix);\n\n  // GL 坐标系[-1, 1] -> viewport 坐标系[width, height]\n  return {\n    x: (((p.x / p.w + 1) / 2) * this.width) + viewportPadding,\n    y: (((-p.y / p.w + 1) / 2) * this.height) + viewportPadding\n  };\n};\n\n/**\n * 判断包围盒是否在整个网格内，需要加上 buffer\n * @param {number} x1 x1\n * @param {number} y1 y1\n * @param {number} x2 x2\n * @param {number} y2 y2\n * @return {Point} isInside\n */\nCollisionIndex.prototype.isInsideGrid = function isInsideGrid (x1, y1, x2, y2) {\n  return x2 >= 0 && x1 < this.gridRightBoundary && y2 >= 0 && y1 < this.gridBottomBoundary;\n};\n\nvar defaultTextStyle = {\n  fontWeight: 500,\n  textAnchor: 'center',\n  textOffset: [ 0, 0 ],\n  spacing: 2,\n  padding: [ 4, 4 ],\n  stroke: 'white',\n  strokeWidth: 2,\n  strokeOpacity: 1.0,\n  textAllowOverlap: false\n};\nfunction DrawText(layerData, layer) {\n  var style = Object.assign({}, defaultTextStyle,\n    layer.get('styleOptions'));\n  layer.set('styleOptions', style);\n  var activeOption = layer.get('activedOptions');\n  var strokeWidth = style.strokeWidth;\n  var stroke = style.stroke;\n  var opacity = style.opacity;\n  var textAllowOverlap = style.textAllowOverlap;\n  var ref = layer.scene.getSize();\n  var width = ref.width;\n  var height = ref.height;\n  var ref$1 = _updateGeometry(layerData, layer);\n  var geometry = ref$1.geometry;\n  var texture = ref$1.texture;\n  var fontAtlas = ref$1.fontAtlas;\n  layer.updateGeometryHander = function () {\n    var ref = _updateGeometry(layerData, layer);\n    var geometry = ref.geometry;\n    layer.layerMesh.geometry = geometry;\n    layer.layerMesh.geometry.needsUpdate = true;\n  };\n  if (!textAllowOverlap) { // 支持避让\n    layer.on('camerachange', layer.updateGeometryHander);\n  } else {\n    layer.off('camerachange', layer.updateGeometryHander);\n  }\n  var material = new TextMaterial({\n    name: layer.layerId,\n    u_sdf_map: texture,\n    u_stroke: stroke,\n    u_strokeWidth: strokeWidth,\n    u_halo_blur: 0.5,\n    u_opacity: opacity,\n    u_sdf_map_size: [ fontAtlas.width, fontAtlas.height ],\n    u_viewport_size: [ width, height ],\n    u_activeColor: activeOption.fill\n  });\n  var mesh = new actor.Mesh(geometry, material);\n\n  // 关闭视锥裁剪\n  mesh.frustumCulled = false;\n  return mesh;\n}\n\nfunction _updateGeometry(layerData, layer) {\n  var style = layer.get('styleOptions');\n  var fontFamily = style.fontFamily;\n  var fontWeight = style.fontWeight;\n  var spacing = style.spacing;\n  var textAnchor = style.textAnchor;\n  var textOffset = style.textOffset;\n  var padding = style.padding;\n  var textAllowOverlap = style.textAllowOverlap;\n  var ref = layer.scene.getSize();\n  var width = ref.width;\n  var height = ref.height;\n  var collisionIndex = new CollisionIndex(width, height);\n  var ref$1 = layer.scene._engine;\n  var ref$1_camera = ref$1._camera;\n  var projectionMatrix = ref$1_camera.projectionMatrix;\n  var matrixWorldInverse = ref$1_camera.matrixWorldInverse;\n\n  // 计算 MVP 矩阵\n  var mvpMatrix = new actor.Matrix4()\n    .copy(projectionMatrix)\n    .multiply(matrixWorldInverse);\n\n  var ref$2 = new TextBuffer(\n    layerData,\n    layerData,\n    {\n      fontFamily: fontFamily,\n      fontWeight: fontWeight,\n      spacing: spacing,\n      textAnchor: textAnchor,\n      textOffset: textOffset,\n      padding: padding,\n      textAllowOverlap: textAllowOverlap\n    },\n    layer.scene.fontAtlasManager,\n    collisionIndex,\n    mvpMatrix\n  );\n  var index = ref$2.index;\n  var positions = ref$2.positions;\n  var pickingIds = ref$2.pickingIds;\n  var texture = ref$2.texture;\n  var colors = ref$2.colors;\n  var textUVs = ref$2.textUVs;\n  var textOffsets = ref$2.textOffsets;\n  var textSizes = ref$2.textSizes;\n  var fontAtlas = ref$2.fontAtlas;\n\n  var geometry = new actor.BufferGeometry();\n  geometry.setIndex(index);\n  geometry.addAttribute(\n    'a_pos',\n    new actor.Float32BufferAttribute(positions, 2)\n  );\n  geometry.addAttribute(\n    'pickingId',\n    new actor.Float32BufferAttribute(pickingIds, 1)\n  );\n  geometry.addAttribute(\n    'a_color',\n    new actor.Float32BufferAttribute(colors, 4)\n  );\n  geometry.addAttribute(\n    'a_tex',\n    new actor.Float32BufferAttribute(textUVs, 2)\n  );\n  geometry.addAttribute(\n    'a_offset',\n    new actor.Float32BufferAttribute(textOffsets, 2)\n  );\n  geometry.addAttribute(\n    'a_size',\n    new actor.Float32BufferAttribute(textSizes, 1)\n  );\n  return { geometry: geometry, texture: texture, fontAtlas: fontAtlas };\n}\n\nfunction DrawLine(layerData, layer, buffer) {\n  var style = layer.get('styleOptions');\n  var animateOptions = layer.get('animateOptions');\n  var activeOption = layer.get('activedOptions');\n  if (!buffer) {\n    var geometryBuffer = actor.getBuffer(layer.type, layer.shapeType);\n    buffer = new geometryBuffer({\n      layerData: layerData,\n      shapeType: 'line',\n      style: style,\n      imagePos: layer.scene.image.imagePos\n    });\n\n  }\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var hasPattern = buffer.hasPattern;\n  var geometry = new actor.BufferGeometry();\n  geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('a_size', new actor.Float32BufferAttribute(attributes.sizes, 1));\n  geometry.addAttribute('normal', new actor.Float32BufferAttribute(attributes.normals, 3));\n  geometry.addAttribute('a_miter', new actor.Float32BufferAttribute(attributes.miters, 1));\n  geometry.addAttribute('a_distance', new actor.Float32BufferAttribute(attributes.attrDistance, 1));\n  geometry.addAttribute('a_dash_array', new actor.Float32BufferAttribute(attributes.dashArray, 1));\n  geometry.addAttribute('a_texture_coord', new actor.Float32BufferAttribute(attributes.patterns, 2));\n  geometry.addAttribute('a_total_distance', new actor.Float32BufferAttribute(attributes.totalDistances, 1));\n  var lineMaterial = new MeshLineMaterial({\n    u_opacity: style.opacity,\n    u_zoom: layer.scene.getZoom(),\n    u_time: 0,\n    u_dash_offset: style.dashOffset,\n    u_dash_ratio: style.dashRatio,\n    activeColor: activeOption.fill,\n    u_pattern_spacing: style.patternSpacing || 0,\n    u_texture: hasPattern ? layer.scene.image.texture : null,\n    blending: style.blending || 'normal'\n  }, {\n    SHAPE: false,\n    ANIMATE: false,\n    DASHLINE: style.lineType === 'dash',\n    TEXTURE: hasPattern\n  });\n  var lineMesh = new actor.Mesh(geometry, lineMaterial);\n  if (animateOptions.enable) {\n    layer.scene.startAnimate();\n    var duration = animateOptions.duration; if ( duration === void 0 ) duration = 2;\n    var interval = animateOptions.interval; if ( interval === void 0 ) interval = 0.5;\n    var trailLength = animateOptions.trailLength; if ( trailLength === void 0 ) trailLength = 0.5;\n    var repeat = animateOptions.repeat; if ( repeat === void 0 ) repeat = Infinity;\n    layer.animateDuration =\n    layer.scene._engine.clock.getElapsedTime() + duration * repeat;\n    lineMaterial.updateUninform({\n      u_duration: duration,\n      u_interval: interval,\n      u_trailLength: trailLength\n    });\n    lineMaterial.setDefinesvalue('ANIMATE', true);\n  }\n  return lineMesh;\n}\n\nfunction DrawArcLine(layerData, layer, buffer) {\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  if (!buffer) {\n    var geometryBuffer = actor.getBuffer(layer.type, layer.shapeType);\n    buffer = new geometryBuffer({\n      layerData: layerData,\n      shapeType: layer.shapeType,\n      style: style\n    });\n\n  }\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var geometry = new actor.BufferGeometry();\n  geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('a_instance', new actor.Float32BufferAttribute(attributes.instanceArray, 4));\n  geometry.addAttribute('a_size', new actor.Float32BufferAttribute(attributes.sizes, 1));\n  var lineMaterial = new ArcLineMaterial({\n    u_opacity: style.opacity,\n    u_zoom: layer.scene.getZoom(),\n    activeColor: activeOption.fill,\n    shapeType: layer.shapeType,\n    blending: style.blending || 'additive'\n  }, {\n    SHAPE: false\n  });\n  var animateOptions = layer.get('animateOptions');\n  if (animateOptions.enable) {\n    layer.scene.startAnimate();\n    var duration = animateOptions.duration; if ( duration === void 0 ) duration = 2;\n    var interval = animateOptions.interval; if ( interval === void 0 ) interval = 0.5;\n    var trailLength = animateOptions.trailLength; if ( trailLength === void 0 ) trailLength = 0.5;\n    var repeat = animateOptions.repeat; if ( repeat === void 0 ) repeat = Infinity;\n    layer.animateDuration =\n    layer.scene._engine.clock.getElapsedTime() + duration * repeat;\n    lineMaterial.updateUninform({\n      u_duration: duration,\n      u_interval: interval,\n      u_trailLength: trailLength\n    });\n    lineMaterial.setDefinesvalue('ANIMATE', true);\n  }\n  var arcMesh = new actor.Mesh(geometry, lineMaterial);\n  arcMesh.frustumCulled = false;\n  return arcMesh;\n}\n\n/**\n * 绘制3D多边形轮廓\n * @param {*} points 点数据组\n * @return {object} 顶点坐标和顶点索引\n */\nfunction extrudeline(points) {\n  var positions = [];\n  points[0].forEach(function (p) { positions.push([ p[0], p[1], 0 ]); });\n  points[0].forEach(function (p) { positions.push([ p[0], p[1], 1 ]); }); // top\n  var vertIndex = [];\n  var pointCount = points[0].length;\n  var vertCount = pointCount - 1;\n  for (var i = 0; i < vertCount; i++) {\n    vertIndex.push(i, i + 1);\n    vertIndex.push(i + pointCount, i + 1 + pointCount);\n    vertIndex.push(i, i + pointCount);\n  }\n  vertIndex.push(vertCount, 0);\n  vertIndex.push(vertCount, vertCount + pointCount);\n  vertIndex.push(vertCount + pointCount, pointCount);\n  var newPositions = [];\n  vertIndex.forEach(function (index) {\n    newPositions.push(positions[index]);\n  });\n  return newPositions;\n}\n\n// mesh line\n\nfunction Line(path, props, positionsIndex, lengthPerDashSegment, textureCoord) {\n  if ( lengthPerDashSegment === void 0 ) lengthPerDashSegment = 200;\n\n  if (Array.isArray(path[0][0])) {\n    path = path[0]; // 面坐标转线坐标\n  }\n  var positions = [];\n  var pickingIds = [];\n  var normal = [];\n  var miter = [];\n  var colors = [];\n  var dashArray = [];\n  var textureCoordArray = [];\n  var ref = actor.getNormals(path, false, positionsIndex);\n  var normals = ref.normals;\n  var attrIndex = ref.attrIndex;\n  var attrPos = ref.attrPos;\n  var attrDistance = ref.attrDistance;\n  var sizes = [];\n  var totalDistances = [];\n  var size = props.size;\n  var color = props.color;\n  var id = props.id;\n  !Array.isArray(size) && (size = [ size ]);\n  var totalLength = attrDistance[attrDistance.length - 1];\n  attrPos.forEach(function (point) {\n    colors.push.apply(colors, color);\n    pickingIds.push(id);\n    sizes.push(size[0]);\n    point[2] = size[1] || 0;\n    positions.push.apply(positions, point);\n    textureCoordArray.push(textureCoord.x, textureCoord.y);\n    totalDistances.push(totalLength);\n  });\n\n  var ratio = lengthPerDashSegment / totalLength;\n  normals.forEach(function (n) {\n    var norm = n[0];\n    var m = n[1];\n    normal.push(norm[0], norm[1], 0);\n    miter.push(m);\n    dashArray.push(ratio);\n  });\n\n\n  return {\n    positions: positions,\n    normal: normal,\n    indexArray: actor.flatten(attrIndex),\n    miter: miter,\n    colors: colors,\n    sizes: sizes,\n    pickingIds: pickingIds,\n    attrDistance: attrDistance,\n    dashArray: dashArray,\n    textureCoordArray: textureCoordArray,\n    totalDistances: totalDistances\n  };\n}\n\nvar pointShape = actor.Global.pointShape;\nfunction StrokeBuffer(layerData, style) {\n  var attribute = {\n    shapes: [],\n    normal: [],\n    miter: [],\n    indexArray: [],\n    sizes: [],\n    positions: [],\n    pickingIds: [],\n    colors: []\n  };\n  var stroke = style.stroke;\n  var strokeWidth = style.strokeWidth;\n  layerData.forEach(function (item) {\n    var size = item.size;\n    var shape = item.shape;\n    var id = item.id;\n    var coordinates = item.coordinates;\n    var path = actor.polygonPath[shape]();\n    var positionsIndex = attribute.miter.length;\n    var polygon = null;\n    if (pointShape['2d'].indexOf(shape) !== -1) {\n      actor.Util.isArray(size) || (size = [ size, size, 0 ]);\n      polygon = Line([ path ], { size: [ strokeWidth, 0 ], color: stroke, id: id }, positionsIndex);\n    } else if (pointShape['3d'].indexOf(shape) !== -1) {\n      actor.Util.isArray(size) || (size = [ size, size, size ]);\n      var polygonExtrudePath = extrudeline([ path ]);\n      // TODO 3d line\n      polygon = Line([ polygonExtrudePath ], { size: [ strokeWidth, 0 ], color: stroke, id: id }, positionsIndex);\n\n\n    } else {\n      throw new Error('Invalid shape type: ' + shape);\n    }\n    polygonLineBuffer(polygon, coordinates, size, attribute);\n\n  });\n  return attribute;\n}\nfunction polygonLineBuffer(polygon, geo, size, attribute) {\n  var ref, ref$1, ref$2, ref$3, ref$4, ref$5;\n\n  (ref = attribute.shapes).push.apply(ref, polygon.positions);\n  (ref$1 = attribute.normal).push.apply(ref$1, polygon.normal);\n  (ref$2 = attribute.miter).push.apply(ref$2, polygon.miter);\n  (ref$3 = attribute.pickingIds).push.apply(ref$3, polygon.pickingIds);\n  (ref$4 = attribute.indexArray).push.apply(ref$4, polygon.indexArray);\n  (ref$5 = attribute.colors).push.apply(ref$5, polygon.colors);\n  polygon.miter.forEach(function () {\n    var ref, ref$1;\n\n    (ref = attribute.positions).push.apply(ref, geo); // 多边形位置\n    (ref$1 = attribute.sizes).push.apply(ref$1, size); // 多边形大小\n  });\n\n}\n\nfunction ImageBuffer(layerData, opt) {\n  var attributes = {\n    vertices: [],\n    colors: [],\n    sizes: [],\n    shapes: [],\n    pickingIds: [],\n    uv: []\n  };\n  layerData.forEach(function (item) {\n    var ref$1, ref$2;\n\n    var color = item.color; if ( color === void 0 ) color = [ 0, 0, 0, 0 ];\n    var size = item.size;\n    var id = item.id;\n    var shape = item.shape;\n    var coordinates = item.coordinates;\n    var ref = opt.imagePos[shape];\n    var x = ref.x;\n    var y = ref.y;\n    (ref$1 = attributes.vertices).push.apply(ref$1, coordinates);\n    (ref$2 = attributes.colors).push.apply(ref$2, color);\n    attributes.pickingIds.push(id);\n    attributes.sizes.push(size * window.devicePixelRatio); //\n    attributes.uv.push(x, y);\n    attributes.shapes.push(shape);\n  });\n\n\n  return attributes;\n}\n\nfunction NormalBuffer(layerData) {\n  var attributes = {\n    vertices: [],\n    colors: [],\n    sizes: [],\n    pickingIds: []\n  };\n  layerData.forEach(function (item) {\n    var ref, ref$1;\n\n    var color = item.color;\n    var size = item.size;\n    var id = item.id;\n    var coordinates = item.coordinates;\n    (ref = attributes.vertices).push.apply(ref, coordinates);\n    (ref$1 = attributes.colors).push.apply(ref$1, color);\n    attributes.pickingIds.push(id);\n    attributes.sizes.push(size);\n\n  });\n  return attributes;\n}\n\nvar PointMaterial = /*@__PURE__*/(function (Material) {\n  function PointMaterial(_uniforms, _defines, parameters) {\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var uniforms = ref.uniforms;\n    var defines = ref.defines;\n    var ref$1 = getModule('point');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    this.uniforms = Object.assign(uniforms, this.setUniform(_uniforms));\n    this.defines = Object.assign(defines, _defines);\n    this.type = 'PointMaterial';\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n    if (this.uniforms.u_texture) {\n      this.defines.TEXCOORD_0 = true;\n    }\n  }\n\n  if ( Material ) PointMaterial.__proto__ = Material;\n  PointMaterial.prototype = Object.create( Material && Material.prototype );\n  PointMaterial.prototype.constructor = PointMaterial;\n\n  PointMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n        u_opacity: { value: 1 },\n        u_stroke: { value: [ 1.0, 1.0, 1.0, 1.0 ] },\n        u_strokeWidth: { value: 1 },\n        u_activeId: { value: 0 }\n      },\n      defines: {\n        SHAPE: false,\n        TEXCOORD_0: false\n      }\n    };\n  };\n\n  return PointMaterial;\n}(Material));\n\nfunction DrawImage(layerData, layer) {\n  var geometry = new actor.BufferGeometry();\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  var strokeWidth = style.strokeWidth;\n  var stroke = style.stroke;\n  var opacity = style.opacity;\n  var texture = layer.scene.image.texture;\n  var attributes = ImageBuffer(layerData, {\n    imagePos: layer.scene.image.imagePos\n  });\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.vertices, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('uv', new actor.Float32BufferAttribute(attributes.uv, 2));\n  geometry.addAttribute('a_size', new actor.Float32BufferAttribute(attributes.sizes, 1));\n  var material = new PointMaterial({\n    u_opacity: opacity,\n    u_strokeWidth: strokeWidth,\n    u_stroke: stroke,\n    u_activeColor: activeOption.fill,\n    u_texture: texture\n  }, {\n    SHAPE: false,\n    TEXCOORD_0: true\n  });\n  material.depthTest = false;\n  material.setBending(style.blending || 'normal');\n  var strokeMesh = new actor.Points(geometry, material);\n  return strokeMesh;\n}\n\nvar PointMaterial$1 = /*@__PURE__*/(function (Material) {\n  function PointMaterial(_uniforms, _defines, parameters) {\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var uniforms = ref.uniforms;\n    var defines = ref.defines;\n    var ref$1 = getModule('pointnormal');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    this.uniforms = Object.assign(uniforms, this.setUniform(_uniforms));\n    this.defines = Object.assign(defines, _defines);\n    this.type = 'PointMaterial';\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n    if (_uniforms) {\n      this.blending = actor.THREE[Material.blendingEnum[_uniforms.blending]];\n    }\n  }\n\n  if ( Material ) PointMaterial.__proto__ = Material;\n  PointMaterial.prototype = Object.create( Material && Material.prototype );\n  PointMaterial.prototype.constructor = PointMaterial;\n\n  PointMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n        u_opacity: { value: 1 },\n        u_stroke: { value: [ 1.0, 1.0, 1.0, 1.0 ] },\n        u_strokeWidth: { value: 1 },\n        u_activeId: { value: 0 }\n      },\n      defines: {\n        SHAPE: false,\n        TEXCOORD_0: false\n      }\n    };\n  };\n\n  return PointMaterial;\n}(Material));\n\n/**\n * 原生点绘制\n */\n\nfunction DrawNormal(layerData, layer) {\n  var geometry = new actor.BufferGeometry();\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  var opacity = style.opacity;\n  var attributes = NormalBuffer(layerData);\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.vertices, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('a_size', new actor.Float32BufferAttribute(attributes.sizes, 1));\n  var material = new PointMaterial$1({\n    u_opacity: opacity,\n    u_activeColor: activeOption.fill\n  }, {\n  }, style);\n  var strokeMesh = new actor.Points(geometry, material);\n  material.setBending('additive');\n  return strokeMesh;\n}\n\nvar PointLineMaterial = /*@__PURE__*/(function (Material) {\n  function PointLineMaterial(_uniforms, _defines, parameters) {\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var uniforms = ref.uniforms;\n    var ref$1 = getModule('pointline');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    this.uniforms = Object.assign(uniforms, this.setUniform(_uniforms));\n    this.type = 'PointLineMaterial';\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n  }\n\n  if ( Material ) PointLineMaterial.__proto__ = Material;\n  PointLineMaterial.prototype = Object.create( Material && Material.prototype );\n  PointLineMaterial.prototype.constructor = PointLineMaterial;\n\n  PointLineMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n        u_strokeOpacity: { value: 1 },\n        u_stroke: { value: [ 1.0, 1.0, 1.0, 1.0 ] },\n        u_strokeWidth: { value: 1.0 },\n        u_zoom: { value: 10 },\n        u_activeId: { value: 0 },\n        u_activeColor: { value: [ 1.0, 0, 0, 1.0 ] }\n\n      }\n    };\n  };\n\n  return PointLineMaterial;\n}(Material));\n\n/**\n * @author lzxue\n * @email lzx199065@gmail.com\n * @create date 2018-11-29 16:35:34\n * @modify date 2018-11-29 16:35:34\n * @desc [description] 绘制图形的边框\n*/\nfunction DrawStroke(layerData, layer) {\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  var strokeWidth = style.strokeWidth;\n  var stroke = style.stroke;\n  var strokeOpacity = style.strokeOpacity;\n  var attributes = StrokeBuffer(layerData, style);\n  var geometry = new actor.BufferGeometry();\n  geometry.setIndex(attributes.indexArray);\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('a_shape', new actor.Float32BufferAttribute(attributes.shapes, 3));\n  geometry.addAttribute('a_size', new actor.Float32BufferAttribute(attributes.sizes, 3));\n  geometry.addAttribute('normal', new actor.Float32BufferAttribute(attributes.normal, 3));\n  geometry.addAttribute('a_miter', new actor.Float32BufferAttribute(attributes.miter, 1));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  var material = new PointLineMaterial({\n    u_strokeOpacity: strokeOpacity,\n    u_stroke: stroke,\n    u_strokeWidth: strokeWidth,\n    u_activeColor: activeOption.fill\n  });\n  var strokeMesh = new actor.Mesh(geometry, material);\n  return strokeMesh;\n}\n\nvar CircleMaterial = /*@__PURE__*/(function (Material) {\n  function CircleMaterial(_uniforms, _defines, parameters) {\n    if ( _defines === void 0 ) _defines = {};\n\n    Material.call(this, parameters);\n    var ref = getModule('circle');\n    var vs = ref.vs;\n    var fs = ref.fs;\n    var uniforms = ref.uniforms;\n    this.uniforms = wrapUniforms(actor.merge(uniforms, _uniforms));\n    this.defines = _defines;\n    this.type = 'CircleMaterial';\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n  }\n\n  if ( Material ) CircleMaterial.__proto__ = Material;\n  CircleMaterial.prototype = Object.create( Material && Material.prototype );\n  CircleMaterial.prototype.constructor = CircleMaterial;\n\n  return CircleMaterial;\n}(Material));\n\n/**\n * 绘制 SDF，不仅是圆形\n * 手动构建点阵坐标系，便于实现描边、反走样效果\n */\nfunction drawCircle(layerData, layer, buffer) {\n  var style = layer.get('styleOptions');\n  var activeOption = layer.get('activedOptions');\n  if (!buffer) {\n    var geometryBuffer = actor.getBuffer(layer.type, layer.shapeType);\n    buffer = new geometryBuffer({\n      layerData: layerData\n    });\n\n  }\n  // const { aPosition, aPackedData } = buffer.attributes;\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var geometry = new actor.BufferGeometry();\n\n  if (buffer.indexArray) {\n    geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  }\n  // geometry.addAttribute('position', new THREE.Float32BufferAttribute(aPosition, 3));\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('miter', new actor.Float32BufferAttribute(attributes.miters, 2));\n  geometry.addAttribute('a_size', new actor.Float32BufferAttribute(attributes.sizes, 1));\n  geometry.addAttribute('a_shape', new actor.Float32BufferAttribute(attributes.shapes, 1));\n  // geometry.addAttribute('a_packed_data', new THREE.Float32BufferAttribute(aPackedData, 4));\n  var material = new CircleMaterial({\n    u_opacity: style.opacity,\n    u_activeColor: activeOption.fill,\n    u_zoom: layer.scene.getZoom(),\n    u_stroke: style.stroke,\n    u_strokeWidth: style.strokeWidth,\n    u_strokeOpacity: style.strokeOpacity\n  });\n  material.depthTest = false;\n  material.setBending(style.blending || 'normal');\n  var fillMesh = new actor.Mesh(geometry, material);\n  return fillMesh;\n}\n\nvar hexagonMaterial = /*@__PURE__*/(function (Material) {\n  function hexagonMaterial(_uniforms, _defines, parameters) {\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var defines = ref.defines;\n    var ref$1 = getModule('hexagon');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    var uniforms = ref$1.uniforms;\n    this.uniforms = wrapUniforms(actor.merge(uniforms, _uniforms));\n    this.type = 'hexagonMaterial';\n    this.defines = Object.assign(defines, _defines);\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n  }\n\n  if ( Material ) hexagonMaterial.__proto__ = Material;\n  hexagonMaterial.prototype = Object.create( Material && Material.prototype );\n  hexagonMaterial.prototype.constructor = hexagonMaterial;\n\n  hexagonMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n        u_opacity: { value: 1.0 },\n        u_time: { value: 0 },\n        u_radius: { value: 0.01 },\n        u_angle: { value: 0.01 },\n        u_coverage: { value: 0.8 },\n        u_activeId: { value: 0 },\n        u_activeColor: { value: [ 1.0, 0, 0, 1.0 ] }\n      },\n      defines: {\n\n      }\n    };\n  };\n\n  return hexagonMaterial;\n}(Material));\n\nfunction DrawHexagon(layerData, layer, source) {\n  var style = layer.get('styleOptions');\n  var ref = layer.get('activedOptions');\n  var fill = ref.fill;\n  var ref$1 = source.data;\n  var radius = ref$1.radius;\n  var opacity = style.opacity;\n  var angle = style.angle; if ( angle === void 0 ) angle = 0;\n  var coverage = style.coverage;\n  var lights = style.lights;\n  var geometryBuffer = actor.getBuffer(layer.type, 'shape');\n  var buffer = new geometryBuffer({\n    layerData: layerData,\n    shapeType: layer.shapeType\n  });\n  var attributes = buffer.attributes;\n  var instanceGeometry = buffer.instanceGeometry;\n  var instancedGeometry = new actor.InstancedBufferGeometry();\n  instancedGeometry.setIndex(instanceGeometry.indexArray);\n  instancedGeometry.addAttribute('miter', new actor.Float32BufferAttribute(instanceGeometry.positions, 3));\n  if (instanceGeometry.normals) {\n    instancedGeometry.addAttribute('normal', new actor.Float32BufferAttribute(instanceGeometry.normals, 3));\n  }\n  instancedGeometry.addAttribute('position', new actor.InstancedBufferAttribute(new Float32Array(attributes.positions), 3));\n  instancedGeometry.addAttribute('a_color', new actor.InstancedBufferAttribute(new Float32Array(attributes.colors), 4));\n  instancedGeometry.addAttribute('pickingId', new actor.InstancedBufferAttribute(new Float32Array(attributes.pickingIds), 1));\n  instancedGeometry.addAttribute('a_size', new actor.InstancedBufferAttribute(new Float32Array(attributes.sizes), 1));\n\n  var material = new hexagonMaterial(Object.assign({}, {u_opacity: opacity,\n    u_radius: radius,\n    u_angle: angle / 180 * Math.PI,\n    u_coverage: coverage,\n    u_activeColor: fill},\n    generateLightingUniforms(lights)), {\n    SHAPE: false,\n    LIGHTING: !!instanceGeometry.normals\n  });\n  var hexgonMesh = new actor.Mesh(instancedGeometry, material);\n  return hexgonMesh;\n}\n\nvar GridMaterial = /*@__PURE__*/(function (Material) {\n  function GridMaterial(_uniforms, _defines, parameters) {\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var defines = ref.defines;\n    var ref$1 = getModule('grid');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    var uniforms = ref$1.uniforms;\n    this.uniforms = wrapUniforms(actor.merge(uniforms, _uniforms));\n    this.type = 'GridMaterial';\n    this.defines = Object.assign(defines, _defines);\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n  }\n\n  if ( Material ) GridMaterial.__proto__ = Material;\n  GridMaterial.prototype = Object.create( Material && Material.prototype );\n  GridMaterial.prototype.constructor = GridMaterial;\n\n  GridMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n        u_opacity: { value: 1.0 },\n        u_time: { value: 0 },\n        u_xOffset: { value: 0.01 },\n        u_yOffset: { value: 0.01 },\n        u_coverage: { value: 0.8 },\n        u_activeId: { value: 0 },\n        u_activeColor: { value: [ 1.0, 0, 0, 1.0 ] }\n      },\n      defines: {\n\n      }\n    };\n  };\n\n  return GridMaterial;\n}(Material));\n\nfunction DrawGrid(layerData, layer, source) {\n  var ref = layer.get('styleOptions');\n  var opacity = ref.opacity;\n  var coverage = ref.coverage;\n  var lights = ref.lights;\n  var activeOption = layer.get('activedOptions');\n  var ref$1 = source.data;\n  var xOffset = ref$1.xOffset;\n  var yOffset = ref$1.yOffset;\n\n  // const attributes = new gridBuffer(layerdata);\n  var geometryBuffer = actor.getBuffer(layer.type, layer.shapeType);\n  var buffer = new geometryBuffer({\n    layerData: layerData,\n    shapeType: layer.shapeType\n  });\n  var attributes = buffer.attributes;\n  var indexArray = buffer.indexArray;\n  var geometry = new actor.BufferGeometry();\n  geometry.setIndex(new actor.Uint32BufferAttribute(indexArray, 1));\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.positions, 3));\n  geometry.addAttribute('miter', new actor.Float32BufferAttribute(attributes.miters, 3));\n  geometry.addAttribute('a_color', new actor.Float32BufferAttribute(attributes.colors, 4));\n  geometry.addAttribute('pickingId', new actor.Float32BufferAttribute(attributes.pickingIds, 1));\n  geometry.addAttribute('normal', new actor.Float32BufferAttribute(attributes.normals, 3));\n\n  var material = new GridMaterial(Object.assign({}, {u_opacity: opacity,\n    u_xOffset: xOffset,\n    u_yOffset: yOffset,\n    u_coverage: coverage,\n    u_activeColor: activeOption.fill},\n    generateLightingUniforms(lights)), {\n    SHAPE: false,\n    LIGHTING: layer.shapeType !== 'square'\n  });\n  var gridMesh = new actor.Mesh(geometry, material);\n  return gridMesh;\n}\n\n// code from https://github.com/santilland/plotty/blob/master/src/colorscales.js\nvar colorScales = {\n  viridis: new Uint8Array([ 68, 1, 84, 255, 68, 2, 86, 255, 69, 4, 87, 255, 69, 5, 89, 255, 70, 7, 90, 255, 70, 8, 92, 255, 70, 10, 93, 255, 70, 11, 94, 255, 71, 13, 96, 255, 71, 14, 97, 255, 71, 16, 99, 255, 71, 17, 100, 255, 71, 19, 101, 255, 72, 20, 103, 255, 72, 22, 104, 255, 72, 23, 105, 255, 72, 24, 106, 255, 72, 26, 108, 255, 72, 27, 109, 255, 72, 28, 110, 255, 72, 29, 111, 255, 72, 31, 112, 255, 72, 32, 113, 255, 72, 33, 115, 255, 72, 35, 116, 255, 72, 36, 117, 255, 72, 37, 118, 255, 72, 38, 119, 255, 72, 40, 120, 255, 72, 41, 121, 255, 71, 42, 122, 255, 71, 44, 122, 255, 71, 45, 123, 255, 71, 46, 124, 255, 71, 47, 125, 255, 70, 48, 126, 255, 70, 50, 126, 255, 70, 51, 127, 255, 70, 52, 128, 255, 69, 53, 129, 255, 69, 55, 129, 255, 69, 56, 130, 255, 68, 57, 131, 255, 68, 58, 131, 255, 68, 59, 132, 255, 67, 61, 132, 255, 67, 62, 133, 255, 66, 63, 133, 255, 66, 64, 134, 255, 66, 65, 134, 255, 65, 66, 135, 255, 65, 68, 135, 255, 64, 69, 136, 255, 64, 70, 136, 255, 63, 71, 136, 255, 63, 72, 137, 255, 62, 73, 137, 255, 62, 74, 137, 255, 62, 76, 138, 255, 61, 77, 138, 255, 61, 78, 138, 255, 60, 79, 138, 255, 60, 80, 139, 255, 59, 81, 139, 255, 59, 82, 139, 255, 58, 83, 139, 255, 58, 84, 140, 255, 57, 85, 140, 255, 57, 86, 140, 255, 56, 88, 140, 255, 56, 89, 140, 255, 55, 90, 140, 255, 55, 91, 141, 255, 54, 92, 141, 255, 54, 93, 141, 255, 53, 94, 141, 255, 53, 95, 141, 255, 52, 96, 141, 255, 52, 97, 141, 255, 51, 98, 141, 255, 51, 99, 141, 255, 50, 100, 142, 255, 50, 101, 142, 255, 49, 102, 142, 255, 49, 103, 142, 255, 49, 104, 142, 255, 48, 105, 142, 255, 48, 106, 142, 255, 47, 107, 142, 255, 47, 108, 142, 255, 46, 109, 142, 255, 46, 110, 142, 255, 46, 111, 142, 255, 45, 112, 142, 255, 45, 113, 142, 255, 44, 113, 142, 255, 44, 114, 142, 255, 44, 115, 142, 255, 43, 116, 142, 255, 43, 117, 142, 255, 42, 118, 142, 255, 42, 119, 142, 255, 42, 120, 142, 255, 41, 121, 142, 255, 41, 122, 142, 255, 41, 123, 142, 255, 40, 124, 142, 255, 40, 125, 142, 255, 39, 126, 142, 255, 39, 127, 142, 255, 39, 128, 142, 255, 38, 129, 142, 255, 38, 130, 142, 255, 38, 130, 142, 255, 37, 131, 142, 255, 37, 132, 142, 255, 37, 133, 142, 255, 36, 134, 142, 255, 36, 135, 142, 255, 35, 136, 142, 255, 35, 137, 142, 255, 35, 138, 141, 255, 34, 139, 141, 255, 34, 140, 141, 255, 34, 141, 141, 255, 33, 142, 141, 255, 33, 143, 141, 255, 33, 144, 141, 255, 33, 145, 140, 255, 32, 146, 140, 255, 32, 146, 140, 255, 32, 147, 140, 255, 31, 148, 140, 255, 31, 149, 139, 255, 31, 150, 139, 255, 31, 151, 139, 255, 31, 152, 139, 255, 31, 153, 138, 255, 31, 154, 138, 255, 30, 155, 138, 255, 30, 156, 137, 255, 30, 157, 137, 255, 31, 158, 137, 255, 31, 159, 136, 255, 31, 160, 136, 255, 31, 161, 136, 255, 31, 161, 135, 255, 31, 162, 135, 255, 32, 163, 134, 255, 32, 164, 134, 255, 33, 165, 133, 255, 33, 166, 133, 255, 34, 167, 133, 255, 34, 168, 132, 255, 35, 169, 131, 255, 36, 170, 131, 255, 37, 171, 130, 255, 37, 172, 130, 255, 38, 173, 129, 255, 39, 173, 129, 255, 40, 174, 128, 255, 41, 175, 127, 255, 42, 176, 127, 255, 44, 177, 126, 255, 45, 178, 125, 255, 46, 179, 124, 255, 47, 180, 124, 255, 49, 181, 123, 255, 50, 182, 122, 255, 52, 182, 121, 255, 53, 183, 121, 255, 55, 184, 120, 255, 56, 185, 119, 255, 58, 186, 118, 255, 59, 187, 117, 255, 61, 188, 116, 255, 63, 188, 115, 255, 64, 189, 114, 255, 66, 190, 113, 255, 68, 191, 112, 255, 70, 192, 111, 255, 72, 193, 110, 255, 74, 193, 109, 255, 76, 194, 108, 255, 78, 195, 107, 255, 80, 196, 106, 255, 82, 197, 105, 255, 84, 197, 104, 255, 86, 198, 103, 255, 88, 199, 101, 255, 90, 200, 100, 255, 92, 200, 99, 255, 94, 201, 98, 255, 96, 202, 96, 255, 99, 203, 95, 255, 101, 203, 94, 255, 103, 204, 92, 255, 105, 205, 91, 255, 108, 205, 90, 255, 110, 206, 88, 255, 112, 207, 87, 255, 115, 208, 86, 255, 117, 208, 84, 255, 119, 209, 83, 255, 122, 209, 81, 255, 124, 210, 80, 255, 127, 211, 78, 255, 129, 211, 77, 255, 132, 212, 75, 255, 134, 213, 73, 255, 137, 213, 72, 255, 139, 214, 70, 255, 142, 214, 69, 255, 144, 215, 67, 255, 147, 215, 65, 255, 149, 216, 64, 255, 152, 216, 62, 255, 155, 217, 60, 255, 157, 217, 59, 255, 160, 218, 57, 255, 162, 218, 55, 255, 165, 219, 54, 255, 168, 219, 52, 255, 170, 220, 50, 255, 173, 220, 48, 255, 176, 221, 47, 255, 178, 221, 45, 255, 181, 222, 43, 255, 184, 222, 41, 255, 186, 222, 40, 255, 189, 223, 38, 255, 192, 223, 37, 255, 194, 223, 35, 255, 197, 224, 33, 255, 200, 224, 32, 255, 202, 225, 31, 255, 205, 225, 29, 255, 208, 225, 28, 255, 210, 226, 27, 255, 213, 226, 26, 255, 216, 226, 25, 255, 218, 227, 25, 255, 221, 227, 24, 255, 223, 227, 24, 255, 226, 228, 24, 255, 229, 228, 25, 255, 231, 228, 25, 255, 234, 229, 26, 255, 236, 229, 27, 255, 239, 229, 28, 255, 241, 229, 29, 255, 244, 230, 30, 255, 246, 230, 32, 255, 248, 230, 33, 255, 251, 231, 35, 255, 253, 231, 37, 255 ]),\n  inferno: new Uint8Array([ 0, 0, 4, 255, 1, 0, 5, 255, 1, 1, 6, 255, 1, 1, 8, 255, 2, 1, 10, 255, 2, 2, 12, 255, 2, 2, 14, 255, 3, 2, 16, 255, 4, 3, 18, 255, 4, 3, 20, 255, 5, 4, 23, 255, 6, 4, 25, 255, 7, 5, 27, 255, 8, 5, 29, 255, 9, 6, 31, 255, 10, 7, 34, 255, 11, 7, 36, 255, 12, 8, 38, 255, 13, 8, 41, 255, 14, 9, 43, 255, 16, 9, 45, 255, 17, 10, 48, 255, 18, 10, 50, 255, 20, 11, 52, 255, 21, 11, 55, 255, 22, 11, 57, 255, 24, 12, 60, 255, 25, 12, 62, 255, 27, 12, 65, 255, 28, 12, 67, 255, 30, 12, 69, 255, 31, 12, 72, 255, 33, 12, 74, 255, 35, 12, 76, 255, 36, 12, 79, 255, 38, 12, 81, 255, 40, 11, 83, 255, 41, 11, 85, 255, 43, 11, 87, 255, 45, 11, 89, 255, 47, 10, 91, 255, 49, 10, 92, 255, 50, 10, 94, 255, 52, 10, 95, 255, 54, 9, 97, 255, 56, 9, 98, 255, 57, 9, 99, 255, 59, 9, 100, 255, 61, 9, 101, 255, 62, 9, 102, 255, 64, 10, 103, 255, 66, 10, 104, 255, 68, 10, 104, 255, 69, 10, 105, 255, 71, 11, 106, 255, 73, 11, 106, 255, 74, 12, 107, 255, 76, 12, 107, 255, 77, 13, 108, 255, 79, 13, 108, 255, 81, 14, 108, 255, 82, 14, 109, 255, 84, 15, 109, 255, 85, 15, 109, 255, 87, 16, 110, 255, 89, 16, 110, 255, 90, 17, 110, 255, 92, 18, 110, 255, 93, 18, 110, 255, 95, 19, 110, 255, 97, 19, 110, 255, 98, 20, 110, 255, 100, 21, 110, 255, 101, 21, 110, 255, 103, 22, 110, 255, 105, 22, 110, 255, 106, 23, 110, 255, 108, 24, 110, 255, 109, 24, 110, 255, 111, 25, 110, 255, 113, 25, 110, 255, 114, 26, 110, 255, 116, 26, 110, 255, 117, 27, 110, 255, 119, 28, 109, 255, 120, 28, 109, 255, 122, 29, 109, 255, 124, 29, 109, 255, 125, 30, 109, 255, 127, 30, 108, 255, 128, 31, 108, 255, 130, 32, 108, 255, 132, 32, 107, 255, 133, 33, 107, 255, 135, 33, 107, 255, 136, 34, 106, 255, 138, 34, 106, 255, 140, 35, 105, 255, 141, 35, 105, 255, 143, 36, 105, 255, 144, 37, 104, 255, 146, 37, 104, 255, 147, 38, 103, 255, 149, 38, 103, 255, 151, 39, 102, 255, 152, 39, 102, 255, 154, 40, 101, 255, 155, 41, 100, 255, 157, 41, 100, 255, 159, 42, 99, 255, 160, 42, 99, 255, 162, 43, 98, 255, 163, 44, 97, 255, 165, 44, 96, 255, 166, 45, 96, 255, 168, 46, 95, 255, 169, 46, 94, 255, 171, 47, 94, 255, 173, 48, 93, 255, 174, 48, 92, 255, 176, 49, 91, 255, 177, 50, 90, 255, 179, 50, 90, 255, 180, 51, 89, 255, 182, 52, 88, 255, 183, 53, 87, 255, 185, 53, 86, 255, 186, 54, 85, 255, 188, 55, 84, 255, 189, 56, 83, 255, 191, 57, 82, 255, 192, 58, 81, 255, 193, 58, 80, 255, 195, 59, 79, 255, 196, 60, 78, 255, 198, 61, 77, 255, 199, 62, 76, 255, 200, 63, 75, 255, 202, 64, 74, 255, 203, 65, 73, 255, 204, 66, 72, 255, 206, 67, 71, 255, 207, 68, 70, 255, 208, 69, 69, 255, 210, 70, 68, 255, 211, 71, 67, 255, 212, 72, 66, 255, 213, 74, 65, 255, 215, 75, 63, 255, 216, 76, 62, 255, 217, 77, 61, 255, 218, 78, 60, 255, 219, 80, 59, 255, 221, 81, 58, 255, 222, 82, 56, 255, 223, 83, 55, 255, 224, 85, 54, 255, 225, 86, 53, 255, 226, 87, 52, 255, 227, 89, 51, 255, 228, 90, 49, 255, 229, 92, 48, 255, 230, 93, 47, 255, 231, 94, 46, 255, 232, 96, 45, 255, 233, 97, 43, 255, 234, 99, 42, 255, 235, 100, 41, 255, 235, 102, 40, 255, 236, 103, 38, 255, 237, 105, 37, 255, 238, 106, 36, 255, 239, 108, 35, 255, 239, 110, 33, 255, 240, 111, 32, 255, 241, 113, 31, 255, 241, 115, 29, 255, 242, 116, 28, 255, 243, 118, 27, 255, 243, 120, 25, 255, 244, 121, 24, 255, 245, 123, 23, 255, 245, 125, 21, 255, 246, 126, 20, 255, 246, 128, 19, 255, 247, 130, 18, 255, 247, 132, 16, 255, 248, 133, 15, 255, 248, 135, 14, 255, 248, 137, 12, 255, 249, 139, 11, 255, 249, 140, 10, 255, 249, 142, 9, 255, 250, 144, 8, 255, 250, 146, 7, 255, 250, 148, 7, 255, 251, 150, 6, 255, 251, 151, 6, 255, 251, 153, 6, 255, 251, 155, 6, 255, 251, 157, 7, 255, 252, 159, 7, 255, 252, 161, 8, 255, 252, 163, 9, 255, 252, 165, 10, 255, 252, 166, 12, 255, 252, 168, 13, 255, 252, 170, 15, 255, 252, 172, 17, 255, 252, 174, 18, 255, 252, 176, 20, 255, 252, 178, 22, 255, 252, 180, 24, 255, 251, 182, 26, 255, 251, 184, 29, 255, 251, 186, 31, 255, 251, 188, 33, 255, 251, 190, 35, 255, 250, 192, 38, 255, 250, 194, 40, 255, 250, 196, 42, 255, 250, 198, 45, 255, 249, 199, 47, 255, 249, 201, 50, 255, 249, 203, 53, 255, 248, 205, 55, 255, 248, 207, 58, 255, 247, 209, 61, 255, 247, 211, 64, 255, 246, 213, 67, 255, 246, 215, 70, 255, 245, 217, 73, 255, 245, 219, 76, 255, 244, 221, 79, 255, 244, 223, 83, 255, 244, 225, 86, 255, 243, 227, 90, 255, 243, 229, 93, 255, 242, 230, 97, 255, 242, 232, 101, 255, 242, 234, 105, 255, 241, 236, 109, 255, 241, 237, 113, 255, 241, 239, 117, 255, 241, 241, 121, 255, 242, 242, 125, 255, 242, 244, 130, 255, 243, 245, 134, 255, 243, 246, 138, 255, 244, 248, 142, 255, 245, 249, 146, 255, 246, 250, 150, 255, 248, 251, 154, 255, 249, 252, 157, 255, 250, 253, 161, 255, 252, 255, 164, 255 ]),\n  rainbow: {\n    colors: [ '#96005A', '#0000C8', '#0019FF', '#0098FF', '#2CFF96', '#97FF00', '#FFEA00', '#FF6F00', '#FF0000' ],\n    positions: [ 0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875, 1 ]\n  },\n  jet: {\n    colors: [ '#000083', '#003CAA', '#05FFFF', '#FFFF00', '#FA0000', '#800000' ],\n    positions: [ 0, 0.125, 0.375, 0.625, 0.875, 1 ]\n  },\n  hsv: {\n    colors: [ '#ff0000', '#fdff02', '#f7ff02', '#00fc04', '#00fc0a', '#01f9ff', '#0200fd', '#0800fd', '#ff00fb', '#ff00f5', '#ff0006' ],\n    positions: [ 0, 0.169, 0.173, 0.337, 0.341, 0.506, 0.671, 0.675, 0.839, 0.843, 1 ]\n  },\n  hot: {\n    colors: [ '#000000', '#e60000', '#ffd200', '#ffffff' ],\n    positions: [ 0, 0.3, 0.6, 1 ]\n  },\n  cool: {\n    colors: [ '#00ffff', '#ff00ff' ],\n    positions: [ 0, 1 ]\n  },\n  spring: {\n    colors: [ '#ff00ff', '#ffff00' ],\n    positions: [ 0, 1 ]\n  },\n  summer: {\n    colors: [ '#008066', '#ffff66' ],\n    positions: [ 0, 1 ]\n  },\n  autumn: {\n    colors: [ '#ff0000', '#ffff00' ],\n    positions: [ 0, 1 ]\n  },\n  winter: {\n    colors: [ '#0000ff', '#00ff80' ],\n    positions: [ 0, 1 ]\n  },\n  bone: {\n    colors: [ '#000000', '#545474', '#a9c8c8', '#ffffff' ],\n    positions: [ 0, 0.376, 0.753, 1 ]\n  },\n  copper: {\n    colors: [ '#000000', '#ffa066', '#ffc77f' ],\n    positions: [ 0, 0.804, 1 ]\n  },\n  greys: {\n    colors: [ '#000000', '#ffffff' ],\n    positions: [ 0, 1 ]\n  },\n  yignbu: {\n    colors: [ '#081d58', '#253494', '#225ea8', '#1d91c0', '#41b6c4', '#7fcdbb', '#c7e9b4', '#edf8d9', '#ffffd9' ],\n    positions: [ 0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875, 1 ]\n  },\n  greens: {\n    colors: [ '#00441b', '#006d2c', '#238b45', '#41ab5d', '#74c476', '#a1d99b', '#c7e9c0', '#e5f5e0', '#f7fcf5' ],\n    positions: [ 0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875, 1 ]\n  },\n  wind: {\n    colors: [ '#3288bd', '#66c2a5', '#abdda4', '#e6f598', '#fee08b', '#fdae61', '#f46d43', '#d53e4f' ],\n    positions: [ 0, 0.1, 0.2, 0.6, 0.7, 0.8, 0.9, 1 ]\n  },\n  yiorrd: {\n    colors: [ '#800026', '#bd0026', '#e31a1c', '#fc4e2a', '#fd8d3c', '#feb24c', '#fed976', '#ffeda0', '#ffffcc' ],\n    positions: [ 0, 0.125, 0.25, 0.375, 0.5, 0.625, 0.75, 0.875, 1 ]\n  },\n  bluered: {\n    colors: [ '#0000ff', '#ff0000' ],\n    positions: [ 0, 1 ]\n  },\n  rdbu: {\n    colors: [ '#050aac', '#6a89f7', '#bebebe', '#dcaa84', '#e6915a', '#b20a1c' ],\n    positions: [ 0, 0.35, 0.5, 0.6, 0.7, 1 ]\n  },\n  picnic: {\n    colors: [ '#0000ff', '#3399ff', '#66ccff', '#99ccff', '#ccccff', '#ffffff', '#ffccff', '#ff99ff', '#ff66cc', '#ff6666', '#ff0000' ],\n    positions: [ 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1 ]\n  },\n  portland: {\n    colors: [ '#0c3383', '#0a88ba', '#f2d338', '#f28f38', '#d91e1e' ],\n    positions: [ 0, 0.25, 0.5, 0.75, 1 ]\n  },\n  blackbody: {\n    colors: [ '#000000', '#e60000', '#e6d200', '#ffffff', '#a0c8ff' ],\n    positions: [ 0, 0.2, 0.4, 0.7, 1 ]\n  },\n  earth: {\n    colors: [ '#000082', '#00b4b4', '#28d228', '#e6e632', '#784614', '#ffffff' ],\n    positions: [ 0, 0.1, 0.2, 0.4, 0.6, 1 ]\n  },\n  electric: {\n    colors: [ '#000000', '#1e0064', '#780064', '#a05a00', '#e6c800', '#fffadc' ],\n    positions: [ 0, 0.15, 0.4, 0.6, 0.8, 1 ]\n  },\n  magma: new Uint8Array([ 0, 0, 4, 255, 1, 0, 5, 255, 1, 1, 6, 255, 1, 1, 8, 255, 2, 1, 9, 255, 2, 2, 11, 255, 2, 2, 13, 255, 3, 3, 15, 255, 3, 3, 18, 255, 4, 4, 20, 255, 5, 4, 22, 255, 6, 5, 24, 255, 6, 5, 26, 255, 7, 6, 28, 255, 8, 7, 30, 255, 9, 7, 32, 255, 10, 8, 34, 255, 11, 9, 36, 255, 12, 9, 38, 255, 13, 10, 41, 255, 14, 11, 43, 255, 16, 11, 45, 255, 17, 12, 47, 255, 18, 13, 49, 255, 19, 13, 52, 255, 20, 14, 54, 255, 21, 14, 56, 255, 22, 15, 59, 255, 24, 15, 61, 255, 25, 16, 63, 255, 26, 16, 66, 255, 28, 16, 68, 255, 29, 17, 71, 255, 30, 17, 73, 255, 32, 17, 75, 255, 33, 17, 78, 255, 34, 17, 80, 255, 36, 18, 83, 255, 37, 18, 85, 255, 39, 18, 88, 255, 41, 17, 90, 255, 42, 17, 92, 255, 44, 17, 95, 255, 45, 17, 97, 255, 47, 17, 99, 255, 49, 17, 101, 255, 51, 16, 103, 255, 52, 16, 105, 255, 54, 16, 107, 255, 56, 16, 108, 255, 57, 15, 110, 255, 59, 15, 112, 255, 61, 15, 113, 255, 63, 15, 114, 255, 64, 15, 116, 255, 66, 15, 117, 255, 68, 15, 118, 255, 69, 16, 119, 255, 71, 16, 120, 255, 73, 16, 120, 255, 74, 16, 121, 255, 76, 17, 122, 255, 78, 17, 123, 255, 79, 18, 123, 255, 81, 18, 124, 255, 82, 19, 124, 255, 84, 19, 125, 255, 86, 20, 125, 255, 87, 21, 126, 255, 89, 21, 126, 255, 90, 22, 126, 255, 92, 22, 127, 255, 93, 23, 127, 255, 95, 24, 127, 255, 96, 24, 128, 255, 98, 25, 128, 255, 100, 26, 128, 255, 101, 26, 128, 255, 103, 27, 128, 255, 104, 28, 129, 255, 106, 28, 129, 255, 107, 29, 129, 255, 109, 29, 129, 255, 110, 30, 129, 255, 112, 31, 129, 255, 114, 31, 129, 255, 115, 32, 129, 255, 117, 33, 129, 255, 118, 33, 129, 255, 120, 34, 129, 255, 121, 34, 130, 255, 123, 35, 130, 255, 124, 35, 130, 255, 126, 36, 130, 255, 128, 37, 130, 255, 129, 37, 129, 255, 131, 38, 129, 255, 132, 38, 129, 255, 134, 39, 129, 255, 136, 39, 129, 255, 137, 40, 129, 255, 139, 41, 129, 255, 140, 41, 129, 255, 142, 42, 129, 255, 144, 42, 129, 255, 145, 43, 129, 255, 147, 43, 128, 255, 148, 44, 128, 255, 150, 44, 128, 255, 152, 45, 128, 255, 153, 45, 128, 255, 155, 46, 127, 255, 156, 46, 127, 255, 158, 47, 127, 255, 160, 47, 127, 255, 161, 48, 126, 255, 163, 48, 126, 255, 165, 49, 126, 255, 166, 49, 125, 255, 168, 50, 125, 255, 170, 51, 125, 255, 171, 51, 124, 255, 173, 52, 124, 255, 174, 52, 123, 255, 176, 53, 123, 255, 178, 53, 123, 255, 179, 54, 122, 255, 181, 54, 122, 255, 183, 55, 121, 255, 184, 55, 121, 255, 186, 56, 120, 255, 188, 57, 120, 255, 189, 57, 119, 255, 191, 58, 119, 255, 192, 58, 118, 255, 194, 59, 117, 255, 196, 60, 117, 255, 197, 60, 116, 255, 199, 61, 115, 255, 200, 62, 115, 255, 202, 62, 114, 255, 204, 63, 113, 255, 205, 64, 113, 255, 207, 64, 112, 255, 208, 65, 111, 255, 210, 66, 111, 255, 211, 67, 110, 255, 213, 68, 109, 255, 214, 69, 108, 255, 216, 69, 108, 255, 217, 70, 107, 255, 219, 71, 106, 255, 220, 72, 105, 255, 222, 73, 104, 255, 223, 74, 104, 255, 224, 76, 103, 255, 226, 77, 102, 255, 227, 78, 101, 255, 228, 79, 100, 255, 229, 80, 100, 255, 231, 82, 99, 255, 232, 83, 98, 255, 233, 84, 98, 255, 234, 86, 97, 255, 235, 87, 96, 255, 236, 88, 96, 255, 237, 90, 95, 255, 238, 91, 94, 255, 239, 93, 94, 255, 240, 95, 94, 255, 241, 96, 93, 255, 242, 98, 93, 255, 242, 100, 92, 255, 243, 101, 92, 255, 244, 103, 92, 255, 244, 105, 92, 255, 245, 107, 92, 255, 246, 108, 92, 255, 246, 110, 92, 255, 247, 112, 92, 255, 247, 114, 92, 255, 248, 116, 92, 255, 248, 118, 92, 255, 249, 120, 93, 255, 249, 121, 93, 255, 249, 123, 93, 255, 250, 125, 94, 255, 250, 127, 94, 255, 250, 129, 95, 255, 251, 131, 95, 255, 251, 133, 96, 255, 251, 135, 97, 255, 252, 137, 97, 255, 252, 138, 98, 255, 252, 140, 99, 255, 252, 142, 100, 255, 252, 144, 101, 255, 253, 146, 102, 255, 253, 148, 103, 255, 253, 150, 104, 255, 253, 152, 105, 255, 253, 154, 106, 255, 253, 155, 107, 255, 254, 157, 108, 255, 254, 159, 109, 255, 254, 161, 110, 255, 254, 163, 111, 255, 254, 165, 113, 255, 254, 167, 114, 255, 254, 169, 115, 255, 254, 170, 116, 255, 254, 172, 118, 255, 254, 174, 119, 255, 254, 176, 120, 255, 254, 178, 122, 255, 254, 180, 123, 255, 254, 182, 124, 255, 254, 183, 126, 255, 254, 185, 127, 255, 254, 187, 129, 255, 254, 189, 130, 255, 254, 191, 132, 255, 254, 193, 133, 255, 254, 194, 135, 255, 254, 196, 136, 255, 254, 198, 138, 255, 254, 200, 140, 255, 254, 202, 141, 255, 254, 204, 143, 255, 254, 205, 144, 255, 254, 207, 146, 255, 254, 209, 148, 255, 254, 211, 149, 255, 254, 213, 151, 255, 254, 215, 153, 255, 254, 216, 154, 255, 253, 218, 156, 255, 253, 220, 158, 255, 253, 222, 160, 255, 253, 224, 161, 255, 253, 226, 163, 255, 253, 227, 165, 255, 253, 229, 167, 255, 253, 231, 169, 255, 253, 233, 170, 255, 253, 235, 172, 255, 252, 236, 174, 255, 252, 238, 176, 255, 252, 240, 178, 255, 252, 242, 180, 255, 252, 244, 182, 255, 252, 246, 184, 255, 252, 247, 185, 255, 252, 249, 187, 255, 252, 251, 189, 255, 252, 253, 191, 255 ]),\n  plasma: new Uint8Array([ 13, 8, 135, 255, 16, 7, 136, 255, 19, 7, 137, 255, 22, 7, 138, 255, 25, 6, 140, 255, 27, 6, 141, 255, 29, 6, 142, 255, 32, 6, 143, 255, 34, 6, 144, 255, 36, 6, 145, 255, 38, 5, 145, 255, 40, 5, 146, 255, 42, 5, 147, 255, 44, 5, 148, 255, 46, 5, 149, 255, 47, 5, 150, 255, 49, 5, 151, 255, 51, 5, 151, 255, 53, 4, 152, 255, 55, 4, 153, 255, 56, 4, 154, 255, 58, 4, 154, 255, 60, 4, 155, 255, 62, 4, 156, 255, 63, 4, 156, 255, 65, 4, 157, 255, 67, 3, 158, 255, 68, 3, 158, 255, 70, 3, 159, 255, 72, 3, 159, 255, 73, 3, 160, 255, 75, 3, 161, 255, 76, 2, 161, 255, 78, 2, 162, 255, 80, 2, 162, 255, 81, 2, 163, 255, 83, 2, 163, 255, 85, 2, 164, 255, 86, 1, 164, 255, 88, 1, 164, 255, 89, 1, 165, 255, 91, 1, 165, 255, 92, 1, 166, 255, 94, 1, 166, 255, 96, 1, 166, 255, 97, 0, 167, 255, 99, 0, 167, 255, 100, 0, 167, 255, 102, 0, 167, 255, 103, 0, 168, 255, 105, 0, 168, 255, 106, 0, 168, 255, 108, 0, 168, 255, 110, 0, 168, 255, 111, 0, 168, 255, 113, 0, 168, 255, 114, 1, 168, 255, 116, 1, 168, 255, 117, 1, 168, 255, 119, 1, 168, 255, 120, 1, 168, 255, 122, 2, 168, 255, 123, 2, 168, 255, 125, 3, 168, 255, 126, 3, 168, 255, 128, 4, 168, 255, 129, 4, 167, 255, 131, 5, 167, 255, 132, 5, 167, 255, 134, 6, 166, 255, 135, 7, 166, 255, 136, 8, 166, 255, 138, 9, 165, 255, 139, 10, 165, 255, 141, 11, 165, 255, 142, 12, 164, 255, 143, 13, 164, 255, 145, 14, 163, 255, 146, 15, 163, 255, 148, 16, 162, 255, 149, 17, 161, 255, 150, 19, 161, 255, 152, 20, 160, 255, 153, 21, 159, 255, 154, 22, 159, 255, 156, 23, 158, 255, 157, 24, 157, 255, 158, 25, 157, 255, 160, 26, 156, 255, 161, 27, 155, 255, 162, 29, 154, 255, 163, 30, 154, 255, 165, 31, 153, 255, 166, 32, 152, 255, 167, 33, 151, 255, 168, 34, 150, 255, 170, 35, 149, 255, 171, 36, 148, 255, 172, 38, 148, 255, 173, 39, 147, 255, 174, 40, 146, 255, 176, 41, 145, 255, 177, 42, 144, 255, 178, 43, 143, 255, 179, 44, 142, 255, 180, 46, 141, 255, 181, 47, 140, 255, 182, 48, 139, 255, 183, 49, 138, 255, 184, 50, 137, 255, 186, 51, 136, 255, 187, 52, 136, 255, 188, 53, 135, 255, 189, 55, 134, 255, 190, 56, 133, 255, 191, 57, 132, 255, 192, 58, 131, 255, 193, 59, 130, 255, 194, 60, 129, 255, 195, 61, 128, 255, 196, 62, 127, 255, 197, 64, 126, 255, 198, 65, 125, 255, 199, 66, 124, 255, 200, 67, 123, 255, 201, 68, 122, 255, 202, 69, 122, 255, 203, 70, 121, 255, 204, 71, 120, 255, 204, 73, 119, 255, 205, 74, 118, 255, 206, 75, 117, 255, 207, 76, 116, 255, 208, 77, 115, 255, 209, 78, 114, 255, 210, 79, 113, 255, 211, 81, 113, 255, 212, 82, 112, 255, 213, 83, 111, 255, 213, 84, 110, 255, 214, 85, 109, 255, 215, 86, 108, 255, 216, 87, 107, 255, 217, 88, 106, 255, 218, 90, 106, 255, 218, 91, 105, 255, 219, 92, 104, 255, 220, 93, 103, 255, 221, 94, 102, 255, 222, 95, 101, 255, 222, 97, 100, 255, 223, 98, 99, 255, 224, 99, 99, 255, 225, 100, 98, 255, 226, 101, 97, 255, 226, 102, 96, 255, 227, 104, 95, 255, 228, 105, 94, 255, 229, 106, 93, 255, 229, 107, 93, 255, 230, 108, 92, 255, 231, 110, 91, 255, 231, 111, 90, 255, 232, 112, 89, 255, 233, 113, 88, 255, 233, 114, 87, 255, 234, 116, 87, 255, 235, 117, 86, 255, 235, 118, 85, 255, 236, 119, 84, 255, 237, 121, 83, 255, 237, 122, 82, 255, 238, 123, 81, 255, 239, 124, 81, 255, 239, 126, 80, 255, 240, 127, 79, 255, 240, 128, 78, 255, 241, 129, 77, 255, 241, 131, 76, 255, 242, 132, 75, 255, 243, 133, 75, 255, 243, 135, 74, 255, 244, 136, 73, 255, 244, 137, 72, 255, 245, 139, 71, 255, 245, 140, 70, 255, 246, 141, 69, 255, 246, 143, 68, 255, 247, 144, 68, 255, 247, 145, 67, 255, 247, 147, 66, 255, 248, 148, 65, 255, 248, 149, 64, 255, 249, 151, 63, 255, 249, 152, 62, 255, 249, 154, 62, 255, 250, 155, 61, 255, 250, 156, 60, 255, 250, 158, 59, 255, 251, 159, 58, 255, 251, 161, 57, 255, 251, 162, 56, 255, 252, 163, 56, 255, 252, 165, 55, 255, 252, 166, 54, 255, 252, 168, 53, 255, 252, 169, 52, 255, 253, 171, 51, 255, 253, 172, 51, 255, 253, 174, 50, 255, 253, 175, 49, 255, 253, 177, 48, 255, 253, 178, 47, 255, 253, 180, 47, 255, 253, 181, 46, 255, 254, 183, 45, 255, 254, 184, 44, 255, 254, 186, 44, 255, 254, 187, 43, 255, 254, 189, 42, 255, 254, 190, 42, 255, 254, 192, 41, 255, 253, 194, 41, 255, 253, 195, 40, 255, 253, 197, 39, 255, 253, 198, 39, 255, 253, 200, 39, 255, 253, 202, 38, 255, 253, 203, 38, 255, 252, 205, 37, 255, 252, 206, 37, 255, 252, 208, 37, 255, 252, 210, 37, 255, 251, 211, 36, 255, 251, 213, 36, 255, 251, 215, 36, 255, 250, 216, 36, 255, 250, 218, 36, 255, 249, 220, 36, 255, 249, 221, 37, 255, 248, 223, 37, 255, 248, 225, 37, 255, 247, 226, 37, 255, 247, 228, 37, 255, 246, 230, 38, 255, 246, 232, 38, 255, 245, 233, 38, 255, 245, 235, 39, 255, 244, 237, 39, 255, 243, 238, 39, 255, 243, 240, 39, 255, 242, 242, 39, 255, 241, 244, 38, 255, 241, 245, 37, 255, 240, 247, 36, 255, 240, 249, 33, 255 ])\n};\n// export default colorScales;\n\n// import BufferBase from '../bufferBase';\n\nvar HeatmapBuffer = /*@__PURE__*/(function (Base) {\n  function HeatmapBuffer(cfg) {\n    Base.call(this, cfg);\n    this.init();\n  }\n\n  if ( Base ) HeatmapBuffer.__proto__ = Base;\n  HeatmapBuffer.prototype = Object.create( Base && Base.prototype );\n  HeatmapBuffer.prototype.constructor = HeatmapBuffer;\n  HeatmapBuffer.prototype.init = function init () {\n    var this$1 = this;\n\n    var data = this.get('data');\n    var positions = [];\n    var dirs = [];\n    var weights = [];\n    // const indices = [];\n\n    // 组织顶点数据\n    data.forEach(function (d) {\n      // const totalIndex = index * 4;\n      var coord = d.coordinates;\n      var weight = d.size;\n      var dir = this$1._addDir(-1, 1);\n      var dir1 = this$1._addDir(1, 1);\n      var dir2 = this$1._addDir(-1, -1);\n      var dir3 = this$1._addDir(1, -1);\n      positions.push.apply(positions, coord.concat( coord, coord, coord, coord, coord ));\n      dirs.push.apply(dirs, dir.concat( dir2, dir3, dir1, dir, dir3 ));\n      weights.push(weight, weight, weight, weight, weight, weight);\n      // indices.push(totalIndex, totalIndex + 2, totalIndex + 3, totalIndex, totalIndex + 3, totalIndex + 1);\n    });\n\n    this.attributes = {\n      vertices: positions,\n      // indices,\n      dirs: dirs,\n      weights: weights\n    };\n  };\n\n  HeatmapBuffer.prototype._addVertex = function _addVertex (position, dirX, dirY) {\n    var x = (position[0] * 2) + ((dirX + 1) / 2);\n    var y = (position[1] * 2) + ((dirY + 1) / 2);\n    var z = position[2];\n    return [ x, y, z ];\n  };\n\n  HeatmapBuffer.prototype._addDir = function _addDir (dirX, dirY) {\n    var x = (dirX + 1) / 2;\n    var y = (dirY + 1) / 2;\n    return [ x, y ];\n  };\n\n  return HeatmapBuffer;\n}(actor.Base));\n\nfunction createColorRamp(colors) {\n  var colorImageData = getColorRamp(colors);\n  var colorTexture = getTexture(colorImageData);\n  return colorTexture;\n}\n\nfunction getColorRamp(name) {\n  var colorscale = name;\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext('2d');\n\n  canvas.width = 1;\n  canvas.height = 256;\n  var gradient = ctx.createLinearGradient(0, 0, 0, 256);\n  var data = null;\n  if (typeof (colorscale) === 'string') {\n    colorscale = colorScales[name];\n  }\n  if (Object.prototype.toString.call(colorscale) === '[object Object]') {\n    var min = colorscale.positions[0];\n    var max = colorscale.positions[colorscale.positions.length - 1];\n\n    for (var i = 0; i < colorscale.colors.length; ++i) {\n      var value = (colorscale.positions[i] - min) / (max - min);\n      gradient.addColorStop(value, colorscale.colors[i]);\n    }\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, 1, 256);\n    data = new Uint8ClampedArray(ctx.getImageData(0, 0, 1, 256).data);\n  }\n  if (Object.prototype.toString.call(colorscale) === '[object Uint8Array]') {\n    data = ctx.createImageData(1, 256);\n  }\n\n  return new ImageData(data, 1, 256);\n\n}\n\nfunction getTexture(image) {\n  var texture = new actor.Texture(image);\n  texture.wrapS = actor.ClampToEdgeWrapping;\n  texture.wrapT = actor.ClampToEdgeWrapping;\n  texture.magFilter = actor.NearestFilter;\n  texture.minFilter = actor.NearestFilter;\n  texture.format = actor.RGBAFormat;\n  texture.type = actor.UnsignedByteType;\n  texture.needsUpdate = true;\n  return texture;\n}\n\nvar HeatmapColorizeMaterial = /*@__PURE__*/(function (Material) {\n  function HeatmapColorizeMaterial(_uniforms, _defines, parameters) {\n    if ( _defines === void 0 ) _defines = {};\n\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var uniforms = ref.uniforms;\n    var defines = ref.defines;\n    var ref$1 = getModule('heatmap_color');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    this.uniforms = Object.assign(uniforms, this.setUniform(_uniforms));\n    this.type = 'HeatmapColorizeMaterial';\n    this.defines = Object.assign(defines, _defines);\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n  }\n\n  if ( Material ) HeatmapColorizeMaterial.__proto__ = Material;\n  HeatmapColorizeMaterial.prototype = Object.create( Material && Material.prototype );\n  HeatmapColorizeMaterial.prototype.constructor = HeatmapColorizeMaterial;\n\n  HeatmapColorizeMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n        u_intensity: { value: 1.0 },\n        u_texture: { value: null },\n        u_rampColors: { value: 0 },\n        u_opacity: { value: 1 }\n      },\n      defines: {\n\n      }\n    };\n  };\n\n  return HeatmapColorizeMaterial;\n}(Material));\n\nvar HeatmapIntensityMaterial = /*@__PURE__*/(function (Material) {\n  function HeatmapIntensityMaterial(_uniforms, _defines, parameters) {\n    if ( _defines === void 0 ) _defines = {};\n\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var uniforms = ref.uniforms;\n    var defines = ref.defines;\n    var ref$1 = getModule('heatmap_intensity');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    this.uniforms = Object.assign(uniforms, this.setUniform(_uniforms));\n    this.type = 'heatmap_intensity';\n    this.defines = Object.assign(defines, _defines);\n    this.vertexShader = vs;\n    this.blending = actor.AdditiveBlending;\n    this.fragmentShader = fs;\n    this.depthTest = false;\n    this.transparent = true;\n  }\n\n  if ( Material ) HeatmapIntensityMaterial.__proto__ = Material;\n  HeatmapIntensityMaterial.prototype = Object.create( Material && Material.prototype );\n  HeatmapIntensityMaterial.prototype.constructor = HeatmapIntensityMaterial;\n\n  HeatmapIntensityMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n        u_intensity: { value: 10.0 },\n        u_zoom: { value: 4 },\n        u_radius: { value: 10 }\n      },\n      defines: {\n\n      }\n    };\n  };\n\n  return HeatmapIntensityMaterial;\n}(Material));\n\n// jscs:disable\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar RenderPass = function ( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.overrideMaterial = overrideMaterial;\n\n\tthis.clearColor = clearColor;\n\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 1;\n\n\tthis.oldClearColor = new actor.Color();\n\tthis.oldClearAlpha = 1;\n\n\tthis.enabled = true;\n\tthis.clear = false;\n\tthis.needsSwap = false;\n\n};\n\nRenderPass.prototype = {\n\n\trender: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n    this.scene.overrideMaterial = this.overrideMaterial;\n\t\tif ( this.clearColor ) {\n\n\t\t\tthis.oldClearColor.copy( renderer.getClearColor() );\n\t\t\tthis.oldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n    renderer.render( this.scene, this.camera, readBuffer, this.clear );\n\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( this.oldClearColor, this.oldClearAlpha );\n\n\t\t}\n\n    this.scene.overrideMaterial = null;\n\n\t}\n\n};\n\n// jscs:disable\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar ShaderPass = function( shader, textureID ) {\n\n\n\tthis.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\n\n\tif ( shader instanceof actor.ShaderMaterial ) {\n\n\t\tthis.uniforms = shader.uniforms;\n\n\t\tthis.material = shader;\n\n\t}\n\telse if ( shader ) {\n\n\t\tthis.uniforms = actor.UniformsUtils.clone( shader.uniforms );\n\n\t\tthis.material = new actor.ShaderMaterial( {\n\n\t\t\tdefines: shader.defines || {},\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t} );\n\n\t}\n\n\tthis.renderToScreen = false;\n\n\tthis.enabled = true;\n\tthis.needsSwap = true;\n\tthis.clear = true;\n\n\n\tthis.camera = new actor.OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\tthis.scene = new actor.Scene();\n\tthis.quad = new actor.Mesh( new actor.PlaneBufferGeometry( 2, 2 ), null );\n\tthis.scene.add( this.quad );\n\n};\n\nShaderPass.prototype = {\n\n\trender: function( renderer, writeBuffer, readBuffer, delta ) {\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n    }\n    renderer.autoClear = false;\n\t\tthis.quad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\t\t\trenderer.render( this.scene, this.camera );\n\n\t\t} else {\n\n\t\t\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\n\n\t\t}\n\t\trenderer.autoClear = true;\n\t}\n\n};\n\n// jscs:disable\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t\"tDiffuse\": { type: \"t\", value: null },\n\t\t\"opacity\":  { type: \"f\", value: 1.0 }\n\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\t\"vUv = uv;\",\n\t\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\n\t\t\"uniform float opacity;\",\n\n\t\t\"uniform sampler2D tDiffuse;\",\n\n\t\t\"varying vec2 vUv;\",\n\n\t\t\"void main() {\",\n\n\t\t\t\"vec4 texel = texture2D( tDiffuse, vUv );\",\n\t\t\t\"gl_FragColor = opacity * texel;\",\n\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};\n\n// jscs:disable\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar MaskPass = function ( scene, camera ) {\n\n\tthis.scene = scene;\n\tthis.camera = camera;\n\n\tthis.enabled = true;\n\tthis.clear = true;\n\tthis.needsSwap = false;\n\n\tthis.inverse = false;\n\n};\n\nMaskPass.prototype = {\n\n\trender: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n\t\tvar context = renderer.context;\n\n\t\t// don't update color or depth\n\n\t\tcontext.colorMask( false, false, false, false );\n\t\tcontext.depthMask( false );\n\n\t\t// set up stencil\n\n\t\tvar writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tcontext.enable( context.STENCIL_TEST );\n\t\tcontext.stencilOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tcontext.stencilFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tcontext.clearStencil( clearValue );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.render( this.scene, this.camera, readBuffer, this.clear );\n\t\trenderer.render( this.scene, this.camera, writeBuffer, this.clear );\n\n\t\t// re-enable update of color and depth\n\n\t\tcontext.colorMask( true, true, true, true );\n\t\tcontext.depthMask( true );\n\n\t\t// only render where stencil is set to 1\n\n\t\tcontext.stencilFunc( context.EQUAL, 1, 0xffffffff );  // draw if == 1\n\t\tcontext.stencilOp( context.KEEP, context.KEEP, context.KEEP );\n\n\t}\n\n};\n\n\nvar ClearMaskPass = function () {\n\n\tthis.enabled = true;\n\n};\n\nClearMaskPass.prototype = {\n\n\trender: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n\t\tvar context = renderer.context;\n\n\t\tcontext.disable( context.STENCIL_TEST );\n\n\t}\n\n};\n\n// jscs:disable\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar EffectComposer = function ( renderer, renderTarget ) {\n\n\tthis.renderer = renderer;\n\n\tif ( renderTarget === undefined ) {\n\n\t\tvar pixelRatio = renderer.getPixelRatio();\n\n\t\tvar width  = Math.floor( renderer.context.canvas.width  / pixelRatio ) || 1;\n\t\tvar height = Math.floor( renderer.context.canvas.height / pixelRatio ) || 1;\n\t\tvar parameters = { minFilter: actor.LinearFilter, magFilter: actor.LinearFilter, format: actor.RGBAFormat, stencilBuffer: false };\n\n\t\trenderTarget = new actor.WebGLRenderTarget( width, height, parameters );\n\n\t}\n\n\tthis.renderTarget1 = renderTarget;\n\tthis.renderTarget2 = renderTarget.clone();\n\n\tthis.writeBuffer = this.renderTarget1;\n\tthis.readBuffer = this.renderTarget2;\n\n\tthis.passes = [];\n\n\tif ( CopyShader === undefined )\n\t\t{ console.error( \"EffectComposer relies on THREE.CopyShader\" ); }\n\n\tthis.copyPass = new ShaderPass( CopyShader );\n\n};\n\nEffectComposer.prototype = {\n\n\tswapBuffers: function() {\n\n\t\tvar tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t},\n\tvisible:true,\n\ttype:'composer',\n\taddPass: function ( pass ) {\n\n\t\tthis.passes.push( pass );\n\n\t},\n\n\tinsertPass: function ( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\n\t},\n\n\trender: function ( delta ) {\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t\tvar maskActive = false;\n\n\t\tvar pass, i, il = this.passes.length;\n\t\tfor ( i = 0; i < il; i ++ ) {\n\n\t\t\tpass = this.passes[ i ];\n\n\t\t\tif ( ! pass.enabled ) { continue; }\n\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tvar context = this.renderer.context;\n\n\t\t\t\t\tcontext.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, delta );\n\n\t\t\t\t\tcontext.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\tmaskActive = true;\n\n\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\tmaskActive = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\treset: function ( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\n\t\t\tvar pixelRatio = this.renderer.getPixelRatio();\n\n\t\t\trenderTarget.setSize(\n\t\t\t\tMath.floor( this.renderer.context.canvas.width  / pixelRatio ),\n\t\t\t\tMath.floor( this.renderer.context.canvas.height / pixelRatio )\n\t\t\t);\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t},\n\n\tsetSize: function ( width, height ) {\n\n\t\tthis.renderTarget1.setSize( width, height );\n\t\tthis.renderTarget2.setSize( width, height );\n\n\t},\n\tdestory: function () {\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t}\n\n};\n\nfunction EffectComposer$1(renderer, container) {\n  var composer = new EffectComposer(renderer);\n\n  var updateSize = function() {\n    // TODO: Re-enable this when perf issues can be solved\n    //\n    // Rendering double the resolution of the screen can be really slow\n    // var pixelRatio = window.devicePixelRatio;\n    var pixelRatio = 1;\n\n    composer.setSize(container.clientWidth * pixelRatio, container.clientHeight * pixelRatio);\n  };\n\n  window.addEventListener('resize', updateSize, false);\n  updateSize();\n\n  return composer;\n}\n\nfunction DrawHeatmap(layerdata, layer) {\n\n  var colors = layer.get('styleOptions').rampColors;\n\n  layer.rampColors = createColorRamp(colors);\n  var heatmap = new heatmapPass(layerdata, layer);\n  var copy = new copyPass(layer);\n  copy.renderToScreen = true;\n  var composer = new EffectComposer$1(layer.scene._engine._renderer, layer.scene._container);\n  composer.id = layer.layerId;\n  composer.addPass(heatmap);\n  composer.addPass(copy);\n  layer.scene._engine.update();\n  layer._updateStyle = function (style) {\n    if (style.rampColors) {\n      style.rampColors = createColorRamp(style.rampColors);\n    }\n    var newOption = { };\n    for (var key in style) {\n      newOption['u_' + key] = style[key];\n    }\n    heatmap.scene.children[0].material.updateUninform(newOption);\n    copy.scene.children[0].material.updateUninform(newOption);\n  };\n  return composer;\n\n}\n\nfunction heatmapPass(layerdata, layer) {\n  var scene = new actor.Scene();\n  var style = layer.get('styleOptions');\n  var data = layerdata;\n  var camera = layer.scene._engine._camera;\n  // get attributes data\n  var buffer = new HeatmapBuffer({\n    data: data\n  });\n  var attributes = buffer.attributes;\n  // create geometery\n  var geometry = new actor.BufferGeometry();\n  // geometry.setIndex(attributes.indices);\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.vertices, 3));\n  geometry.addAttribute('a_dir', new actor.Float32BufferAttribute(attributes.dirs, 2));\n  geometry.addAttribute('a_weight', new actor.Float32BufferAttribute(attributes.weights, 1));\n  var material = new HeatmapIntensityMaterial({\n    u_intensity: style.intensity,\n    u_radius: style.radius,\n    u_zoom: layer.scene.getZoom()\n  }, {});\n  var mesh = new actor.Mesh(geometry, material);\n  scene.add(mesh);\n  scene.onBeforeRender = function () { // 每次渲染前改变状态\n    var zoom = layer.scene.getZoom();\n    mesh.material.setUniformsValue('u_zoom', zoom);\n  };\n  var pass = new RenderPass(scene, camera);\n  return pass;\n}\nfunction copyPass(layer) {\n  var style = layer.get('styleOptions');\n  var material = new HeatmapColorizeMaterial({\n    u_rampColors: layer.rampColors,\n    u_opacity: style.opacity || 1.0\n  }, {});\n  var copyPass = new ShaderPass(material, 'u_texture');\n  return copyPass;\n}\n\nfunction ImageMaterial(options) {\n  var ref = getModule('image');\n  var vs = ref.vs;\n  var fs = ref.fs;\n  var material = new Material({\n    uniforms: {\n      u_opacity: { value: options.u_opacity },\n      u_texture: { value: options.u_texture }\n    },\n    vertexShader: vs,\n    fragmentShader: fs,\n    transparent: true,\n    depthTest: false\n  });\n  return material;\n}\n\nfunction DrawImage$1(attributes, style) {\n  var geometry = new actor.BufferGeometry();\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.vertices, 3));\n  geometry.addAttribute('uv', new actor.Float32BufferAttribute(attributes.uvs, 2));\n  var opacity = style.opacity;\n  var material = new ImageMaterial({\n    u_texture: attributes.texture,\n    u_opacity: opacity\n  });\n  return new actor.Mesh(geometry, material);\n}\n\nregisterRender('polygon', 'fill', DrawPolygonFill);\nregisterRender('polygon', 'extrude', DrawPolygonFill);\nregisterRender('polygon', 'line', DrawPolygonLine);\nregisterRender('polygon', 'animate', DrawAnimate);\n\nregisterRender('line', 'line', DrawLine);\nregisterRender('line', 'arc', DrawArcLine);\nregisterRender('line', 'greatCircle', DrawArcLine);\n\n// registerRender('point', 'fill', DrawPointFill);\nregisterRender('point', 'image', DrawImage);\nregisterRender('point', 'normal', DrawNormal);\nregisterRender('point', 'stroke', DrawStroke);\nregisterRender('point', 'text', DrawText);\nregisterRender('point', 'fill', drawCircle);\nregisterRender('point', 'shape', Draw3DShape);\nregisterRender('point', 'extrude', Draw3DShape);\n\n\nregisterRender('heatmap', 'square', DrawGrid);\nregisterRender('heatmap', 'squareColumn', DrawGrid);\nregisterRender('heatmap', 'heatmap', DrawHeatmap);\nregisterRender('heatmap', 'shape', DrawHexagon);\n\nregisterRender('image', 'image', DrawImage$1);\n\n// image\n\nregisterRender('text', 'text', DrawText);\n\nvar PolygonLayer = /*@__PURE__*/(function (Layer) {\n  function PolygonLayer(scene, cfg) {\n    Layer.call(this, scene, cfg);\n    this.set('type', 'polygon');\n  }\n\n  if ( Layer ) PolygonLayer.__proto__ = Layer;\n  PolygonLayer.prototype = Object.create( Layer && Layer.prototype );\n  PolygonLayer.prototype.constructor = PolygonLayer;\n  PolygonLayer.prototype.shape = function shape (type) {\n    this.shape = type;\n    this.set('shape', type);\n    this.set('shapeType', 'polygon');\n    return this;\n  };\n  PolygonLayer.prototype.draw = function draw () {\n    // this.init();\n    this.type = 'polygon';\n    var animateOptions = this.get('animateOptions');\n    if (animateOptions.enable) {\n      this.shape = 'animate';\n    }\n    this.add(getRender(this.type, this.shape)(this.layerData, this));\n  };\n  PolygonLayer.prototype.update = function update () {\n    this.updateFilter(this.layerMesh);\n  };\n\n  return PolygonLayer;\n}(Layer));\nPolygonLayer.type = 'polygon';\n\nvar pointShape$1 = actor.Global.pointShape;\n/**\n * point shape 2d circle, traingle text,image\n * shape 3d   cube，column, sphere\n * shape Model ,自定义\n * image\n */\n\nvar PointLayer = /*@__PURE__*/(function (Layer) {\n  function PointLayer(scene, cfg) {\n    Layer.call(this, scene, cfg);\n    this.set('type', 'point');\n  }\n\n  if ( Layer ) PointLayer.__proto__ = Layer;\n  PointLayer.prototype = Object.create( Layer && Layer.prototype );\n  PointLayer.prototype.constructor = PointLayer;\n  PointLayer.prototype.draw = function draw () {\n    this.type = 'point';\n    this.shapeType = this._getShape();\n    var mesh = getRender(this.type, this.shapeType)(this.layerData, this);\n    this.add(mesh);\n  };\n\n  PointLayer.prototype._getShape = function _getShape () {\n    var shape = null;\n    if (!this.layerData[0].hasOwnProperty('shape')) {\n      return 'normal';\n    }\n    for (var i = 0; i < this.layerData.length; i++) {\n      shape = this.layerData[i].shape;\n      if (shape !== undefined) {\n        break;\n      }\n    }\n\n    // 2D circle 特殊处理t\n    if (pointShape$1['2d'].indexOf(shape) !== -1) {\n      return 'fill';\n    } else if (pointShape$1['3d'].indexOf(shape) !== -1) {\n      return 'extrude';\n    } else if (this.scene.image.imagesIds.indexOf(shape) !== -1) {\n      return 'image';\n    }\n    return 'text';\n  };\n  PointLayer.prototype.zoomchange = function zoomchange (ev) {\n    var this$1 = this;\n\n    Layer.prototype.zoomchange.call(this, ev);\n    requestAnimationFrame(function () {\n      this$1._updateData();\n    });\n  };\n  PointLayer.prototype.dragend = function dragend (ev) {\n    var this$1 = this;\n\n    Layer.prototype.dragend.call(this, ev);\n    requestAnimationFrame(function () {\n      this$1._updateData();\n    });\n\n  };\n  PointLayer.prototype.resize = function resize () {\n    Layer.prototype.resize.call(this);\n    if (this.shapeType === 'text') {\n      this.repaint();\n    }\n  };\n  PointLayer.prototype._updateData = function _updateData () {\n    if (this.layerSource.get('isCluster')) {\n      var bounds = this.scene.getBounds().toBounds();\n      var SW = bounds.getSouthWest();\n      var NE = bounds.getNorthEast();\n      var zoom = this.scene.getZoom();\n      var step = Math.max(NE.lng - SW.lng, NE.lat - SW.lat) / 2;\n      var bbox = [ SW.lng, SW.lat, NE.lng, NE.lat ];\n      // const bbox = [ SW.lng - step, SW.lat - step, NE.lng + step, NE.lat + step ];\n      var cfg = this.layerSource.get('cluster');\n      var preBox = cfg.bbox;\n      var preZoom = cfg.zoom;\n      if (!(preBox && preBox[0] < bbox[0] && preBox[1] < bbox[1] && preBox[2] > bbox[2] && preBox[3] < bbox[3] && // 当前范围在范围内\n         (Math.abs(zoom - preZoom)) < 0.5)) {\n        var newbbox = [ SW.lng - step, SW.lat - step, NE.lng + step, NE.lat + step ];\n        this.layerSource.updateCusterData(Math.floor(zoom - 1), newbbox);\n        this.repaint();\n      }\n    }\n  };\n\n  return PointLayer;\n}(Layer));\nPointLayer.type = 'point';\n\nvar LineLayer = /*@__PURE__*/(function (Layer) {\n  function LineLayer(scene, cfg) {\n    Layer.call(this, scene, cfg);\n    this.set('type', 'line');\n  }\n\n  if ( Layer ) LineLayer.__proto__ = Layer;\n  LineLayer.prototype = Object.create( Layer && Layer.prototype );\n  LineLayer.prototype.constructor = LineLayer;\n  LineLayer.prototype.shape = function shape (field, values) {\n    Layer.prototype.shape.call(this, field, values);\n    this.shapeType = field;\n    this.set('shape', field);\n    return this;\n  };\n  LineLayer.prototype.preRender = function preRender () {\n    if (\n      this.animateDuration > 0 &&\n      this.animateDuration < this.scene._engine.clock.getElapsedTime()\n    ) {\n      this.layerMesh.material.setDefinesvalue('ANIMATE', false);\n      this.scene.stopAnimate();\n      this.emit('animateEnd');\n      this.animateDuration = Infinity;\n    }\n  };\n  LineLayer.prototype.draw = function draw () {\n    this.type = 'line';\n    this.add(getRender('line', this.shapeType || 'line')(this.layerData, this));\n  };\n\n  return LineLayer;\n}(Layer));\nLineLayer.type = 'line';\n\n// import BufferBase from './bufferBase';\nvar ImageBuffer$1 = /*@__PURE__*/(function (Base) {\n  function ImageBuffer(cfg) {\n    Base.call(this, cfg);\n    this.init();\n  }\n\n  if ( Base ) ImageBuffer.__proto__ = Base;\n  ImageBuffer.prototype = Object.create( Base && Base.prototype );\n  ImageBuffer.prototype.constructor = ImageBuffer;\n  ImageBuffer.prototype.init = function init () {\n    var this$1 = this;\n\n    var layerData = this.get('layerData');\n    var coordinates = layerData[0].coordinates;\n    var images = layerData[0].images;\n    var positions = ( coordinates[0] ).concat( [coordinates[1][0]], [coordinates[0][1]], [0],\n      coordinates[1],\n      coordinates[0],\n      coordinates[1],\n      [coordinates[0][0]], [coordinates[1][1]], [0]\n    );\n    var image = images;\n    if (actor.Util.isArray(images)) {\n      image = images[0];\n      var textures = images.map(function (img) { return this$1._getTexture(img); });\n      this.u_rasters = textures;\n    }\n    var uv = [ 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0 ];\n    var texture = new actor.Texture(image);\n    texture.magFilter = actor.LinearFilter;\n    texture.minFilter = actor.LinearMipMapLinearFilter;\n    texture.needsUpdate = true;\n    var attributes = {\n      vertices: new Float32Array(positions),\n      uvs: new Float32Array(uv)\n    };\n    this.attributes = attributes;\n    this.texture = texture;\n\n  };\n  ImageBuffer.prototype._getTexture = function _getTexture (image) {\n    var texture = new actor.Texture(image);\n    texture.magFilter = actor.LinearFilter;\n    texture.minFilter = actor.LinearFilter;\n\n\n  };\n\n  return ImageBuffer;\n}(actor.Base));\n\nvar imageLayer = /*@__PURE__*/(function (Layer) {\n  function imageLayer () {\n    Layer.apply(this, arguments);\n  }\n\n  if ( Layer ) imageLayer.__proto__ = Layer;\n  imageLayer.prototype = Object.create( Layer && Layer.prototype );\n  imageLayer.prototype.constructor = imageLayer;\n\n  imageLayer.prototype.draw = function draw () {\n    var this$1 = this;\n\n    this.type = 'image';\n    var source = this.layerSource;\n    var ref = this.get('styleOptions');\n    var opacity = ref.opacity;\n    // 加载 完成事件\n    source.originData.images.then(function (images) {\n      this$1.layerData[0].images = images;\n      var buffer = new ImageBuffer$1({\n        layerData: this$1.layerData\n      });\n      this$1.initGeometry(buffer.attributes);\n      var material = new ImageMaterial({\n        u_texture: buffer.texture,\n        u_opacity: opacity\n      });\n      var imageMesh = new actor.Mesh(this$1.geometry, material);\n      this$1.add(imageMesh);\n      this$1.scene._engine.update();\n\n    });\n    return this;\n  };\n  imageLayer.prototype.initGeometry = function initGeometry (attributes) {\n    this.geometry = new actor.BufferGeometry();\n    this.geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.vertices, 3));\n    this.geometry.addAttribute('uv', new actor.Float32BufferAttribute(attributes.uvs, 2));\n  };\n\n  return imageLayer;\n}(Layer));\n\nfunction ImageMaterial$1(options) {\n  var ref = getModule('raster');\n  var vs = ref.vs;\n  var fs = ref.fs;\n  var material = new Material({\n    uniforms: {\n      u_opacity: { value: options.u_opacity },\n      u_texture: { value: options.u_texture },\n      u_colorTexture: { value: options.u_colorTexture },\n      u_min: { value: options.u_min },\n      u_max: { value: options.u_max },\n      u_extent: { value: options.u_extent },\n      u_dimension: { value: options.u_dimension }\n\n    },\n    vertexShader: vs,\n    fragmentShader: fs,\n    transparent: false\n  });\n  // material.roughness = 1;\n  // material.metalness = 0.1;\n  // material.envMapIntensity = 3;\n  return material;\n}\n\n// import BufferBase from './bufferBase';\nvar RasterBuffer = /*@__PURE__*/(function (Base) {\n  function RasterBuffer(cfg) {\n    Base.call(this, cfg);\n    this.init();\n  }\n\n  if ( Base ) RasterBuffer.__proto__ = Base;\n  RasterBuffer.prototype = Object.create( Base && Base.prototype );\n  RasterBuffer.prototype.constructor = RasterBuffer;\n  RasterBuffer.prototype.init = function init () {\n    var layerData = this.get('layerData');\n    var ref = layerData.dataArray[0];\n    var coordinates = ref.coordinates;\n    var width = ref.width;\n    var data = ref.data;\n    var height = ref.height;\n    var positions = ( coordinates[0] ).concat( [coordinates[1][0]], [coordinates[0][1]], [0],\n      coordinates[1],\n      coordinates[0],\n      coordinates[1],\n      [coordinates[0][0]], [coordinates[1][1]], [0]\n    );\n    var imgPosUv = [ 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0 ];\n    var size = this.get('size');\n\n    var texture = new actor.DataTexture(new Float32Array(data), width, height, actor.LuminanceFormat, actor.FloatType);\n    texture.needsUpdate = true;\n    var colors = this.get('rampColors');\n    var colorImageData = this.getColorRamp(colors);\n    var colorTexture = this._getTexture(colorImageData); // 颜色纹理\n    this.position = positions;\n    this.uv = imgPosUv;\n    this.u_raster = texture;//\n    this.u_extent = [ coordinates[0][0], coordinates[0][1], coordinates[1][0], coordinates[1][1] ];\n    this.u_colorTexture = colorTexture; // 颜色表‘=\n    var triangles = this._buildTriangles(width, height, size, this.u_extent);\n    var attributes = {\n      vertices: new Float32Array(triangles.vertices),\n      uvs: new Float32Array(triangles.uvs),\n      indices: triangles.indices,\n      dimension: triangles.dimension\n\n    };\n    this.attributes = attributes;\n  };\n  RasterBuffer.prototype.getColorRamp = function getColorRamp (name) {\n    var colorscale = name;\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n\n    canvas.width = 256;\n    canvas.height = 1;\n    var gradient = ctx.createLinearGradient(0, 0, 256, 0);\n    var data = null;\n    if (typeof (colorscale) === 'string') {\n      colorscale = colorScales[name];\n    }\n    if (Object.prototype.toString.call(colorscale) === '[object Object]') {\n      var min = colorscale.positions[0];\n      var max = colorscale.positions[colorscale.positions.length - 1];\n\n      for (var i = 0; i < colorscale.colors.length; ++i) {\n        var value = (colorscale.positions[i] - min) / (max - min);\n        gradient.addColorStop(value, colorscale.colors[i]);\n      }\n      ctx.fillStyle = gradient;\n      ctx.fillRect(0, 0, 256, 1);\n      data = new Uint8ClampedArray(ctx.getImageData(0, 0, 256, 1).data);\n    }\n    if (Object.prototype.toString.call(colorscale) === '[object Uint8Array]') {\n      data = ctx.createImageData(256, 1);\n    }\n\n    return new ImageData(data, 16, 16);\n\n  };\n\n  /**\n   * 颜色纹理\n   * @param {*} image 颜色图片\n   * @return {texture} texture\n   */\n  RasterBuffer.prototype._getTexture = function _getTexture (image) {\n    var texture1 = new actor.Texture(image);\n    texture1.magFilter = actor.LinearFilter;\n    texture1.minFilter = actor.LinearFilter;\n    texture1.format = actor.RGBAFormat;\n    texture1.type = actor.UnsignedByteType;\n    texture1.generateMipmaps = true;\n    texture1.needsUpdate = true;\n    return texture1;\n  };\n  RasterBuffer.prototype._buildTriangles = function _buildTriangles (width, height, size, extent) {\n    if ( size === void 0 ) size = 2;\n\n    // const extent = [ 73.482190241, 3.82501784112, 135.106618732, 57.6300459963 ]\n    var indices = [];\n    var vertices = [];\n    var uvs = [];\n    var gridX = Math.floor(width / size);\n    var gridY = Math.floor(height / size);\n    var gridX1 = gridX + 1;\n    var gridY1 = gridY + 1;\n    var stepX = (extent[2] - extent[0]) / gridX1;\n    var stepY = (extent[3] - extent[1]) / gridY1;\n    for (var i = 0; i < gridY1; i++) {\n      var y = i * size;\n      for (var j = 0; j < gridX1; j++) {\n        var x = j * size;\n        vertices.push(extent[0] + x * stepX, (height - y) * stepY + extent[1], 0);\n        uvs.push(j / gridX);\n        uvs.push(i / gridY);\n      }\n    }\n    for (var iy = 0; iy < gridY; iy++) {\n      for (var ix = 0; ix < gridX; ix++) {\n        var a = ix + gridX1 * iy;\n        var b = ix + gridX1 * (iy + 1);\n        var c = (ix + 1) + gridX1 * (iy + 1);\n        var d = (ix + 1) + gridX1 * iy;\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n\n    }\n    return {\n      uvs: uvs,\n      indices: indices,\n      vertices: vertices,\n      dimension: [ gridX, gridY ]\n    };\n\n  };\n\n  return RasterBuffer;\n}(actor.Base));\n\nvar RasterLayer = /*@__PURE__*/(function (Layer) {\n  function RasterLayer () {\n    Layer.apply(this, arguments);\n  }\n\n  if ( Layer ) RasterLayer.__proto__ = Layer;\n  RasterLayer.prototype = Object.create( Layer && Layer.prototype );\n  RasterLayer.prototype.constructor = RasterLayer;\n\n  RasterLayer.prototype.draw = function draw () {\n    this.type = 'raster';\n    var source = this.layerSource;\n    // 加载 完成事件\n    var styleOptions = this.get('styleOptions');\n    var buffer = new RasterBuffer({\n      layerData: source.data,\n      rampColors: styleOptions.rampColors\n    });\n    this.initGeometry(buffer.attributes);\n    var rasterConfig = source.data.dataArray[0];\n    var material = new ImageMaterial$1({\n      u_texture: buffer.u_raster,\n      u_colorTexture: buffer.u_colorTexture,\n      u_opacity: 1.0,\n      u_extent: buffer.u_extent,\n      u_min: rasterConfig.min,\n      u_max: rasterConfig.max,\n      u_dimension: buffer.attributes.dimension\n\n    });\n\n    var rasterMesh = new actor.Mesh(this.geometry, material);\n    this.add(rasterMesh);\n    return this;\n  };\n\n  RasterLayer.prototype.animateFunc = function animateFunc () {\n    var this$1 = this;\n\n    var animateOptions = this.get('animateOptions');\n    this.material.setValue('u_bands', this.animateData.index % 3);\n    this.material.setValue('u_texture', this.animateData.rasters[ Math.floor(this.animateData.index / 3) % 8]);\n    this.animateData.index++;\n    if (animateOptions) {\n      animateOptions(this.animateData.index);\n    }\n    setTimeout(function () {\n      this$1.animateId = requestAnimationFrame(this$1.animateFunc.bind(this$1));\n    }, 500);\n  };\n  RasterLayer.prototype.cancelAnimate = function cancelAnimate () {\n    window.cancelAnimationFrame(this.animateId);\n  };\n  RasterLayer.prototype.initGeometry = function initGeometry (attributes) {\n    this.geometry = new actor.BufferGeometry();\n    this.geometry.setIndex(attributes.indices);\n    this.geometry.addAttribute('position', new actor.Float32BufferAttribute(attributes.vertices, 3));\n    this.geometry.addAttribute('uv', new actor.Float32BufferAttribute(attributes.uvs, 2));\n  };\n\n  return RasterLayer;\n}(Layer));\n\nvar HeatMapLayer = /*@__PURE__*/(function (Layer) {\n  function HeatMapLayer () {\n    Layer.apply(this, arguments);\n  }\n\n  if ( Layer ) HeatMapLayer.__proto__ = Layer;\n  HeatMapLayer.prototype = Object.create( Layer && Layer.prototype );\n  HeatMapLayer.prototype.constructor = HeatMapLayer;\n\n  HeatMapLayer.prototype.shape = function shape (type) {\n    this.shapeType = type;\n    return this;\n  };\n  HeatMapLayer.prototype.draw = function draw () {\n    this.type = 'heatmap';\n    if (!this.shapeType) { this.shapeType = 'heatmap'; }\n    var renderType = this.shapeType === 'heatmap' ? 'heatmap' : 'shape';\n    this.add(getRender('heatmap', renderType)(this.layerData, this, this.layerSource));\n  };\n\n  return HeatMapLayer;\n}(Layer));\n\n/**\n * LRU Cache class with limit\n *\n * Update order for each get/set operation\n * Delete oldest when reach given limit\n */\n\nvar LRUCache = function LRUCache(limit, destroy) {\n  if ( limit === void 0 ) limit = 50;\n  if ( destroy === void 0 ) destroy = function () {};\n\n  this.limit = limit;\n  this.destroy = destroy;\n  this._order = [];\n  this.clear();\n};\n\nLRUCache.prototype.clear = function clear () {\n    var this$1 = this;\n\n  this._order.forEach(function (key) {\n    this$1.delete(key);\n  });\n  this._cache = {};\n  // access/update order, first item is oldest, last item is newest\n  this._order = [];\n};\n\nLRUCache.prototype.get = function get (key) {\n  var value = this._cache[key];\n  if (value) {\n    // update order\n    this._deleteOrder(key);\n    this._appendOrder(key);\n  }\n  return value;\n};\n\nLRUCache.prototype.set = function set (key, value) {\n  if (!this._cache[key]) {\n    // if reach limit, delete the oldest\n    if (Object.keys(this._cache).length === this.limit) {\n      this.delete(this._order[0]);\n    }\n\n    this._cache[key] = value;\n    this._appendOrder(key);\n  } else {\n    // if found in cache, delete the old one, insert new one to the first of list\n    this.delete(key);\n\n    this._cache[key] = value;\n    this._appendOrder(key);\n  }\n};\n\nLRUCache.prototype.delete = function delete$1 (key) {\n  var value = this._cache[key];\n  if (value) {\n    this._deleteCache(key);\n    this._deleteOrder(key);\n    this.destroy(value, key);\n  }\n};\n\nLRUCache.prototype._deleteCache = function _deleteCache (key) {\n  delete this._cache[key];\n};\n\nLRUCache.prototype._deleteOrder = function _deleteOrder (key) {\n  var index = this._order.findIndex(function (o) { return o === key; });\n  if (index >= 0) {\n    this._order.splice(index, 1);\n  }\n};\n\nLRUCache.prototype._appendOrder = function _appendOrder (key) {\n  this._order.push(key);\n};\n\nvar TileDataCache = function TileDataCache(limit, tileDestroy) {\n  if ( limit === void 0 ) limit = 50;\n\n  this._cache = new LRUCache(limit, tileDestroy);\n};\n\nTileDataCache.prototype.getTile = function getTile (key) {\n  return this._cache.get(key);\n};\n\nTileDataCache.prototype.setTile = function setTile (tile, key) {\n  this._cache.set(key, tile);\n};\nTileDataCache.prototype.removeTile = function removeTile (key) {\n  return this._cache.delete(key);\n};\nTileDataCache.prototype.destory = function destory () {\n  this._cache.clear();\n};\n\nvar tileURLRegex = /\\{([zxy])\\}/g;\nvar TileSource = /*@__PURE__*/(function (Source) {\n  function TileSource(url, cfg) {\n    Source.call(this, cfg);\n    this.cfg = cfg;\n    this.urlTemplate = url;\n    this._tileDataCache = new TileDataCache(50, this.tileDestroy);\n    this.type = 'tile';\n  }\n\n  if ( Source ) TileSource.__proto__ = Source;\n  TileSource.prototype = Object.create( Source && Source.prototype );\n  TileSource.prototype.constructor = TileSource;\n  TileSource.prototype.getTileData = function getTileData (x, y, z) {\n    var this$1 = this;\n\n    var key = [ x, y, z ].join('_');\n    var tileData = this._tileDataCache.getTile(key);\n    if (!tileData) {\n      var tiledataPromise = new Promise(function (resolve) {\n        if (tileData) {\n          setTimeout(function () {\n            resolve(tileData);\n          }, 0);\n        } else {\n          this$1._requestTileData(x, y, z, resolve);\n        }\n      });\n      tileData = {\n        loading: true,\n        data: tiledataPromise\n      };\n      this._tileDataCache.setTile(tileData, key);\n      return tileData;\n    }\n    return tileData;\n\n  };\n  TileSource.prototype._init = function _init () {\n    var parser = this.get('parser');\n    this.set('minSourceZoom', parser && parser.minZoom || 0);\n    this.set('maxSourceZoom', parser && parser.maxZoom || 18);\n  };\n  TileSource.prototype._generateSource = function _generateSource (x, y, z, data) {\n    this.cfg.parser.tile = [ x, y, z ];\n    var tileData = new Source(Object.assign({}, this.cfg,\n      {mapType: this.get('mapType'),\n      data: data,\n      tile: [ x, y, z ]}));\n    return tileData;\n  };\n  TileSource.prototype._requestTileData = function _requestTileData (x, y, z, done) {\n    var this$1 = this;\n\n    var urlParams = { x: x, y: y, z: z };\n    var url = this._getTileURL(urlParams);\n    var key = [ x, y, z ].join('_');\n    this.xhrRequest = actor.getArrayBuffer({ url: url }, function (err, data) {\n      if (err) {\n        this$1._noData = true;\n        this$1._tileDataCache.setTile({ loaded: true, data: { data: null } }, key);\n        return;\n      }\n      var tileData = this$1._generateSource(x, y, z, data.data);\n      this$1._tileDataCache.setTile({ loaded: true, data: tileData }, key);\n      done(tileData);\n    });\n\n  };\n  TileSource.prototype.getRequestUrl = function getRequestUrl (x, y, z) {\n    var urlParams = { x: x, y: y, z: z };\n    return this._getTileURL(urlParams);\n\n  };\n  TileSource.prototype._getTileURL = function _getTileURL (urlParams) {\n    if (!urlParams.s) {\n      // Default to a random choice of a, b or c\n      urlParams.s = String.fromCharCode(97 + Math.floor(Math.random() * 3));\n    }\n\n    tileURLRegex.lastIndex = 0;\n    return this.urlTemplate.replace(tileURLRegex, function(value, key) {\n      return urlParams[key];\n    });\n  };\n  TileSource.prototype.tileDestroy = function tileDestroy (tile) {\n    if (!tile || !tile.data || tile.loading || !tile.data.data || !tile.data.data.dataArray) {\n      return;\n    }\n    var tileData = tile.data;\n    tileData.destroy();\n  };\n\n  return TileSource;\n}(actor.Source));\n\nvar TileCache = function TileCache(limit, tileDestroy) {\n  if ( limit === void 0 ) limit = 50;\n\n  this._cache = new LRUCache(limit, tileDestroy);\n};\n\nTileCache.prototype.getTile = function getTile (key) {\n  return this._cache.get(key);\n};\n\nTileCache.prototype.setTile = function setTile (tile, key) {\n  this._cache.set(key, tile);\n};\nTileCache.prototype.destory = function destory () {\n  this._cache.clear();\n};\nTileCache.prototype.setNeedUpdate = function setNeedUpdate () {\n    var this$1 = this;\n\n  this._cache._order.forEach(function (key) {\n    var tile = this$1._cache.get(key);\n    tile.needUpdate = true;\n  });\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) { if (b.hasOwnProperty(p)) { d[p] = b[p]; } } };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\n        var arguments$1 = arguments;\n\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments$1[i];\r\n            for (var p in s) { if (Object.prototype.hasOwnProperty.call(s, p)) { t[p] = s[p]; } }\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) { if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        { t[p] = s[p]; } }\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        { for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                { t[p[i]] = s[p[i]]; }\r\n        } }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") { r = Reflect.decorate(decorators, target, key, desc); }\r\n    else { for (var i = decorators.length - 1; i >= 0; i--) { if (d = decorators[i]) { r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r; } } }\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") { return Reflect.metadata(metadataKey, metadataValue); }\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) { throw t[1]; } return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) { throw new TypeError(\"Generator is already executing.\"); }\r\n        while (_) { try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) { return t; }\r\n            if (y = 0, t) { op = [op[0] & 2, t.value]; }\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) { _.ops.pop(); }\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; } }\r\n        if (op[0] & 5) { throw op[1]; } return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) { if (!exports.hasOwnProperty(p)) { exports[p] = m[p]; } }\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) { return m.call(o); }\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) { o = void 0; }\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) { return o; }\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) { ar.push(r.value); }\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) { m.call(i); }\r\n        }\r\n        finally { if (e) { throw e.error; } }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\n    var arguments$1 = arguments;\n\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        { ar = ar.concat(__read(arguments$1[i])); }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\n    var arguments$1 = arguments;\n\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) { s += arguments$1[i].length; }\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        { for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            { r[k] = a[j]; } }\r\n    return r;\r\n}\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) { throw new TypeError(\"Symbol.asyncIterator is not defined.\"); }\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) { resume(q[0][0], q[0][1]); } }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) { throw new TypeError(\"Symbol.asyncIterator is not defined.\"); }\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n}\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) { return mod; }\r\n    var result = {};\r\n    if (mod != null) { for (var k in mod) { if (Object.hasOwnProperty.call(mod, k)) { result[k] = mod[k]; } } }\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\n\nvar tslib_es6 = /*#__PURE__*/Object.freeze({\n__proto__: null,\n__extends: __extends,\nget __assign () { return __assign; },\n__rest: __rest,\n__decorate: __decorate,\n__param: __param,\n__metadata: __metadata,\n__awaiter: __awaiter,\n__generator: __generator,\n__exportStar: __exportStar,\n__values: __values,\n__read: __read,\n__spread: __spread,\n__spreadArrays: __spreadArrays,\n__await: __await,\n__asyncGenerator: __asyncGenerator,\n__asyncDelegator: __asyncDelegator,\n__asyncValues: __asyncValues,\n__makeTemplateObject: __makeTemplateObject,\n__importStar: __importStar,\n__importDefault: __importDefault\n});\n\nvar common = actor.createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n\n// Configuration Constants\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\nfunction toRadian(a) {\n  return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n});\n\nactor.unwrapExports(common);\nvar common_1 = common.setMatrixArrayType;\nvar common_2 = common.toRadian;\nvar common_3 = common.equals;\nvar common_4 = common.EPSILON;\nvar common_5 = common.ARRAY_TYPE;\nvar common_6 = common.RANDOM;\n\nvar mat3 = actor.createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\n\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { newObj[key] = obj[key]; } } } newObj.default = obj; return newObj; } }\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20;\n\n  // Calculate the determinant\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n\n  return out;\n}\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n});\n\nactor.unwrapExports(mat3);\nvar mat3_1 = mat3.sub;\nvar mat3_2 = mat3.mul;\nvar mat3_3 = mat3.create;\nvar mat3_4 = mat3.fromMat4;\nvar mat3_5 = mat3.clone;\nvar mat3_6 = mat3.copy;\nvar mat3_7 = mat3.fromValues;\nvar mat3_8 = mat3.set;\nvar mat3_9 = mat3.identity;\nvar mat3_10 = mat3.transpose;\nvar mat3_11 = mat3.invert;\nvar mat3_12 = mat3.adjoint;\nvar mat3_13 = mat3.determinant;\nvar mat3_14 = mat3.multiply;\nvar mat3_15 = mat3.translate;\nvar mat3_16 = mat3.rotate;\nvar mat3_17 = mat3.scale;\nvar mat3_18 = mat3.fromTranslation;\nvar mat3_19 = mat3.fromRotation;\nvar mat3_20 = mat3.fromScaling;\nvar mat3_21 = mat3.fromMat2d;\nvar mat3_22 = mat3.fromQuat;\nvar mat3_23 = mat3.normalFromMat4;\nvar mat3_24 = mat3.projection;\nvar mat3_25 = mat3.str;\nvar mat3_26 = mat3.frob;\nvar mat3_27 = mat3.add;\nvar mat3_28 = mat3.subtract;\nvar mat3_29 = mat3.multiplyScalar;\nvar mat3_30 = mat3.multiplyScalarAndAdd;\nvar mat3_31 = mat3.exactEquals;\nvar mat3_32 = mat3.equals;\n\nvar mat3_1$1 = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nmat3.translate = function (out, a, v) {\n    var transMat = Array(9);\n    mat3.fromTranslation(transMat, v);\n    return mat3.multiply(out, transMat, a);\n};\nmat3.rotate = function (out, a, rad) {\n    var rotateMat = Array(9);\n    mat3.fromRotation(rotateMat, rad);\n    return mat3.multiply(out, rotateMat, a);\n};\nmat3.scale = function (out, a, v) {\n    var scaleMat = Array(9);\n    mat3.fromScaling(scaleMat, v);\n    return mat3.multiply(out, scaleMat, a);\n};\nmat3.transform = function (m, actions) {\n    var out = [].concat(m);\n    for (var i = 0, len = actions.length; i < len; i += 1) {\n        var action = actions[i];\n        switch (action[0]) {\n            case 't':\n                mat3.translate(out, out, [action[1], action[2]]);\n                break;\n            case 's':\n                mat3.scale(out, out, [action[1], action[2]]);\n                break;\n            case 'r':\n                mat3.rotate(out, out, action[1]);\n                break;\n            default:\n                break;\n        }\n    }\n    return out;\n};\nexports[\"default\"] = mat3;\n\n});\n\nactor.unwrapExports(mat3_1$1);\n\nvar vec3 = actor.createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\n\n\nvar glMatrix = _interopRequireWildcard(common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { newObj[key] = obj[key]; } } } newObj.default = obj; return newObj; } }\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x;\n  // var uuv = vec3.cross([], qvec, uv);\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx;\n  // vec3.scale(uv, uv, 2 * w);\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2;\n  // vec3.scale(uuv, uuv, 2);\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2;\n  // return vec3.add(out, a, vec3.add(out, uv, uuv));\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2];\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n});\n\nactor.unwrapExports(vec3);\nvar vec3_1 = vec3.forEach;\nvar vec3_2 = vec3.sqrLen;\nvar vec3_3 = vec3.len;\nvar vec3_4 = vec3.sqrDist;\nvar vec3_5 = vec3.dist;\nvar vec3_6 = vec3.div;\nvar vec3_7 = vec3.mul;\nvar vec3_8 = vec3.sub;\nvar vec3_9 = vec3.create;\nvar vec3_10 = vec3.clone;\nvar vec3_11 = vec3.length;\nvar vec3_12 = vec3.fromValues;\nvar vec3_13 = vec3.copy;\nvar vec3_14 = vec3.set;\nvar vec3_15 = vec3.add;\nvar vec3_16 = vec3.subtract;\nvar vec3_17 = vec3.multiply;\nvar vec3_18 = vec3.divide;\nvar vec3_19 = vec3.ceil;\nvar vec3_20 = vec3.floor;\nvar vec3_21 = vec3.min;\nvar vec3_22 = vec3.max;\nvar vec3_23 = vec3.round;\nvar vec3_24 = vec3.scale;\nvar vec3_25 = vec3.scaleAndAdd;\nvar vec3_26 = vec3.distance;\nvar vec3_27 = vec3.squaredDistance;\nvar vec3_28 = vec3.squaredLength;\nvar vec3_29 = vec3.negate;\nvar vec3_30 = vec3.inverse;\nvar vec3_31 = vec3.normalize;\nvar vec3_32 = vec3.dot;\nvar vec3_33 = vec3.cross;\nvar vec3_34 = vec3.lerp;\nvar vec3_35 = vec3.hermite;\nvar vec3_36 = vec3.bezier;\nvar vec3_37 = vec3.random;\nvar vec3_38 = vec3.transformMat4;\nvar vec3_39 = vec3.transformMat3;\nvar vec3_40 = vec3.transformQuat;\nvar vec3_41 = vec3.rotateX;\nvar vec3_42 = vec3.rotateY;\nvar vec3_43 = vec3.rotateZ;\nvar vec3_44 = vec3.angle;\nvar vec3_45 = vec3.str;\nvar vec3_46 = vec3.exactEquals;\nvar vec3_47 = vec3.equals;\n\nvar base = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n/**\n * @fileOverview the base class of Coordinate\n * @author sima.zhang\n */\n\n\nvar Coord = /** @class */ (function () {\n    function Coord(cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        this.matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        this.isTransposed = false;\n        Object.assign(this, cfg);\n        this.init();\n    }\n    Coord.prototype.init = function () {\n        var start = this.start;\n        var end = this.end;\n        var center = {\n            x: (start.x + end.x) / 2,\n            y: (start.y + end.y) / 2\n        };\n        this.center = center;\n        this.width = Math.abs(end.x - start.x);\n        this.height = Math.abs(end.y - start.y);\n    };\n    Coord.prototype._swapDim = function (dim) {\n        var dimRange = this[dim];\n        if (dimRange) {\n            var tmp = dimRange.start;\n            dimRange.start = dimRange.end;\n            dimRange.end = tmp;\n        }\n    };\n    Coord.prototype.getCenter = function () {\n        return this.center;\n    };\n    Coord.prototype.getWidth = function () {\n        return this.width;\n    };\n    Coord.prototype.getHeight = function () {\n        return this.height;\n    };\n    Coord.prototype.convertDim = function (percent, dim) {\n        var _a = this[dim], start = _a.start, end = _a.end;\n        return start + percent * (end - start);\n    };\n    Coord.prototype.invertDim = function (value, dim) {\n        var _a = this[dim], start = _a.start, end = _a.end;\n        return (value - start) / (end - start);\n    };\n    /**\n     * 将归一化的坐标点数据转换为画布坐标\n     * @override\n     * @param  {Object} point 归一化的坐标点\n     * @return {Object}       返回画布坐标\n     */\n    Coord.prototype.convertPoint = function (point) {\n        return point;\n    };\n    /**\n     * 将画布坐标转换为归一化的坐标点数据\n     * @override\n     * @param  {Object} PointType 画布坐标点数据\n     * @return {Object}       归一化后的数据点\n     */\n    Coord.prototype.invertPoint = function (point) {\n        return point;\n    };\n    /**\n     * 将坐标点进行矩阵变换\n     * @param  {Number} x   对应 x 轴画布坐标\n     * @param  {Number} y   对应 y 轴画布坐标\n     * @param  {Number} tag 默认为 0，可取值 0, 1\n     * @return {Array}     返回变换后的三阶向量 [x, y, z]\n     */\n    Coord.prototype.applyMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var vector = [x, y, tag];\n        vec3.transformMat3(vector, vector, matrix);\n        return vector;\n    };\n    /**\n     * 将坐标点进行矩阵逆变换\n     * @param  {Number} x   对应 x 轴画布坐标\n     * @param  {Number} y   对应 y 轴画布坐标\n     * @param  {Number} tag 默认为 0，可取值 0, 1\n     * @return {Array}     返回矩阵逆变换后的三阶向量 [x, y, z]\n     */\n    Coord.prototype.invertMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var inversedMatrix = mat3_1$1[\"default\"].invert([], matrix);\n        var vector = [x, y, tag];\n        vec3.transformMat3(vector, vector, inversedMatrix);\n        return vector;\n    };\n    /**\n     * 将归一化的坐标点数据转换为画布坐标，并根据坐标系当前矩阵进行变换\n     * @param  {Object} point 归一化的坐标点\n     * @return {Object}       返回进行矩阵变换后的画布坐标\n     */\n    Coord.prototype.convert = function (point) {\n        var _a = this.convertPoint(point), x = _a.x, y = _a.y;\n        var vector = this.applyMatrix(x, y, 1);\n        return {\n            x: vector[0],\n            y: vector[1]\n        };\n    };\n    /**\n     * 将进行过矩阵变换画布坐标转换为归一化坐标\n     * @param  {Object} point 画布坐标\n     * @return {Object}       返回归一化的坐标点\n     */\n    Coord.prototype.invert = function (point) {\n        var vector = this.invertMatrix(point.x, point.y, 1);\n        return this.invertPoint({\n            x: vector[0],\n            y: vector[1]\n        });\n    };\n    /**\n     * 坐标系旋转变换\n     * @param  {Number} radian 旋转弧度\n     * @return {Object}        返回坐标系对象\n     */\n    Coord.prototype.rotate = function (radian) {\n        var matrix = this.matrix;\n        var center = this.center;\n        mat3_1$1[\"default\"].translate(matrix, matrix, [-center.x, -center.y]);\n        mat3_1$1[\"default\"].rotate(matrix, matrix, radian);\n        mat3_1$1[\"default\"].translate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * 坐标系反射变换\n     * @param  {String} dim 反射维度\n     * @return {Object}     返回坐标系对象\n     */\n    Coord.prototype.reflect = function (dim) {\n        switch (dim) {\n            case 'x':\n                this._swapDim('x');\n                break;\n            case 'y':\n                this._swapDim('y');\n                break;\n            default:\n                this._swapDim('y');\n        }\n        return this;\n    };\n    /**\n     * 坐标系比例变换\n     * @param  {Number} s1 x 方向缩放比例\n     * @param  {Number} s2 y 方向缩放比例\n     * @return {Object}    返回坐标系对象\n     */\n    Coord.prototype.scale = function (s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        mat3_1$1[\"default\"].translate(matrix, matrix, [-center.x, -center.y]);\n        mat3_1$1[\"default\"].scale(matrix, matrix, [s1, s2]);\n        mat3_1$1[\"default\"].translate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * 坐标系平移变换\n     * @param  {Number} x x 方向平移像素\n     * @param  {Number} y y 方向平移像素\n     * @return {Object}   返回坐标系对象\n     */\n    Coord.prototype.translate = function (x, y) {\n        var matrix = this.matrix;\n        mat3_1$1[\"default\"].translate(matrix, matrix, [x, y]);\n        return this;\n    };\n    /**\n     * 将坐标系 x y 两个轴进行转置\n     * @return {Object} 返回坐标系对象\n     */\n    Coord.prototype.transpose = function () {\n        this.isTransposed = !this.isTransposed;\n        return this;\n    };\n    return Coord;\n}());\nexports[\"default\"] = Coord;\n\n});\n\nactor.unwrapExports(base);\n\nvar util = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\nvar trunc = function (v) {\n    return v > 0 ? Math.floor(v) : Math.ceil(v);\n};\nexports.trunc = trunc;\nfunction formatNum(num, digits) {\n    var pow = Math.pow(10, digits === undefined ? 6 : digits);\n    return Math.round(num * pow) / pow;\n}\nexports.formatNum = formatNum;\nfunction wrapNum(x, range, includeMax) {\n    var max = range[1];\n    var min = range[0];\n    var d = max - min;\n    return x === max && includeMax ? x : ((((x - min) % d) + d) % d) + min;\n}\nexports.wrapNum = wrapNum;\n\n});\n\nactor.unwrapExports(util);\nvar util_1 = util.trunc;\nvar util_2 = util.formatNum;\nvar util_3 = util.wrapNum;\n\nvar point = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar Point = /** @class */ (function () {\n    /**\n     * 平面坐标\n     * @param x x坐标\n     * @param y y坐标\n     * @param round 是否取整\n     */\n    function Point(x, y, round) {\n        this.x = round ? Math.round(x) : x;\n        this.y = round ? Math.round(y) : y;\n    }\n    Point.prototype.clone = function () {\n        return new Point(this.x, this.y);\n    };\n    Point.prototype.add = function (point, y, round) {\n        return this.clone()._add(toPoint(point, y, round));\n    };\n    Point.prototype._add = function (point) {\n        this.x += point.x;\n        this.y += point.y;\n        return this;\n    };\n    Point.prototype.subtract = function (point, y, round) {\n        return this.clone()._subtract(toPoint(point, y, round));\n    };\n    Point.prototype._subtract = function (point) {\n        this.x -= point.x;\n        this.y -= point.y;\n        return this;\n    };\n    Point.prototype.divideBy = function (num) {\n        return this.clone()._divideBy(num);\n    };\n    Point.prototype._divideBy = function (num) {\n        this.x /= num;\n        this.y /= num;\n        return this;\n    };\n    Point.prototype.multiplyBy = function (num) {\n        return this.clone()._multiplyBy(num);\n    };\n    Point.prototype._multiplyBy = function (num) {\n        this.x *= num;\n        this.y *= num;\n        return this;\n    };\n    Point.prototype.scaleBy = function (point) {\n        return new Point(this.x * point.x, this.y * point.y);\n    };\n    Point.prototype.unscaleBy = function (point) {\n        return new Point(this.x / point.x, this.y / point.y);\n    };\n    Point.prototype.round = function () {\n        return this.clone()._round();\n    };\n    Point.prototype._round = function () {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    };\n    Point.prototype.floor = function () {\n        return this.clone()._floor();\n    };\n    Point.prototype._floor = function () {\n        this.x = Math.floor(this.x);\n        this.y = Math.floor(this.y);\n        return this;\n    };\n    Point.prototype.ceil = function () {\n        return this.clone()._ceil();\n    };\n    Point.prototype._ceil = function () {\n        this.x = Math.ceil(this.x);\n        this.y = Math.ceil(this.y);\n        return this;\n    };\n    Point.prototype.trunc = function () {\n        return this.clone()._trunc();\n    };\n    Point.prototype._trunc = function () {\n        this.x = util.trunc(this.x);\n        this.y = util.trunc(this.y);\n        return this;\n    };\n    Point.prototype.distanceTo = function (point) {\n        var newPoint = toPoint(point);\n        var x = newPoint.x - this.x;\n        var y = newPoint.y - this.y;\n        return Math.sqrt(x * x + y * y);\n    };\n    Point.prototype.equals = function (point, threshold) {\n        var newPoint = toPoint(point);\n        var margin = Math.max(Math.abs(this.x - newPoint.x), Math.abs(this.y - newPoint.y));\n        return margin <= (threshold === undefined ? 1.0e-9 : threshold);\n    };\n    Point.prototype.contains = function (point) {\n        var newPoint = toPoint(point);\n        return (Math.abs(newPoint.x) <= Math.abs(this.x) &&\n            Math.abs(newPoint.y) <= Math.abs(this.y));\n    };\n    Point.prototype.toString = function () {\n        return \"Point(\" + util.formatNum(this.x) + \", \" + util.formatNum(this.y) + \")\";\n    };\n    return Point;\n}());\nexports.Point = Point;\nfunction toPoint(x, y, round) {\n    if (x instanceof Point) {\n        return x;\n    }\n    if (Array.isArray(x)) {\n        return new Point(x[0], x[1]);\n    }\n    if (x === undefined || x === null) {\n        return x;\n    }\n    if (typeof x === 'object' && 'x' in x && 'y' in x) {\n        return new Point(x.x, x.y);\n    }\n    return new Point(x, y, round);\n}\nexports.toPoint = toPoint;\n\n});\n\nactor.unwrapExports(point);\nvar point_1 = point.Point;\nvar point_2 = point.toPoint;\n\nvar bounds = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar Bounds = /** @class */ (function () {\n    function Bounds(topLeft, bottomRight) {\n        if (!topLeft) {\n            return;\n        }\n        var points = bottomRight ? [topLeft, bottomRight] : topLeft;\n        if (Array.isArray(points)) {\n            for (var i = 0, len = points.length; i < len; i += 1) {\n                // @ts-ignore\n                this.extend(points[i]);\n            }\n        }\n    }\n    Bounds.prototype.extend = function (point$1) {\n        var newPoint = point.toPoint(point$1);\n        if (!this.min && !this.max) {\n            this.min = newPoint.clone();\n            this.max = newPoint.clone();\n        }\n        else {\n            this.min.x = Math.min(newPoint.x, this.min.x);\n            this.max.x = Math.max(newPoint.x, this.max.x);\n            this.min.y = Math.min(newPoint.y, this.min.y);\n            this.max.y = Math.max(newPoint.y, this.max.y);\n        }\n        return this;\n    };\n    Bounds.prototype.getCenter = function (round) {\n        return new point.Point((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, round);\n    };\n    Bounds.prototype.getBottomLeft = function () {\n        return new point.Point(this.min.x, this.max.y);\n    };\n    Bounds.prototype.getTopRight = function () {\n        return new point.Point(this.max.x, this.min.y);\n    };\n    Bounds.prototype.getBottomRight = function () {\n        return this.max;\n    };\n    Bounds.prototype.getTopLeft = function () {\n        return this.min;\n    };\n    Bounds.prototype.getSize = function () {\n        return this.max.subtract(this.min);\n    };\n    /**\n     * 判断是否包含 输入 points 或者 bounds\n     * @param obj\n     */\n    Bounds.prototype.contains = function (obj) {\n        var min;\n        var max;\n        var newObj = obj;\n        // @ts-ignore\n        if (newObj instanceof point.Point || typeof newObj[0] === 'number') {\n            newObj = point.toPoint(newObj);\n        }\n        else {\n            newObj = toBounds(newObj);\n        }\n        if (newObj instanceof Bounds) {\n            min = newObj.min;\n            max = newObj.max;\n        }\n        else {\n            min = max = obj;\n        }\n        return (min.x >= this.min.x &&\n            max.x <= this.max.x &&\n            min.y >= this.min.y &&\n            max.y <= this.max.y);\n    };\n    /**\n     * 判断两个bounds是否相交 ,\n     * @param bounds\n     */\n    Bounds.prototype.intersect = function (bounds) {\n        var newBounds = toBounds(bounds);\n        var min = this.min;\n        var max = this.max;\n        var min2 = newBounds.min;\n        var max2 = newBounds.max;\n        var xIntersects = (max2.x >= min.x) && (min2.x <= max.x);\n        var yIntersects = (max2.y >= min.y) && (min2.y <= max.y);\n        return xIntersects && yIntersects;\n    };\n    /**\n     * 判断bounds是否相互覆盖\n     * @param bounds\n     */\n    Bounds.prototype.overlaps = function (bounds) {\n        var newBounds = toBounds(bounds);\n        var min = this.min;\n        var max = this.max;\n        var min2 = newBounds.min;\n        var max2 = newBounds.max;\n        var xOverlaps = (max2.x > min.x) && (min2.x < max.x);\n        var yOverlaps = (max2.y > min.y) && (min2.y < max.y);\n        return xOverlaps && yOverlaps;\n    };\n    Bounds.prototype.isValid = function () {\n        return !!(this.min && this.max);\n    };\n    return Bounds;\n}());\nexports.Bounds = Bounds;\nfunction toBounds(topLeft, bottomRight) {\n    if (!topLeft || topLeft instanceof Bounds) {\n        return topLeft;\n    }\n    return new Bounds(topLeft, bottomRight);\n}\nexports.toBounds = toBounds;\n\n});\n\nactor.unwrapExports(bounds);\nvar bounds_1 = bounds.Bounds;\nvar bounds_2 = bounds.toBounds;\n\nvar lngLatBounds = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar LngLatBounds = /** @class */ (function () {\n    function LngLatBounds(corner1, corner2) {\n        if (!corner1) {\n            return;\n        }\n        var latlngs = corner2 ? [corner1, corner2] : corner1;\n        if (Array.isArray(latlngs)) {\n            for (var i = 0, len = latlngs.length; i < len; i += 1) {\n                // @ts-ignore\n                this.extend(latlngs[i]);\n            }\n        }\n    }\n    LngLatBounds.prototype.extend = function (obj) {\n        var sw = this.southWest;\n        var ne = this.northEast;\n        var sw2;\n        var ne2;\n        if (obj instanceof lngLat.LngLat) {\n            sw2 = obj;\n            ne2 = obj;\n        }\n        else if (obj instanceof LngLatBounds) {\n            sw2 = obj.southWest;\n            ne2 = obj.northEast;\n            if (!sw2 || !ne2) {\n                return this;\n            }\n        }\n        else {\n            if (obj && Array.isArray(obj)) {\n                if (Array.isArray(obj[0])) {\n                    return this.extend(toLngLatBounds(obj));\n                }\n                return this.extend(lngLat.toLngLat(obj));\n            }\n            return this;\n        }\n        if (!sw && !ne) {\n            this.southWest = new lngLat.LngLat(sw2.lng, sw2.lat);\n            this.northEast = new lngLat.LngLat(ne2.lng, ne2.lat);\n        }\n        else {\n            sw.lat = Math.min(sw2.lat, sw.lat);\n            sw.lng = Math.min(sw2.lng, sw.lng);\n            ne.lat = Math.max(ne2.lat, ne.lat);\n            ne.lng = Math.max(ne2.lng, ne.lng);\n        }\n        return this;\n    };\n    /**\n     * 放大或者缩小区域\n     * @param bufferRatio 缩放比率\n     */\n    LngLatBounds.prototype.pad = function (bufferRatio) {\n        var sw = this.southWest;\n        var ne = this.northEast;\n        var heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio;\n        var widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;\n        return new LngLatBounds(new lngLat.LngLat(sw.lng - widthBuffer, sw.lat - heightBuffer), new lngLat.LngLat(ne.lng + widthBuffer, ne.lat + heightBuffer));\n    };\n    LngLatBounds.prototype.getCenter = function () {\n        return new lngLat.LngLat((this.southWest.lng + this.northEast.lng) / 2, (this.southWest.lat + this.northEast.lat) / 2);\n    };\n    LngLatBounds.prototype.getSouthWest = function () {\n        return this.southWest;\n    };\n    LngLatBounds.prototype.getNorthEast = function () {\n        return this.northEast;\n    };\n    LngLatBounds.prototype.getNorthWest = function () {\n        return new lngLat.LngLat(this.getWest(), this.getNorth());\n    };\n    LngLatBounds.prototype.getSouthEast = function () {\n        return new lngLat.LngLat(this.getEast(), this.getSouth());\n    };\n    LngLatBounds.prototype.getWest = function () {\n        return this.southWest.lng;\n    };\n    LngLatBounds.prototype.getSouth = function () {\n        return this.southWest.lat;\n    };\n    LngLatBounds.prototype.getNorth = function () {\n        return this.northEast.lat;\n    };\n    LngLatBounds.prototype.getEast = function () {\n        return this.northEast.lng;\n    };\n    LngLatBounds.prototype.contains = function (obj) {\n        var newObj = obj;\n        if ((Array.isArray(newObj) && typeof newObj[0] === 'number') ||\n            newObj instanceof lngLat.LngLat ||\n            'lat' in newObj) {\n            newObj = lngLat.toLngLat(newObj);\n        }\n        else {\n            newObj = toLngLatBounds(newObj);\n        }\n        var sw = this.southWest;\n        var ne = this.northEast;\n        var sw2;\n        var ne2;\n        if (newObj instanceof LngLatBounds) {\n            sw2 = newObj.getSouthWest();\n            ne2 = newObj.getNorthEast();\n        }\n        else {\n            sw2 = ne2 = newObj;\n        }\n        return (sw2.lat >= sw.lat &&\n            ne2.lat <= ne.lat &&\n            sw2.lng >= sw.lng &&\n            ne2.lng <= ne.lng);\n    };\n    // 包含相邻的多边形\n    LngLatBounds.prototype.intersects = function (bounds) {\n        var newBounds = toLngLatBounds(bounds);\n        var sw = this.southWest;\n        var ne = this.northEast;\n        var sw2 = newBounds.getSouthWest();\n        var ne2 = newBounds.getNorthEast();\n        var latIntersects = ne2.lat >= sw.lat && sw2.lat <= ne.lat;\n        var lngIntersects = ne2.lng >= sw.lng && sw2.lng <= ne.lng;\n        return latIntersects && lngIntersects;\n    };\n    // 不包括相邻的多边形\n    LngLatBounds.prototype.overlaps = function (bounds) {\n        var newBounds = toLngLatBounds(bounds);\n        var sw = this.southWest;\n        var ne = this.northEast;\n        var sw2 = newBounds.getSouthWest();\n        var ne2 = newBounds.getNorthEast();\n        var latOverlaps = ne2.lat > sw.lat && sw2.lat < ne.lat;\n        var lngOverlaps = ne2.lng > sw.lng && sw2.lng < ne.lng;\n        return latOverlaps && lngOverlaps;\n    };\n    LngLatBounds.prototype.toBBoxString = function () {\n        return [\n            this.getWest(),\n            this.getSouth(),\n            this.getEast(),\n            this.getNorth() ].join(',');\n    };\n    LngLatBounds.prototype.equals = function (bounds, maxMargin) {\n        if (!bounds) {\n            return false;\n        }\n        var newBounds = toLngLatBounds(bounds);\n        return (this.southWest.equals(newBounds.getSouthWest(), maxMargin) &&\n            this.northEast.equals(newBounds.getNorthEast(), maxMargin));\n    };\n    LngLatBounds.prototype.isValid = function () {\n        return !!(this.southWest && this.northEast);\n    };\n    return LngLatBounds;\n}());\nexports.LngLatBounds = LngLatBounds;\nfunction toLngLatBounds(a, b) {\n    if (a instanceof LngLatBounds) {\n        return a;\n    }\n    if (b !== undefined) {\n        return new LngLatBounds(a, b);\n    }\n    return new LngLatBounds(a);\n}\nexports.toLngLatBounds = toLngLatBounds;\n\n});\n\nactor.unwrapExports(lngLatBounds);\nvar lngLatBounds_1 = lngLatBounds.LngLatBounds;\nvar lngLatBounds_2 = lngLatBounds.toLngLatBounds;\n\nvar lngLat = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nvar LngLat = /** @class */ (function () {\n    function LngLat(lng, lat, alt) {\n        if (isNaN(lat) || isNaN(lng)) {\n            throw new Error(\"\\u65E0\\u6548\\u7684\\u7ECF\\u7EAC\\u5EA6\\u53C2\\u6570: (\" + lng + \",' \" + lat);\n        }\n        this.lat = +lat;\n        this.lng = +lng;\n        if (alt !== undefined) {\n            this.alt = +alt;\n        }\n    }\n    LngLat.prototype.equals = function (lnglat, threshold) {\n        if (!lnglat) {\n            return false;\n        }\n        var newLnglat = toLngLat(lnglat);\n        if (newLnglat === undefined) {\n            return false;\n        }\n        var margin = Math.max(Math.abs(this.lat - newLnglat.lat), Math.abs(this.lng - newLnglat.lng));\n        return margin <= (threshold === undefined ? 1.0e-9 : threshold);\n    };\n    LngLat.prototype.toString = function (precision) {\n        return (\"LngLat(\" + util.formatNum(this.lng, precision) + \", \" + util.formatNum(this.lat, precision) + \")\");\n    };\n    LngLat.prototype.distanceTo = function (other) {\n        return earth.earth.distance(this, toLngLat(other));\n    };\n    LngLat.prototype.wrap = function () {\n        // console.log(earth.infinite);\n        return earth.earth.wrapLngLat(this);\n    };\n    LngLat.prototype.toBounds = function (sizeInMeters) {\n        var latAccuracy = 180 * sizeInMeters / 40075017;\n        var lngAccuracy = latAccuracy / Math.cos((Math.PI / 180) * this.lat);\n        return lngLatBounds.toLngLatBounds([this.lng - lngAccuracy, this.lat - latAccuracy], [this.lng + lngAccuracy, this.lat + latAccuracy]);\n    };\n    LngLat.prototype.clone = function () {\n        return new LngLat(this.lng, this.lat, this.alt);\n    };\n    return LngLat;\n}());\nexports.LngLat = LngLat;\nfunction toLngLat(a, b, c) {\n    if (a instanceof LngLat) {\n        return a;\n    }\n    if (Array.isArray(a) && typeof a[0] !== 'object') {\n        if (a.length === 3) {\n            return new LngLat(a[0], a[1], a[2]);\n        }\n        if (a.length === 2) {\n            return new LngLat(a[0], a[1]);\n        }\n    }\n    if (a === undefined || a === null) {\n        throw new Error(\"\\u65E0\\u6548\\u7684\\u7ECF\\u7EAC\\u5EA6\\u53C2\\u6570: (\" + a + \", \" + b + \")\");\n    }\n    if (typeof a === 'object' && 'lat' in a) {\n        return new LngLat(a.lng, 'lng' in a ? a.lat : 0, a.alt);\n    }\n    if (b === undefined) {\n        throw new Error(\"\\u65E0\\u6548\\u7684\\u7ECF\\u7EAC\\u5EA6\\u53C2\\u6570: (\" + a + \", \" + b + \")\");\n    }\n    return new LngLat(Number(a), b, c);\n}\nexports.toLngLat = toLngLat;\n\n});\n\nactor.unwrapExports(lngLat);\nvar lngLat_1 = lngLat.LngLat;\nvar lngLat_2 = lngLat.toLngLat;\n\nvar sphericalMercator = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nexports.sphericalMercator = {\n    R: 6378137,\n    MAX_LATITUDE: 85.0511287798,\n    /**\n     * 经纬度坐标转平面坐标\n     * @param lnglat 经纬度\n     */\n    project: function (lnglat) {\n        var d = Math.PI / 180;\n        var max = this.MAX_LATITUDE;\n        var lat = Math.max(Math.min(max, lnglat.lat), -max);\n        var sin = Math.sin(lat * d);\n        return new point.Point(this.R * lnglat.lng * d, (this.R * Math.log((1 + sin) / (1 - sin))) / 2);\n    },\n    // 平面坐标转经纬度\n    unproject: function (point) {\n        var d = 180 / Math.PI;\n        return new lngLat.LngLat((point.x * d) / this.R, (2 * Math.atan(Math.exp(point.y / this.R)) - Math.PI / 2) * d);\n    },\n    bounds: (function () {\n        var d = 6378137 * Math.PI;\n        return new bounds.Bounds([-d, -d], [d, d]);\n    })()\n};\n\n});\n\nactor.unwrapExports(sphericalMercator);\nvar sphericalMercator_1 = sphericalMercator.sphericalMercator;\n\nvar transformation = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nvar Transformation = /** @class */ (function () {\n    function Transformation(a, b, c, d) {\n        if (Array.isArray(a)) {\n            // use array properties\n            this.a = a[0];\n            this.b = a[1];\n            this.c = a[2];\n            this.d = a[3];\n            return;\n        }\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n    }\n    Transformation.prototype.transform = function (point, scale) {\n        return this._transform(point.clone(), scale);\n    };\n    Transformation.prototype._transform = function (point, scale) {\n        var newScale = scale || 1;\n        point.x = newScale * (this.a * point.x + this.b);\n        point.y = newScale * (this.c * point.y + this.d);\n        return point;\n    };\n    Transformation.prototype.untransform = function (point$1, scale) {\n        var newScale = scale || 1;\n        return new point.Point((point$1.x / newScale - this.b) / this.a, (point$1.y / newScale - this.d) / this.c);\n    };\n    return Transformation;\n}());\nexports.Transformation = Transformation;\n\n});\n\nactor.unwrapExports(transformation);\nvar transformation_1 = transformation.Transformation;\n\nvar crs = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\n\n\nvar scale = 0.5 / (Math.PI * sphericalMercator.sphericalMercator.R);\nvar transform = new transformation.Transformation(scale, 0.5, -scale, 0.5);\nexports.CRS = {\n    wrapLng: [-180, 180],\n    wrapLat: null,\n    projection: sphericalMercator.sphericalMercator,\n    transformation: transform,\n    lngLatToPoint: function (lnglat, zoom) {\n        var projectedPoint = this.projection.project(lnglat);\n        var scale = this.scale(zoom);\n        return this.transformation.transform(projectedPoint, scale);\n    },\n    pointToLngLat: function (point, zoom) {\n        var scale = this.scale(zoom);\n        var untransformedPoint = this.transformation.untransform(point, scale);\n        return this.projection.unproject(untransformedPoint);\n    },\n    project: function (lnglat) {\n        return this.projection.project(lnglat);\n    },\n    unproject: function (point) {\n        return this.projection.unproject(point);\n    },\n    zoom: function (scale) {\n        return Math.log(scale / 256) / Math.LN2;\n    },\n    scale: function (zoom) {\n        return 256 * Math.pow(2, zoom);\n    },\n    getProjectedBounds: function (zoom) {\n        if (this.infinite) {\n            return new bounds.Bounds([[Infinity, Infinity], [Infinity, Infinity]]);\n        }\n        var b = this.projection.bounds;\n        var s = this.scale(zoom);\n        var min = this.transformation.transform(b.min, s);\n        var max = this.transformation.transform(b.max, s);\n        return new bounds.Bounds(min, max);\n    },\n    infinite: false,\n    wrapLngLat: function (lnglat) {\n        var lng = Array.isArray(this.wrapLng) ? util.wrapNum(lnglat.lng, this.wrapLng, true) : lnglat.lng;\n        var lat = Array.isArray(this.wrapLat) ? util.wrapNum(lnglat.lat, this.wrapLat, true) : lnglat.lat;\n        var alt = lnglat.alt;\n        return new lngLat.LngLat(lng, lat, alt);\n    },\n    wrapLngLatBounds: function (bounds) {\n        var center = bounds.getCenter();\n        var newCenter = this.wrapLngLat(center);\n        var latShift = center.lat - newCenter.lat;\n        var lngShift = center.lng - newCenter.lng;\n        if (latShift === 0 && lngShift === 0) {\n            return bounds;\n        }\n        var sw = bounds.getSouthWest();\n        var ne = bounds.getNorthEast();\n        var newSw = new lngLat.LngLat(sw.lng - lngShift, sw.lat - latShift);\n        var newNe = new lngLat.LngLat(ne.lng - lngShift, ne.lat - latShift);\n        return new lngLatBounds.LngLatBounds(newSw, newNe);\n    }\n};\n\n});\n\nactor.unwrapExports(crs);\nvar crs_1 = crs.CRS;\n\nvar earth = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n// @ts-ignore\nexports.earth = actor.lib.mix({}, crs.CRS, {\n    wrapLng: [-180, 180],\n    R: 6371000,\n    distance: function (latlng1, latlng2) {\n        var rad = Math.PI / 180;\n        var lat1 = latlng1.lat * rad;\n        var lat2 = latlng2.lat * rad;\n        var sinDLat = Math.sin((latlng2.lat - latlng1.lat) * rad / 2);\n        var sinDLon = Math.sin((latlng2.lng - latlng1.lng) * rad / 2);\n        var a = sinDLat * sinDLat + Math.cos(lat1) * Math.cos(lat2) * sinDLon * sinDLon;\n        var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        return this.R * c;\n    }\n});\n\n});\n\nactor.unwrapExports(earth);\nvar earth_1 = earth.earth;\n\nvar crsEpsg3857 = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\nvar scale = 0.5 / (Math.PI * sphericalMercator.sphericalMercator.R);\nvar transform = new transformation.Transformation(scale, 0.5, -scale, 0.5);\n// @ts-ignore\nexports.epsg3857 = actor.lib.mix({}, earth.earth, {\n    code: 'EPSG:3857',\n    projection: sphericalMercator.sphericalMercator,\n    transformation: transform\n});\nexports.epsg900913 = actor.lib.mix({}, exports.epsg3857, {\n    code: 'EPSG:900913'\n});\n\n});\n\nactor.unwrapExports(crsEpsg3857);\nvar crsEpsg3857_1 = crsEpsg3857.epsg3857;\nvar crsEpsg3857_2 = crsEpsg3857.epsg900913;\n\nvar lnglatProjection = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\nexports.lngLatProjection = {\n    project: function (lngLat) {\n        return new point.Point(lngLat.lng, lngLat.lat);\n    },\n    unproject: function (point) {\n        return new lngLat.LngLat(point.x, point.y);\n    },\n    bounds: new bounds.Bounds([-180, -90], [180, 90])\n};\n\n});\n\nactor.unwrapExports(lnglatProjection);\nvar lnglatProjection_1 = lnglatProjection.lngLatProjection;\n\nvar crsEpsg4326 = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\nvar transform = new transformation.Transformation(1 / 180, 1, -1 / 180, 0.5);\nexports.epsg4326 = actor.lib.mix({}, earth.earth, {\n    code: 'EPSG:4326',\n    projection: lnglatProjection.lngLatProjection,\n    transformation: transform\n});\n\n});\n\nactor.unwrapExports(crsEpsg4326);\nvar crsEpsg4326_1 = crsEpsg4326.epsg4326;\n\nvar crsSimple = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\nvar transform = new transformation.Transformation(1, 0, -1, 0);\n// @ts-ignore\nexports.simple = actor.lib.mix({}, crs.CRS, {\n    projection: lnglatProjection.lngLatProjection,\n    transformation: transform,\n    scale: function (zoom) {\n        return Math.pow(2, zoom);\n    },\n    zoom: function (scale) {\n        return Math.log(scale) / Math.LN2;\n    },\n    distance: function (latlng1, latlng2) {\n        var dx = latlng2.lng - latlng1.lng;\n        var dy = latlng2.lat - latlng1.lat;\n        return Math.sqrt(dx * dx + dy * dy);\n    },\n    infinite: true\n});\n\n});\n\nactor.unwrapExports(crsSimple);\nvar crsSimple_1 = crsSimple.simple;\n\nvar crs$1 = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\n// 所有的 Coord map\nvar CRS_MAP = {\n    // crs:CRS,\n    epsg3857: crsEpsg3857.epsg3857,\n    epsg4326: crsEpsg4326.epsg4326,\n    simple: crsSimple.simple,\n    earth: earth.earth,\n    epsg900913: crsEpsg3857.epsg900913\n};\n/**\n * 通过类型获得 Coord 类\n * @param type\n */\nexports.getCRS = function (type) {\n    return CRS_MAP[type.toLowerCase()];\n};\n\n});\n\nactor.unwrapExports(crs$1);\nvar crs_1$1 = crs$1.getCRS;\n\nvar geo = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\n\n\n\n\nvar Geo = /** @class */ (function (_super) {\n    tslib_es6.__extends(Geo, _super);\n    function Geo(cfg) {\n        var _this = _super.call(this, tslib_es6.__assign({ projection: 'EPSG3857', zoom: 7, mapCenter: [116.400146, 39.926588] }, cfg)) || this;\n        _this.type = 'geo';\n        _this.isGeo = true;\n        cfg.center ? _this.center = cfg.center : _this.center = _this.mapCenter;\n        _this._init();\n        return _this;\n    }\n    Geo.prototype._init = function () {\n        var start = this.start;\n        var end = this.end;\n        this.center = lngLat.toLngLat(this.center);\n        this.width = Math.abs(end.x - start.x);\n        this.height = Math.abs(end.y - start.y);\n        this.crs = crs$1.getCRS(this.projection);\n    };\n    Geo.prototype.getZoom = function () {\n        return this.zoom;\n    };\n    Geo.prototype.setZoom = function (zoom) {\n        this.zoom = zoom;\n    };\n    Geo.prototype.setCenter = function (center) {\n        this.center = lngLat.toLngLat(center);\n    };\n    Geo.prototype.getCenter = function () {\n        return this.center;\n    };\n    /**\n     * 经纬度坐标转画布坐标 统一和其他坐标系传入方式 coordControls使用\n     * @param point\n     */\n    Geo.prototype.convertPoint = function (point) {\n        var lngLat$1 = [point.x, point.y];\n        var ll = this.project(lngLat.toLngLat(lngLat$1), this.zoom).round();\n        var origin = this.getPixelOrigin();\n        var resPoint = ll.subtract(origin);\n        return { x: resPoint.x, y: resPoint.y };\n    };\n    /**\n     * 画布坐标转经纬坐标 统一和其他坐标系传入方式\n     * @param point\n     */\n    Geo.prototype.invertPoint = function (point$1) {\n        var newPoint = point.toPoint(point$1);\n        var origin = this.getPixelOrigin();\n        var px = newPoint.add(origin);\n        var lnglat = this.unproject(px, this.zoom);\n        return { x: lnglat.lng, y: lnglat.lat };\n    };\n    /**\n    * 画布坐标转经纬坐标 同convertPoint 对用户使用\n    * @param point\n    */\n    Geo.prototype.layerPointToLatLng = function (point) {\n        var origin = this.getPixelOrigin();\n        var ll = point.add(origin);\n        return this.unproject(ll, this.zoom);\n    };\n    /**\n    * 经纬度坐标转画布坐标 同 invertPoint 对用户使用\n    * @param lngLat\n    */\n    Geo.prototype.latLngToLayerPoint = function (lngLat$1) {\n        var ll = this.project(lngLat.toLngLat(lngLat$1), this.zoom).round();\n        var origin = this.getPixelOrigin();\n        return ll.subtract(origin);\n    };\n    // 计算地图中心点像素坐标\n    Geo.prototype.getPixelOrigin = function () {\n        var halfWidth = this.width / 2;\n        var halfHeight = this.height / 2;\n        return this.crs\n            .lngLatToPoint(lngLat.toLngLat(this.center), this.zoom)\n            .subtract({ y: halfHeight, x: halfWidth });\n    };\n    /**\n     * 经纬度坐标转地图像素坐标\n     * @param lnglat\n     * @param zoom\n     */\n    Geo.prototype.project = function (lnglat, zoom) {\n        var newZoom = zoom === undefined ? this.zoom : zoom;\n        return this.crs.lngLatToPoint(lngLat.toLngLat(lnglat), newZoom);\n    };\n    /**\n     * 地图像素坐标转经纬度\n     * @param point\n     * @param zoom\n     */\n    Geo.prototype.unproject = function (point$1, zoom) {\n        var newZoom = zoom === undefined ? this.zoom : zoom;\n        return this.crs.pointToLngLat(point.toPoint(point$1), newZoom);\n    };\n    Geo.prototype.distance = function (lnglat1, lnglat2) {\n        return this.crs.distance(lngLat.toLngLat(lnglat1), lngLat.toLngLat(lnglat2));\n    };\n    return Geo;\n}(base[\"default\"]));\nexports[\"default\"] = Geo;\n\n});\n\nactor.unwrapExports(geo);\n\nvar lib = actor.createCommonjsModule(function (module, exports) {\nexports.__esModule = true;\n\nexports.GeoCoordinates = geo;\n\nexports.Bounds = bounds.Bounds;\nexports.toBounds = bounds.toBounds;\n\nexports.LngLat = lngLat.LngLat;\nexports.toLngLat = lngLat.toLngLat;\n\nexports.LngLatBounds = lngLatBounds.LngLatBounds;\nexports.toLngLatBounds = lngLatBounds.toLngLatBounds;\n\nexports.Point = point.Point;\nexports.toPoint = point.toPoint;\n\n});\n\nactor.unwrapExports(lib);\nvar lib_1 = lib.GeoCoordinates;\nvar lib_2 = lib.Bounds;\nvar lib_3 = lib.toBounds;\nvar lib_4 = lib.LngLat;\nvar lib_5 = lib.toLngLat;\nvar lib_6 = lib.LngLatBounds;\nvar lib_7 = lib.toLngLatBounds;\nvar lib_8 = lib.Point;\nvar lib_9 = lib.toPoint;\n\nvar pointShape$2 = actor.Global.pointShape;\nvar TileLayer = /*@__PURE__*/(function (Layer) {\n  function TileLayer(scene, cfg) {\n    Layer.call(this, scene, Object.assign({}, cfg,\n      {minSourceZoom: 0,\n      maxSOurceZoom: 18,\n      keepBuffer: 2}));\n    this._tileCache = new TileCache(50, this._destroyTile);\n    this._crs = crsEpsg3857_1;\n    this._tiles = new actor.Object3D();\n    this._tiles.frustumCulled = false;\n    this._tileKeys = [];\n    this.tileList = {};\n    this.type = this.get('layerType');\n    this.workerPool = this.scene.workerPool;\n  }\n\n  if ( Layer ) TileLayer.__proto__ = Layer;\n  TileLayer.prototype = Object.create( Layer && Layer.prototype );\n  TileLayer.prototype.constructor = TileLayer;\n  TileLayer.prototype.shape = function shape (field, values) {\n    var layerType = this.get('layerType');\n    if (layerType === 'point') {\n      return Layer.prototype.shape.call(this, field, values);\n    }\n    this.shape = field;\n    return this;\n  };\n  TileLayer.prototype.source = function source (data, cfg) {\n    if ( cfg === void 0 ) cfg = {};\n\n    if (data instanceof TileSource) {\n      data.set('mapType', this.scene.mapType);\n      this.tileSource = data;\n    } else {\n      cfg.mapType = this.scene.mapType;\n      this.tileSource = new TileSource(data, cfg);\n      this.sourceCfg = Object.assign({}, cfg,\n        {url: data});\n\n    }\n    return this;\n  };\n  TileLayer.prototype._initControllers = function _initControllers () {\n    var pickCtr = new Controller.Picking({ layer: this });\n    var interactionCtr = new Controller.Interaction({ layer: this });\n    this.set('pickingController', pickCtr);\n    this.set('interacionController', interactionCtr);\n  };\n  TileLayer.prototype.render = function render () {\n    this._visibleWithZoom();\n    this._updateDraw();\n    this.scene._engine.update();\n    return this;\n  };\n  TileLayer.prototype.draw = function draw () {\n    this._object3D.add(this._tiles);\n    this._calculateLOD();\n  };\n  TileLayer.prototype.drawTile = function drawTile () {\n\n  };\n\n  TileLayer.prototype.zoomchange = function zoomchange (ev) {\n    var this$1 = this;\n\n    Layer.prototype.zoomchange.call(this, ev);\n    this._visibleWithZoom();\n    requestAnimationFrame(function () {\n      this$1._calculateLOD();\n    });\n    this._calculateLOD();\n  };\n\n  TileLayer.prototype.dragend = function dragend (ev) {\n    var this$1 = this;\n\n    Layer.prototype.dragend.call(this, ev);\n    requestAnimationFrame(function () {\n      this$1._calculateLOD();\n    });\n\n  };\n\n  TileLayer.prototype._calculateLOD = function _calculateLOD () {\n    var this$1 = this;\n\n    /**\n     * 加载完成 active\n     * 需要显示 current\n     * 是否保留 retain\n     */\n    var zoom = Math.floor(this.scene.getZoom()) - 1;\n    var minZoom = this.get('minZoom');\n    var maxZoom = this.get('maxZoom');\n    var minSourceZoom = this.tileSource.get('minSourceZoom');\n    var maxSourceZoom = this.tileSource.get('maxSourceZoom');\n    var currentZoom = this.scene.getZoom();\n    this.tileZoom = zoom > maxSourceZoom ? maxSourceZoom : zoom;\n    if (currentZoom < minZoom || currentZoom >= maxZoom || currentZoom < minSourceZoom) {\n      this._removeTiles();\n      this._object3D.visible = false;\n      return;\n    } else if (this.get('visible')) {\n      this._object3D.visible = true;\n    }\n    this.show();\n    this.updateTileList = [];\n    var center = this.scene.getCenter();\n    var centerPoint = this._crs.lngLatToPoint(lib_5(center.lng, center.lat), this.tileZoom);\n    var centerXY = centerPoint.divideBy(256).floor();\n    var pixelBounds = this._getPixelBounds();\n    var tileRange = this._pxBoundsToTileRange(pixelBounds);\n    var margin = this.get('keepBuffer');\n    this.noPruneRange = new lib_2(tileRange.getBottomLeft().subtract([ margin, -margin ]),\n      tileRange.getTopRight().add([ margin, -margin ]));\n    if (!(isFinite(tileRange.min.x) &&\n    isFinite(tileRange.min.y) &&\n    isFinite(tileRange.max.x) &&\n    isFinite(tileRange.max.y))) { throw new Error('Attempted to load an infinite number of tiles'); }\n    for (var j = tileRange.min.y; j <= tileRange.max.y; j++) {\n      for (var i = tileRange.min.x; i <= tileRange.max.x; i++) {\n        var coords = [ i, j, this.tileZoom ];\n        var tile = this.tileList[coords.join('_')];\n        if (tile) {\n          tile.current = true;\n        } else {\n          this.tileList[coords.join('_')] = {\n            current: true,\n            coords: coords\n          };\n          this.updateTileList.push(coords);\n        }\n      }\n    }\n    this.updateTileList.sort(function (a, b) {\n      var tile1 = a;\n      var tile2 = b;\n      var d1 = Math.pow((tile1[0] * 1 - centerXY.x), 2) + Math.pow((tile1[1] * 1 - centerXY.y), 2);\n      var d2 = Math.pow((tile2[0] * 1 - centerXY.x), 2) + Math.pow((tile2[1] * 1 - centerXY.y), 2);\n      return d1 - d2;\n    });\n    this._pruneTiles();\n    // 更新瓦片数据\n    this.updateTileList.forEach(function (coords) {\n      var key = coords.join('_');\n      if (this$1.tileList[key].current) {\n        this$1._requestTile(key, this$1);\n      }\n    });\n  };\n  TileLayer.prototype._getShape = function _getShape (layerData) {\n    var shape = null;\n    if (!layerData[0].hasOwnProperty('shape')) {\n      return 'normal';\n    }\n    for (var i = 0; i < layerData.length; i++) {\n      shape = layerData[i].shape;\n      if (shape !== undefined) {\n        break;\n      }\n    }\n    if (pointShape$2['2d'].indexOf(shape) !== -1) {\n      return 'circle';\n    } else if (pointShape$2['3d'].indexOf(shape) !== -1) {\n      return 'fill';\n    } else if (this.scene.image.imagesIds.indexOf(shape) !== -1) {\n      return 'image';\n    }\n    return 'text';\n  };\n  TileLayer.prototype._updateTileList = function _updateTileList (x, y, z) {\n    var key = [ x, y, z ].join('_');\n    var tile = this.tileList[key];\n    if (tile) {\n      tile.current = true;\n    } else {\n      this.tileList[key] = {\n        current: true,\n        active: false,\n        coords: key.split('_')\n      };\n      this.updateTileList.push(key);\n    }\n  };\n  TileLayer.prototype._requestTile = function _requestTile (key, layer) {\n    var this$1 = this;\n\n    var t = this.tileList[key];\n    if (!t) {\n      return;\n    }\n    var tile = this._tileCache.getTile(key);\n    if (!tile) {\n      tile = this._createTile(key, layer);\n      tile.on('tileLoaded', function () {\n        t.active = true;\n        var mesh = tile.getMesh();\n        mesh.name = key;\n        this$1._tileCache.setTile(tile, key);\n        this$1._tileKeys.push(key);\n        if (mesh.type === 'composer') {\n          this$1.scene._engine.composerLayers.push(mesh);\n          this$1.scene._engine.update();\n          this$1._pruneTiles();\n          return;\n        }\n        if (mesh.children.length !== 0) {\n          this$1._tiles.add(tile.getMesh());\n          this$1._addPickTile(tile.getMesh());\n        }\n        this$1.scene._engine.update();\n        this$1._pruneTiles();\n      });\n    } else {\n      if (tile.getMesh().type === 'composer') {\n        this.scene._engine.composerLayers.push(tile.getMesh());\n        this.scene._engine.update();\n        this._pruneTiles();\n        return;\n      }\n      if (tile.needUpdate) {\n        tile.updateColor();\n        tile.needUpdate = false;\n      }\n      this._tiles.add(tile.getMesh());\n      t.active = true;\n      this._addPickTile(tile.getMesh());\n      this._tileKeys.push(key);\n      this.scene._engine.update();\n      this._pruneTiles();\n    }\n  };\n  TileLayer.prototype._addPickTile = function _addPickTile (meshobj) {\n    if (this.type === 'image') {\n      return;\n    }\n    var pickCtr = this.get('pickingController');\n    var mesh = meshobj.children[0];\n    mesh.name = meshobj.name;\n    pickCtr.addPickMesh(mesh);\n  };\n  // 根据距离优先级查找\n  TileLayer.prototype.getSelectFeature = function getSelectFeature (id, lnglat) {\n    var zoom = this.tileZoom;\n\n    var tilePoint = this._crs.lngLatToPoint(lib_5(lnglat.lng, lnglat.lat), zoom);\n    var tileXY = tilePoint.divideBy(256).floor();\n    var key = [ tileXY.x, tileXY.y, zoom ].join('_');\n    var tile = this._tileCache.getTile(key);\n    var feature = tile ? tile.getSelectFeature(id) : null;\n    return { feature: feature };\n  };\n  TileLayer.prototype._pruneTiles = function _pruneTiles () {\n    var tile;\n    var zoom = this.tileZoom;\n    for (var key in this.tileList) {\n      var c = this.tileList[key].coords;\n      if (c[2] !== zoom || !this.noPruneRange.contains(new lib_8(c[0], c[1]))) {\n        this.tileList[key].current = false;\n      }\n    }\n\n    for (var key$1 in this.tileList) {\n      tile = this.tileList[key$1];\n      tile.retain = tile.current;\n    }\n    for (var key$2 in this.tileList) {\n      tile = this.tileList[key$2];\n      if (tile.current && !tile.active) {\n        var ref = key$2.split('_').map(function (v) { return v * 1; });\n        var x = ref[0];\n        var y = ref[1];\n        var z = ref[2];\n        if (!this._retainParent(x, y, z, z - 5)) {\n          this._retainChildren(x, y, z, z + 2);\n        }\n      }\n\n    }\n    this._removeOutTiles();\n  };\n  TileLayer.prototype._retainParent = function _retainParent (x, y, z, minZoom) {\n    var x2 = Math.floor(x / 2);\n    var y2 = Math.floor(y / 2);\n    var z2 = z - 1;\n    var tile = this.tileList[[ x2, y2, z2 ].join('_')];\n    if (tile && tile.active) {\n      tile.retain = true;\n      return true;\n    } else if (tile && tile.loaded) {\n      tile.retain = true;\n    }\n    if (z2 > minZoom) {\n      return this._retainParent(x2, y2, z2, minZoom);\n    }\n\n    return false;\n\n  };\n  TileLayer.prototype._retainChildren = function _retainChildren (x, y, z, maxZoom) {\n    for (var i = 2 * x; i < 2 * x + 2; i++) {\n      for (var j = 2 * y; j < 2 * y + 2; j++) {\n        var key = [ i, j, z + 1 ].join('_');\n        var tile = this.tileList[key];\n        if (tile && tile.active) {\n          tile.retain = true;\n          continue;\n        } else if (tile && tile.loaded) {\n          tile.retain = true;\n        }\n\n        if (z + 1 < maxZoom) {\n          this._retainChildren(i, j, z + 1, maxZoom);\n        }\n      }\n    }\n  };\n  // 移除视野外的tile\n  TileLayer.prototype._removeOutTiles = function _removeOutTiles () {\n    var this$1 = this;\n\n    for (var key in this.tileList) {\n      if (!this.tileList[key].retain) {\n        var tileObj = this._tileCache.getTile(key);\n        if (tileObj) {\n          tileObj._abortRequest();\n          var pickCtr = this.get('pickingController');\n          pickCtr && pickCtr.removePickMeshByName(tileObj.getMesh().name);\n          this._tiles.remove(tileObj.getMesh());\n        }\n        if (tileObj && tileObj.getMesh().type === 'composer') {\n          this.scene._engine.composerLayers = this.scene._engine.composerLayers.filter(function (obj) {\n            return obj.name !== tileObj.getMesh().name;\n          });\n        }\n        delete this.tileList[key];\n      }\n    }\n    if (this._tiles.children.length > Object.keys(this.tileList).length) {\n      this._tiles.children.forEach(function (tile) {\n        var key = tile.name;\n        if (!this$1.tileList[key]) {\n          this$1._tiles.remove(tile);\n        }\n      });\n    } // 移除 空的geom\n\n    this.scene._engine.update();\n  };\n\n\n  TileLayer.prototype._removeTiles = function _removeTiles () {\n    this.hide();\n    if (!this._tiles || !this._tiles.children) {\n      return;\n    }\n\n    for (var i = this._tiles.children.length - 1; i >= 0; i--) {\n      this._tiles.remove(this._tiles.children[i]);\n    }\n    this.tileList = [];\n    this._tileKeys = [];\n    this._tileCache.destory();\n    var pickCtr = this.get('pickingController');\n    pickCtr.removeAllMesh();\n  };\n  TileLayer.prototype._getPixelBounds = function _getPixelBounds () {\n    var viewPort = this.scene.getBounds().toBounds();\n    var NE = viewPort.getNorthEast();\n    var SW = viewPort.getSouthWest();\n    var zoom = this.tileZoom;\n    var center = this.scene.getCenter();\n    var NEPoint = this._crs.lngLatToPoint(lib_5(NE.lng, NE.lat), zoom);\n    var SWPoint = this._crs.lngLatToPoint(lib_5(SW.lng, SW.lat), zoom);\n    var centerPoint = this._crs.lngLatToPoint(lib_5(center.lng, center.lat), zoom);\n    var topHeight = centerPoint.y - NEPoint.y;\n    var bottomHeight = SWPoint.y - centerPoint.y;\n    // 跨日界线的情况\n    var leftWidth;\n    var rightWidth;\n    if (center.lng - NE.lng > 0 || center.lng - SW.lng < 0) {\n      var width = Math.pow(2, zoom) * 256 / 360 * (180 - NE.lng) + Math.pow(2, zoom) * 256 / 360 * (SW.lng + 180);\n      if (center.lng - NE.lng > 0) { // 日界线在右侧\n        leftWidth = Math.pow(2, zoom) * 256 / 360 * (center.lng - NE.lng);\n        rightWidth = width - leftWidth;\n      } else {\n        rightWidth = Math.pow(2, zoom) * 256 / 360 * (SW.lng - center.lng);\n        leftWidth = width - rightWidth;\n      }\n    } else { // 不跨日界线\n      leftWidth = Math.pow(2, zoom) * 256 / 360 * (center.lng - SW.lng);\n      rightWidth = Math.pow(2, zoom) * 256 / 360 * (NE.lng - center.lng);\n    }\n    var pixelBounds = new lib_2(centerPoint.subtract(leftWidth, topHeight), centerPoint.add(rightWidth, bottomHeight));\n    return pixelBounds;\n  };\n  TileLayer.prototype._pxBoundsToTileRange = function _pxBoundsToTileRange (pixelBounds) {\n    return new lib_2(\n      pixelBounds.min.divideBy(256).floor(),\n      pixelBounds.max.divideBy(256).ceil().subtract([ 1, 1 ])\n    );\n  };\n  TileLayer.prototype._wrapCoords = function _wrapCoords (coords) {\n    var wrapX = [ 0, Math.pow(2, coords[2]) ];\n    var newX = util_3(coords[0], wrapX);\n    return [ newX, coords[1], coords[2] ];\n  };\n  TileLayer.prototype._destroyTile = function _destroyTile (tile) {\n    tile.destroy();\n    tile = null;\n  };\n  TileLayer.prototype._updateDraw = function _updateDraw () {\n    var this$1 = this;\n\n    var preAttrs = this.get('preAttrOptions');\n    var nextAttrs = this.get('attrOptions');\n    var preStyle = this.get('preStyleOption');\n    var nextStyle = this.get('styleOptions');\n    if (preAttrs === undefined && preStyle === undefined) { // 首次渲染\n      // this._setPreOption();\n      this._scaleByZoom();\n      this._initControllers();\n      this._initInteraction();\n      this._initMapEvent();\n      this.draw();\n      this._setPreOption();\n      return;\n    }\n    if (!this._tiles.children.length > 0 || !this._object3D.visible) {\n      return;\n    }\n    // 更新数据颜色 过滤 filter\n    if (!actor.Util.isEqual(preAttrs.color, nextAttrs.color) || !actor.Util.isEqual(preAttrs.filter, nextAttrs.filter)) {\n      this._tileCache.setNeedUpdate();\n      this._tiles.children.forEach(function (tile) {\n        var tileObj = this$1._tileCache.getTile(tile.name);\n        tileObj.updateColor();\n        tileObj.needUpdate = false;\n        this$1.scene._engine.update();\n      });\n    }\n    // 更新Size\n    if (!actor.Util.isEqual(preAttrs.size, nextAttrs.size)) ;\n    // 更新形状\n    if (!actor.Util.isEqual(preAttrs.shape, nextAttrs.shape)) ;\n    if (!actor.Util.isEqual(preStyle, nextStyle)) {\n      // 判断新增，修改，删除\n      var newStyle = {};\n      actor.Util.each(diff(preStyle, nextStyle), function (ref) {\n        var type = ref.type;\n        var key = ref.key;\n        var value = ref.value;\n\n        (type !== 'remove') && (newStyle[key] = value);\n        // newStyle[key] = type === 'remove' ? null : value;\n      });\n      this._tiles.children(function (tile) {\n        this$1._tileCache.get(tile.name).updateStyle();\n      });\n    }\n    this._setPreOption();\n  };\n  TileLayer.prototype.destroy = function destroy () {\n  };\n\n  return TileLayer;\n}(Layer));\n\nvar r2d = 180 / Math.PI;\nvar tileURLRegex$1 = /\\{([zxy])\\}/g;\nvar Tile = /*@__PURE__*/(function (Base) {\n  function Tile(key, url, layer) {\n    var this$1 = this;\n\n    Base.call(this, {\n      scales: {},\n      attrs: {}\n    });\n    this.layer = layer;\n    this._tile = key.split('_').map(function (v) { return v * 1; });\n    this._path = url;\n    this._tileLnglatBounds = this._tileLnglatBounds(this._tile);\n\n    this._tileBounds = this._tileBounds(this._tileLnglatBounds);\n\n    this._center = this._tileBounds.getCenter();\n\n    this._centerLnglat = this._tileLnglatBounds.getCenter();\n    this._object3D = new actor.Object3D({ name: key });\n    this._object3D.frustumCulled = false;\n    // this._object3D.name = key;\n    this._object3D.onBeforeRender = function () {\n    };\n    this._isLoaded = false;\n    this.requestTileAsync(function (data) { return this$1._init(data); });\n  }\n\n  if ( Base ) Tile.__proto__ = Base;\n  Tile.prototype = Object.create( Base && Base.prototype );\n  Tile.prototype.constructor = Tile;\n  Tile.prototype._init = function _init (data) {\n    // this._creatSource(data); // 获取Source\n    this.layerSource = data;\n\n    if (this.layerSource.data === null) {\n      this.isValid = false;\n      return;\n    }\n    this.isValid = true;\n    this._initControllers();\n    this._createMesh();\n  };\n  Tile.prototype.repaint = function repaint () {\n    this._initControllers();\n    this._createMesh();\n  };\n  Tile.prototype.requestTileAsync = function requestTileAsync (done) {\n    var data = this.layer.tileSource.getTileData(this._tile[0], this._tile[1], this._tile[2]);\n    if (data.loaded) {\n      done(data.data);\n    } else {\n      data.data.then(function (data) {\n        done(data);\n      });\n    }\n  };\n  Tile.prototype._initControllers = function _initControllers () {\n    var mappingCtr = new Controller.Mapping({\n      layer: this.layer,\n      mesh: this\n    });\n    var bufferCtr = new Controller.Buffer({\n      layer: this.layer,\n      mesh: this\n    });\n    this.set('mappingController', mappingCtr);\n    this.set('bufferController', bufferCtr);\n\n  };\n  Tile.prototype._createMesh = function _createMesh () {};\n  Tile.prototype._getTileURL = function _getTileURL (urlParams) {\n    if (!urlParams.s) {\n      // Default to a random choice of a, b or c\n      urlParams.s = String.fromCharCode(97 + Math.floor(Math.random() * 3));\n    }\n\n    tileURLRegex$1.lastIndex = 0;\n    return this._path.replace(tileURLRegex$1, function(value, key) {\n      return urlParams[key];\n    });\n  };\n  // 经纬度范围转瓦片范围\n  Tile.prototype._tileBounds = function _tileBounds (lnglatBound) {\n    var ne = this.layer.scene.project([ lnglatBound.getNorthEast().lng, lnglatBound.getNorthEast().lat ]);\n    var sw = this.layer.scene.project([ lnglatBound.getSouthWest().lng, lnglatBound.getSouthWest().lat ]);\n    return lib_3(sw, ne);\n  };\n  Tile.prototype.getMesh = function getMesh () {\n    return this._object3D;\n  };\n\n\n  // Get tile bounds in WGS84 coordinates\n  Tile.prototype._tileLnglatBounds = function _tileLnglatBounds (tile) {\n    var e = this._tile2lng(tile[0] + 1, tile[2]);\n    var w = this._tile2lng(tile[0], tile[2]);\n    var s = this._tile2lat(tile[1] + 1, tile[2]);\n    var n = this._tile2lat(tile[1], tile[2]);\n    return lib_7([ w, n ], [ e, s ]);\n  };\n\n  Tile.prototype._tile2lng = function _tile2lng (x, z) {\n    return x / Math.pow(2, z) * 360 - 180;\n  };\n\n  Tile.prototype._tile2lat = function _tile2lat (y, z) {\n    var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n    return r2d * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n  };\n  Tile.prototype._retainParent = function _retainParent (x, y, z, minZoom) {\n    if ( minZoom === void 0 ) minZoom = 5;\n\n    var x2 = Math.floor(x / 2),\n      y2 = Math.floor(y / 2),\n      z2 = z - 1,\n      coords2 = [ +x2, +y2, +z2 ];\n    var tile = this._tiles[coords2]; // 计算保留\n    if (tile && tile.active) {\n      tile.retain = true;\n      return true;\n\n    } else if (tile && tile.loaded) {\n      tile.retain = true;\n    }\n\n    if (z2 > minZoom) {\n      return this._retainParent(x2, y2, z2, minZoom);\n    }\n\n    return false;\n  };\n  Tile.prototype.updateColor = function updateColor () {\n    var bufferCtr = this.get('bufferController');\n    this.get('mappingController').update();\n    bufferCtr._updateColorAttributes(this.getMesh().children[0]);\n  };\n  Tile.prototype.updateStyle = function updateStyle () {\n    var bufferCtr = this.get('bufferController');\n    bufferCtr._updateStyle(this.getMesh().children[0]);\n  };\n  Tile.prototype._preRender = function _preRender () {\n  };\n  Tile.prototype.destroy = function destroy () {\n    Base.prototype.destroy.call(this);\n    destoryObject(this._object3D);\n  };\n\n  return Tile;\n}(actor.Base));\n\nvar ImageTile = /*@__PURE__*/(function (Tile) {\n  function ImageTile () {\n    Tile.apply(this, arguments);\n  }\n\n  if ( Tile ) ImageTile.__proto__ = Tile;\n  ImageTile.prototype = Object.create( Tile && Tile.prototype );\n  ImageTile.prototype.constructor = ImageTile;\n\n  ImageTile.prototype.requestTileAsync = function requestTileAsync () {\n    var this$1 = this;\n\n    // Making this asynchronous really speeds up the LOD framerate\n    setTimeout(function () {\n      if (!this$1._mesh) {\n        // this._mesh = this._createMesh();\n        this$1._requestTile();\n      }\n    }, 0);\n  };\n  ImageTile.prototype._requestTile = function _requestTile () {\n    var image = this._createDebugMesh();\n    this._createMesh(image);\n    this.emit('tileLoaded');\n    // const urlParams = {\n    //   x: this._tile[0],\n    //   y: this._tile[1],\n    //   z: this._tile[2]\n    // };\n\n    // const url = this._getTileURL(urlParams);\n    // const image = document.createElement('img');\n\n    // image.addEventListener('load', () => {\n    //   this._isLoaded = true;\n    //   this._createMesh(image);\n    //   this.emit('tileLoaded');\n    //   this._ready = true;\n    // }, false);\n\n    // image.crossOrigin = '';\n\n    // // Load image\n    // image.src = url;\n\n    // this._image = image;\n  };\n  ImageTile.prototype._getBufferData = function _getBufferData (images) {\n    var NW = this._tileBounds.getTopLeft();\n    var SE = this._tileBounds.getBottomRight();\n    var coordinates = [[ NW.x, NW.y, 0 ], [ SE.x, SE.y, 0 ]];\n    return [{\n      coordinates: coordinates,\n      images: images\n    }];\n  };\n  ImageTile.prototype._createMesh = function _createMesh (image) {\n    if (!this._center) {\n      return;\n    }\n    this._layerData = this._getBufferData(image);\n    var buffer = new ImageBuffer$1({\n      layerData: this._layerData\n    });\n    buffer.attributes.texture = buffer.texture;\n    var style = this.layer.get('styleOptions');\n    var mesh = DrawImage$1(buffer.attributes, style);\n    this._object3D.add(mesh);\n    return this._object3D;\n  };\n  ImageTile.prototype._createDebugMesh = function _createDebugMesh () {\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    canvas.width = 256;\n    canvas.height = 256;\n    context.font = 'Bold 20px Helvetica Neue, Verdana, Arial';\n    context.fillStyle = '#ff0000';\n    context.fillText(this._tile.join('/'), 20, 20);\n    context.strokeStyle = 'red';\n    context.rect(0, 0, 256, 256);\n    context.stroke();\n    return canvas;\n  };\n  ImageTile.prototype._abortRequest = function _abortRequest () {\n    if (!this._image) {\n      return;\n    }\n\n    this._image.src = '';\n  };\n  ImageTile.prototype.updateColor = function updateColor () {\n\n  };\n  ImageTile.prototype.getSelectFeature = function getSelectFeature () {\n    return {};\n  };\n  ImageTile.prototype.destroy = function destroy () {\n    // Cancel any pending requests\n    this._abortRequest();\n\n    // Clear image reference\n    this._image = null;\n\n    Tile.prototype.destroy.call(this);\n  };\n\n  return ImageTile;\n}(Tile));\n\nvar ImageTileLayer = /*@__PURE__*/(function (TileLayer) {\n  function ImageTileLayer(scene, cfg) {\n    TileLayer.call(this, scene, cfg);\n    this.type = 'image';\n  }\n\n  if ( TileLayer ) ImageTileLayer.__proto__ = TileLayer;\n  ImageTileLayer.prototype = Object.create( TileLayer && TileLayer.prototype );\n  ImageTileLayer.prototype.constructor = ImageTileLayer;\n  ImageTileLayer.prototype._createTile = function _createTile (key, layer) {\n    return new ImageTile(key, this.url, layer);\n  };\n\n  return ImageTileLayer;\n}(TileLayer));\n\nvar MaskMaterial = /*@__PURE__*/(function (Material) {\n  function MaskMaterial(_uniforms, _defines, parameters) {\n    Material.call(this, parameters);\n    var ref = this.getDefaultParameters();\n    var uniforms = ref.uniforms;\n    var defines = ref.defines;\n    var ref$1 = getModule('mask_quard');\n    var vs = ref$1.vs;\n    var fs = ref$1.fs;\n    this.uniforms = Object.assign(uniforms, this.setUniform(_uniforms));\n    this.type = 'MaskMaterial';\n    this.defines = Object.assign(defines, _defines);\n    this.vertexShader = vs;\n    this.fragmentShader = fs;\n    this.transparent = true;\n  }\n\n  if ( Material ) MaskMaterial.__proto__ = Material;\n  MaskMaterial.prototype = Object.create( Material && Material.prototype );\n  MaskMaterial.prototype.constructor = MaskMaterial;\n\n  MaskMaterial.prototype.getDefaultParameters = function getDefaultParameters () {\n    return {\n      uniforms: {\n      },\n      defines: {\n\n      }\n    };\n  };\n\n  return MaskMaterial;\n}(Material));\n\nvar VectorTile = /*@__PURE__*/(function (Tile) {\n  function VectorTile () {\n    Tile.apply(this, arguments);\n  }\n\n  if ( Tile ) VectorTile.__proto__ = Tile;\n  VectorTile.prototype = Object.create( Tile && Tile.prototype );\n  VectorTile.prototype.constructor = VectorTile;\n\n  VectorTile.prototype._createMesh = function _createMesh () {\n    var this$1 = this;\n\n    var layerData = this.layerData;\n    if (this.layer.get('layerType') === 'point') {\n      this.layer.shape = this.layer._getShape(layerData);\n    }\n    this.mesh = getRender(this.layer.get('layerType'), this.layer.shape)(layerData, this.layer);\n    if (this.mesh.type !== 'composer') { // 热力图的情况\n      this.mesh.onBeforeRender = function (renderer) {\n        this$1._renderMask(renderer);\n      };\n      this.mesh.onAfterRender = function (renderer) {\n        var context = renderer.context;\n        context.clear(context.STENCIL_BUFFER_BIT);\n        context.disable(context.STENCIL_TEST);\n      };\n      this._object3D.add(this.mesh);\n    } else { // 如果是热力图\n      this._object3D = this.mesh;\n    }\n    setTimeout(function () {\n      this$1.emit('tileLoaded');\n    }, 0);\n    return this._object3D;\n  };\n  VectorTile.prototype._renderMask = function _renderMask (renderer) {\n    var zoom = this.layer.scene.getZoom();\n    updateObjecteUniform(this.mesh, {\n      u_time: this.layer.scene._engine.clock.getElapsedTime(),\n      u_zoom: zoom\n    });\n    if (this.layer.get('layerType') === 'point') { // 点图层目前不需要mask\n      return;\n    }\n    var maskScene = new actor.Scene();\n    this.maskScene = maskScene;\n    var tileMesh = this._tileMaskMesh();\n    maskScene.add(tileMesh);\n    var context = renderer.context;\n    renderer.autoClear = false;\n    renderer.clearDepth();\n    context.enable(context.STENCIL_TEST);\n    context.stencilOp(context.REPLACE, context.REPLACE, context.REPLACE);\n    context.stencilFunc(context.ALWAYS, 1, 0xffffffff);\n    context.clearStencil(0);\n    context.clear(context.STENCIL_BUFFER_BIT);\n    context.colorMask(false, false, false, false);\n\n    // config the stencil buffer to collect data for testing\n    this.layer.scene._engine.renderScene(maskScene);\n    context.colorMask(true, true, true, true);\n    context.depthMask(false);\n    renderer.clearDepth();\n\n    // only render where stencil is set to 1\n\n    context.stencilFunc(context.EQUAL, 1, 0xffffffff); // draw if == 1\n    context.stencilOp(context.KEEP, context.KEEP, context.KEEP);\n  };\n  VectorTile.prototype._tileMaskMesh = function _tileMaskMesh () {\n    var tilebound = this._tileBounds;\n    var bl = [ tilebound.getBottomLeft().x, tilebound.getBottomLeft().y, 0 ];\n    var br = [ tilebound.getBottomRight().x, tilebound.getBottomRight().y, 0 ];\n    var tl = [ tilebound.getTopLeft().x, tilebound.getTopLeft().y, 0 ];\n    var tr = [ tilebound.getTopRight().x, tilebound.getTopRight().y, 0 ];\n    var positions = bl.concat( tr, br, bl, tl, tr );\n    var geometry = new actor.BufferGeometry();\n    geometry.addAttribute('position', new actor.Float32BufferAttribute(positions, 3));\n    var maskMaterial = new MaskMaterial();\n    var maskMesh = new actor.Mesh(geometry, maskMaterial);\n    return maskMesh;\n  };\n  VectorTile.prototype._abortRequest = function _abortRequest () {\n    if (!this.xhrRequest) {\n      return;\n    }\n\n    this.xhrRequest.abort();\n  };\n  VectorTile.prototype.getSelectFeature = function getSelectFeature (id) {\n    var featurekey = this.layerSource.originData.featureKeys[id];\n    if (featurekey && featurekey.index !== undefined) {\n      var featureIndex = featurekey.index;\n      return this.layerSource.originData.dataArray[featureIndex];\n    }\n    return null;\n  };\n  VectorTile.prototype.destroy = function destroy () {\n    Tile.prototype.destroy.call(this);\n    destoryObject(this.maskScene);\n    this._object3D = null;\n    this.maskScene = null;\n    this.layerData = null;\n  };\n\n  return VectorTile;\n}(Tile));\n\nvar VectorTileLayer = /*@__PURE__*/(function (TileLayer) {\n  function VectorTileLayer () {\n    TileLayer.apply(this, arguments);\n  }\n\n  if ( TileLayer ) VectorTileLayer.__proto__ = TileLayer;\n  VectorTileLayer.prototype = Object.create( TileLayer && TileLayer.prototype );\n  VectorTileLayer.prototype.constructor = VectorTileLayer;\n\n  VectorTileLayer.prototype._createTile = function _createTile (key, layer) {\n    return new VectorTile(key, this.url, layer);\n  };\n\n  return VectorTileLayer;\n}(TileLayer));\n\nvar TextLayer = /*@__PURE__*/(function (Layer) {\n  function TextLayer () {\n    Layer.apply(this, arguments);\n  }\n\n  if ( Layer ) TextLayer.__proto__ = Layer;\n  TextLayer.prototype = Object.create( Layer && Layer.prototype );\n  TextLayer.prototype.constructor = TextLayer;\n\n  TextLayer.prototype.shape = function shape (field, values) {\n    Layer.prototype.shape.call(this, field, values);\n    this.shape = 'text';\n    return this;\n  };\n  TextLayer.prototype.draw = function draw () {\n    this.type = 'text';\n    this.add(getRender(this.type, this.shape)(this.layerData, this));\n  };\n\n  return TextLayer;\n}(Layer));\n\nregisterLayer('PolygonLayer', PolygonLayer);\nregisterLayer('PointLayer', PointLayer);\nregisterLayer('LineLayer', LineLayer);\nregisterLayer('ImageLayer', imageLayer);\nregisterLayer('RasterLayer', RasterLayer);\nregisterLayer('HeatmapLayer', HeatMapLayer);\nregisterLayer('TileLayer', TileLayer);\nregisterLayer('ImageTileLayer', ImageTileLayer);\nregisterLayer('VectorTileLayer', VectorTileLayer);\nregisterLayer('TextLayer', TextLayer);\n\n// 将图片标注绘制在512*512的画布上，每个大小 64*64 支持 64种图片\nvar LoadImage = /*@__PURE__*/(function (EventEmitter) {\n  function LoadImage() {\n    EventEmitter.call(this);\n    var pixelRatio = window.devicePixelRatio || 1;\n    this.imageWidth = 64 * pixelRatio;\n    this.canvas = document.createElement('canvas');\n    this.canvas.style.cssText += 'height: 512px;width: 512px;';\n    this.canvas.width = this.imageWidth * 8;\n    this.canvas.height = this.imageWidth * 8;\n    this.ctx = this.canvas.getContext('2d');\n    this.images = [];\n    this.imagesCount = 0;\n    this.imagePos = {};\n    this.imagesIds = [];\n  }\n\n  if ( EventEmitter ) LoadImage.__proto__ = EventEmitter;\n  LoadImage.prototype = Object.create( EventEmitter && EventEmitter.prototype );\n  LoadImage.prototype.constructor = LoadImage;\n  LoadImage.prototype.addImage = function addImage (id, opt) {\n    var this$1 = this;\n\n    this.imagesCount++;\n    this.imagesIds.push(id);\n    var imageCount = this.imagesCount;\n    var x = imageCount % 8 * this.imageWidth;\n    var y = parseInt(imageCount / 8) * this.imageWidth;\n    this.imagePos[id] = { x: x / this.canvas.width, y: y / this.canvas.height };\n    this.texture = new actor.Texture(this.canvas);\n    if (typeof opt === 'string') {\n      actor.getImage({ url: opt }, function (err, img) {\n        img.id = id;\n        this$1.images.push(img);\n        this$1.ctx.drawImage(img, x, y, this$1.imageWidth, this$1.imageWidth);\n        this$1.texture.magFilter = actor.LinearFilter;\n        this$1.texture.minFilter = actor.LinearFilter;\n        this$1.texture.needsUpdate = true;\n        this$1.emit('imageLoaded');\n\n      });\n    } else {\n      var width = opt.width;\n      var height = opt.height;\n      var channels = opt.channels;\n      var data = new Uint8Array(width * height * channels);\n      var image = new Image();\n      image.width = width;\n      image.height = height;\n      image.data = data;\n      image.id = id;\n      this.images.push(image);\n      this.ctx.drawImage(image, x, y, this.imageWidth, this.imageWidth);\n      this.texture = new actor.CanvasTexture(this.canvas);\n      this.imagePos[id] = { x: x >> 9, y: y >> 9 };\n      this.texture.needsUpdate = true;\n      this.emit('imageLoaded');\n    }\n\n  };\n  LoadImage.prototype.removeImage = function removeImage () {\n  // todo\n\n  };\n\n  return LoadImage;\n}(actor.EventEmitter));\n\nvar tinySdf = TinySDF;\nvar default_1 = TinySDF;\n\nvar INF = 1e20;\n\nfunction TinySDF(fontSize, buffer, radius, cutoff, fontFamily, fontWeight) {\n    this.fontSize = fontSize || 24;\n    this.buffer = buffer === undefined ? 3 : buffer;\n    this.cutoff = cutoff || 0.25;\n    this.fontFamily = fontFamily || 'sans-serif';\n    this.fontWeight = fontWeight || 'normal';\n    this.radius = radius || 8;\n    var size = this.size = this.fontSize + this.buffer * 2;\n\n    this.canvas = document.createElement('canvas');\n    this.canvas.width = this.canvas.height = size;\n\n    this.ctx = this.canvas.getContext('2d');\n    this.ctx.font = this.fontWeight + ' ' + this.fontSize + 'px ' + this.fontFamily;\n    this.ctx.textBaseline = 'middle';\n    this.ctx.fillStyle = 'black';\n\n    // temporary arrays for the distance transform\n    this.gridOuter = new Float64Array(size * size);\n    this.gridInner = new Float64Array(size * size);\n    this.f = new Float64Array(size);\n    this.d = new Float64Array(size);\n    this.z = new Float64Array(size + 1);\n    this.v = new Int16Array(size);\n\n    // hack around https://bugzilla.mozilla.org/show_bug.cgi?id=737852\n    this.middle = Math.round((size / 2) * (navigator.userAgent.indexOf('Gecko/') >= 0 ? 1.2 : 1));\n}\n\nTinySDF.prototype.draw = function (char) {\n    this.ctx.clearRect(0, 0, this.size, this.size);\n    this.ctx.fillText(char, this.buffer, this.middle);\n\n    var imgData = this.ctx.getImageData(0, 0, this.size, this.size);\n    var alphaChannel = new Uint8ClampedArray(this.size * this.size);\n\n    for (var i = 0; i < this.size * this.size; i++) {\n        var a = imgData.data[i * 4 + 3] / 255; // alpha value\n        this.gridOuter[i] = a === 1 ? 0 : a === 0 ? INF : Math.pow(Math.max(0, 0.5 - a), 2);\n        this.gridInner[i] = a === 1 ? INF : a === 0 ? 0 : Math.pow(Math.max(0, a - 0.5), 2);\n    }\n\n    edt(this.gridOuter, this.size, this.size, this.f, this.d, this.v, this.z);\n    edt(this.gridInner, this.size, this.size, this.f, this.d, this.v, this.z);\n\n    for (i = 0; i < this.size * this.size; i++) {\n        var d = this.gridOuter[i] - this.gridInner[i];\n        alphaChannel[i] = Math.max(0, Math.min(255, Math.round(255 - 255 * (d / this.radius + this.cutoff))));\n    }\n\n    return alphaChannel;\n};\n\n// 2D Euclidean distance transform by Felzenszwalb & Huttenlocher https://cs.brown.edu/~pff/papers/dt-final.pdf\nfunction edt(data, width, height, f, d, v, z) {\n    for (var x = 0; x < width; x++) {\n        for (var y = 0; y < height; y++) {\n            f[y] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, height);\n        for (y = 0; y < height; y++) {\n            data[y * width + x] = d[y];\n        }\n    }\n    for (y = 0; y < height; y++) {\n        for (x = 0; x < width; x++) {\n            f[x] = data[y * width + x];\n        }\n        edt1d(f, d, v, z, width);\n        for (x = 0; x < width; x++) {\n            data[y * width + x] = Math.sqrt(d[x]);\n        }\n    }\n}\n\n// 1D squared distance transform\nfunction edt1d(f, d, v, z, n) {\n    v[0] = 0;\n    z[0] = -INF;\n    z[1] = +INF;\n\n    for (var q = 1, k = 0; q < n; q++) {\n        var s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        while (s <= z[k]) {\n            k--;\n            s = ((f[q] + q * q) - (f[v[k]] + v[k] * v[k])) / (2 * q - 2 * v[k]);\n        }\n        k++;\n        v[k] = q;\n        z[k] = s;\n        z[k + 1] = +INF;\n    }\n\n    for (q = 0, k = 0; q < n; q++) {\n        while (z[k + 1] < q) { k++; }\n        d[q] = (q - v[k]) * (q - v[k]) + f[v[k]];\n    }\n}\ntinySdf.default = default_1;\n\n/**\n * tiny-sdf 中每个 glyph 的宽度（加上 buffer 24 + 3 + 3 = 30）\n */\nvar glyphSizeInSDF = 30;\n\nfunction nextPowOfTwo(number) {\n  return Math.pow(2, Math.ceil(Math.log2(number)));\n}\n\nfunction buildMapping(ref) {\n  var characterSet = ref.characterSet;\n  var getFontWidth = ref.getFontWidth;\n  var fontHeight = ref.fontHeight;\n  var buffer = ref.buffer;\n  var maxCanvasWidth = ref.maxCanvasWidth;\n  var mapping = ref.mapping; if ( mapping === void 0 ) mapping = {};\n  var xOffset = ref.xOffset; if ( xOffset === void 0 ) xOffset = 0;\n  var yOffset = ref.yOffset; if ( yOffset === void 0 ) yOffset = 0;\n\n  var row = 0;\n  var x = xOffset;\n  Array.from(characterSet).forEach(function (char, i) {\n    if (!mapping[char]) {\n      var width = getFontWidth(char, i);\n      if (x + glyphSizeInSDF > maxCanvasWidth) {\n      // if (x + width + buffer * 2 > maxCanvasWidth) {\n        x = 0;\n        row++;\n      }\n      mapping[char] = {\n        // x: x + buffer,\n        x: x,\n        y: yOffset + row * glyphSizeInSDF,\n        // y: yOffset + row * (fontHeight + buffer * 2) + buffer,\n        width: glyphSizeInSDF,\n        // height: fontHeight,\n        height: glyphSizeInSDF,\n        advance: width\n      };\n      // x += width + buffer * 2;\n      x += glyphSizeInSDF;\n    }\n  });\n\n  var rowHeight = fontHeight + buffer * 2;\n\n  return {\n    mapping: mapping,\n    xOffset: x,\n    yOffset: yOffset + row * rowHeight,\n    canvasHeight: nextPowOfTwo(yOffset + (row + 1) * rowHeight)\n  };\n}\n\nvar DEFAULT_CHAR_SET = getDefaultCharacterSet();\nvar DEFAULT_FONT_FAMILY = 'sans-serif';\nvar DEFAULT_FONT_WEIGHT = 'normal';\nvar DEFAULT_FONT_SIZE = 24;\nvar DEFAULT_BUFFER = 3;\nvar DEFAULT_CUTOFF = 0.25;\nvar DEFAULT_RADIUS = 8;\nvar MAX_CANVAS_WIDTH = 1024;\nvar BASELINE_SCALE = 1.0;\nvar HEIGHT_SCALE = 1.0;\nvar CACHE_LIMIT = 3;\n\nvar VALID_PROPS = [\n  'fontFamily',\n  'fontWeight',\n  'characterSet',\n  'fontSize',\n  'sdf',\n  'buffer',\n  'cutoff',\n  'radius'\n];\n\nfunction getDefaultCharacterSet() {\n  var charSet = [];\n  for (var i = 32; i < 128; i++) {\n    charSet.push(String.fromCharCode(i));\n  }\n  return charSet;\n}\n\nfunction setTextStyle(ctx, fontFamily, fontSize, fontWeight) {\n  ctx.font = fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n  ctx.fillStyle = 'black';\n  ctx.textBaseline = 'middle';\n  // ctx.textAlign = 'left';\n}\nfunction populateAlphaChannel(alphaChannel, imageData) {\n  // populate distance value from tinySDF to image alpha channel\n  for (var i = 0; i < alphaChannel.length; i++) {\n    imageData.data[4 * i + 3] = alphaChannel[i];\n  }\n}\n\nvar FontAtlasManager = function FontAtlasManager() {\n\n  // font settings\n  this.props = {\n    fontFamily: DEFAULT_FONT_FAMILY,\n    fontWeight: DEFAULT_FONT_WEIGHT,\n    characterSet: DEFAULT_CHAR_SET,\n    fontSize: DEFAULT_FONT_SIZE,\n    buffer: DEFAULT_BUFFER,\n    // sdf only props\n    // https://github.com/mapbox/tiny-sdf\n    sdf: true,\n    cutoff: DEFAULT_CUTOFF,\n    radius: DEFAULT_RADIUS\n  };\n\n  // key is used for caching generated fontAtlas\n  this._key = null;\n  this._texture = new actor.Texture();\n  this.cache = new LRUCache(CACHE_LIMIT);\n};\n\nvar prototypeAccessors = { texture: { configurable: true },mapping: { configurable: true },scale: { configurable: true },fontAtlas: { configurable: true } };\n\nprototypeAccessors.texture.get = function () {\n  return this._texture;\n};\n\nprototypeAccessors.mapping.get = function () {\n  var data = this.cache.get(this._key);\n  return data && data.mapping;\n};\n\nprototypeAccessors.scale.get = function () {\n  return HEIGHT_SCALE;\n};\n\nprototypeAccessors.fontAtlas.get = function () {\n  return this._fontAtlas;\n};\n\nFontAtlasManager.prototype.setProps = function setProps (props) {\n    var this$1 = this;\n    if ( props === void 0 ) props = {};\n\n  VALID_PROPS.forEach(function (prop) {\n    if (prop in props) {\n      this$1.props[prop] = props[prop];\n    }\n  });\n\n  // update cache key\n  var oldKey = this._key;\n  this._key = this._getKey();\n\n  var charSet = this._getNewChars(this._key, this.props.characterSet);\n  var cachedFontAtlas = this.cache.get(this._key);\n\n  // if a fontAtlas associated with the new settings is cached and\n  // there are no new chars\n  if (cachedFontAtlas && charSet.length === 0) {\n    // update texture with cached fontAtlas\n    if (this._key !== oldKey) {\n      this._updateTexture(cachedFontAtlas);\n    }\n    return;\n  }\n\n  // update fontAtlas with new settings\n  var fontAtlas = this._generateFontAtlas(this._key, charSet, cachedFontAtlas);\n  this._fontAtlas = fontAtlas;\n  this._updateTexture(fontAtlas);\n\n  // update cache\n  this.cache.set(this._key, fontAtlas);\n};\n\nFontAtlasManager.prototype._updateTexture = function _updateTexture (ref) {\n    var canvas = ref.data;\n\n  this._texture = new actor.CanvasTexture(canvas);\n  this._texture.minFilter = actor.LinearFilter;\n  this._texture.magFilter = actor.LinearFilter;\n  this._texture.flipY = false;\n  this._texture.format = actor.AlphaFormat;\n  this._texture.needUpdate = true;\n};\n\nFontAtlasManager.prototype._generateFontAtlas = function _generateFontAtlas (key, characterSet, cachedFontAtlas) {\n  var ref = this.props;\n    var fontFamily = ref.fontFamily;\n    var fontWeight = ref.fontWeight;\n    var fontSize = ref.fontSize;\n    var buffer = ref.buffer;\n    var sdf = ref.sdf;\n    var radius = ref.radius;\n    var cutoff = ref.cutoff;\n  var canvas = cachedFontAtlas && cachedFontAtlas.data;\n  if (!canvas) {\n    canvas = document.createElement('canvas');\n    canvas.width = MAX_CANVAS_WIDTH;\n  }\n  var ctx = canvas.getContext('2d');\n\n  setTextStyle(ctx, fontFamily, fontSize, fontWeight);\n\n  // 1. build mapping\n  var ref$1 = buildMapping(\n    Object.assign(\n      {\n        getFontWidth: function (char) { return ctx.measureText(char).width; },\n        fontHeight: fontSize * HEIGHT_SCALE,\n        buffer: buffer,\n        characterSet: characterSet,\n        maxCanvasWidth: MAX_CANVAS_WIDTH\n      },\n      cachedFontAtlas && {\n        mapping: cachedFontAtlas.mapping,\n        xOffset: cachedFontAtlas.xOffset,\n        yOffset: cachedFontAtlas.yOffset\n      }\n    )\n  );\n    var mapping = ref$1.mapping;\n    var canvasHeight = ref$1.canvasHeight;\n    var xOffset = ref$1.xOffset;\n    var yOffset = ref$1.yOffset;\n\n  // 2. update canvas\n  // copy old canvas data to new canvas only when height changed\n  if (canvas.height !== canvasHeight) {\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    canvas.height = canvasHeight;\n    ctx.putImageData(imageData, 0, 0);\n  }\n  setTextStyle(ctx, fontFamily, fontSize, fontWeight);\n\n  // 3. layout characters\n  if (sdf) {\n    var tinySDF = new tinySdf(fontSize, buffer, radius, cutoff, fontFamily, fontWeight);\n    // used to store distance values from tinySDF\n    // tinySDF.size equals `fontSize + buffer * 2`\n    var imageData$1 = ctx.getImageData(0, 0, tinySDF.size, tinySDF.size);\n\n    for (var i = 0, list = characterSet; i < list.length; i += 1) {\n      var char = list[i];\n\n        populateAlphaChannel(tinySDF.draw(char), imageData$1);\n      // 考虑到描边，需要保留 sdf 的 buffer，不能像 deck.gl 一样直接减去\n      ctx.putImageData(imageData$1, mapping[char].x, mapping[char].y);\n    }\n  } else {\n    for (var i$1 = 0, list$1 = characterSet; i$1 < list$1.length; i$1 += 1) {\n      var char$1 = list$1[i$1];\n\n        ctx.fillText(char$1, mapping[char$1].x, mapping[char$1].y + fontSize * BASELINE_SCALE);\n    }\n  }\n  return {\n    xOffset: xOffset,\n    yOffset: yOffset,\n    mapping: mapping,\n    data: canvas,\n    width: canvas.width,\n    height: canvas.height\n  };\n};\n\nFontAtlasManager.prototype._getKey = function _getKey () {\n  var ref = this.props;\n    var fontFamily = ref.fontFamily;\n    var fontWeight = ref.fontWeight;\n    var fontSize = ref.fontSize;\n    var buffer = ref.buffer;\n    var sdf = ref.sdf;\n    var radius = ref.radius;\n    var cutoff = ref.cutoff;\n  if (sdf) {\n    return (fontFamily + \" \" + fontWeight + \" \" + fontSize + \" \" + buffer + \" \" + radius + \" \" + cutoff);\n  }\n  return (fontFamily + \" \" + fontWeight + \" \" + fontSize + \" \" + buffer);\n};\nFontAtlasManager.prototype._getNewChars = function _getNewChars (key, characterSet) {\n  var cachedFontAtlas = this.cache.get(key);\n  if (!cachedFontAtlas) {\n    return characterSet;\n  }\n\n  var newChars = [];\n  var cachedMapping = cachedFontAtlas.mapping;\n  var cachedCharSet = Object.keys(cachedMapping);\n  cachedCharSet = new Set(cachedCharSet);\n\n  var charSet = characterSet;\n  if (charSet instanceof Array) {\n    charSet = new Set(charSet);\n  }\n\n  charSet.forEach(function (char) {\n    if (!cachedCharSet.has(char)) {\n      newChars.push(char);\n    }\n  });\n\n  return newChars;\n};\n\nObject.defineProperties( FontAtlasManager.prototype, prototypeAccessors );\n\nvar point_frag = \"precision highp float;\\n#define PI 3.14159265359\\n#define TWO_PI 6.28318530718\\nuniform float u_strokeWidth;uniform vec4 u_stroke;uniform sampler2D u_texture;varying vec2 v_rs;varying vec2 v_uv;varying vec4 v_color;varying float v_shape;const float u_buffer=.75;uniform vec4 u_activeColor;const float u_gamma=.08;const vec3 halo=vec3(1.);void main(){\\n#ifdef TEXCOORD_0\\nvec2 pos=v_uv+gl_PointCoord/512.*64.;pos.y=1.-pos.y;vec4 textureColor=texture2D(u_texture,pos);\\n#ifdef PICK\\nif(worldId.x==0.&&worldId.y==0.&& worldId.z==0.&& textureColor==vec4(0.)){discard;return;}gl_FragColor=worldId;return;\\n#endif\\nif(v_color==vec4(0.)){gl_FragColor=textureColor; \\n}else {gl_FragColor=step(0.01,textureColor.x)*v_color;}return;\\n#endif\\nif(v_color.a==0.)discard;vec4 pcolor=v_color;float ro=v_rs.x;float ri=v_rs.y;float d=0.;if(ro<3.){gl_FragColor=pcolor;return;}vec2 st=gl_PointCoord*2.-1.;float a=atan(st.x,st.y)+PI;float r=TWO_PI/v_shape;float ratio=1.+(1.1-smoothstep(2.8,6.,v_shape));float dis2center=cos(floor(.5+a/r)*r-a)*length(st)*ro*ratio;float alpha=smoothstep(ro,ro+.1,dis2center);if(alpha==1.){discard;}if(u_strokeWidth>0.){if(dis2center>ro-u_strokeWidth){gl_FragColor=vec4(u_stroke.xyz,u_stroke.a*(ro-dis2center));return;}else if(dis2center>ri){gl_FragColor=u_stroke;return;}}if(dis2center>ri-u_strokeWidth){float factor=ri-dis2center;if(u_strokeWidth==0.){float a=pcolor.a*factor;gl_FragColor=vec4(pcolor.rgb,a);}else{float a=u_stroke.a*(1.-factor)+pcolor.a*factor;gl_FragColor=vec4(u_stroke.rgb*(1.-factor)+pcolor.rgb*factor,a);}}else{gl_FragColor=pcolor;}\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar point_vert = \"precision highp float;attribute vec4 a_color;attribute float a_size;attribute float a_shape;uniform vec4 u_stroke;uniform float u_strokeWidth;uniform float u_opacity;uniform float u_zoom;varying vec4 v_color;varying vec2 v_rs;varying vec2 v_uv;varying float v_shape;uniform float u_activeId;uniform vec4 u_activeColor;void main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;v_color=a_color;v_color.a*=u_opacity;if(pickingId==u_activeId) {v_color=u_activeColor;}gl_Position= matModelViewProjection *vec4(position,1.0);gl_PointSize=a_size;v_rs=vec2(a_size,a_size-u_strokeWidth);\\n#ifdef TEXCOORD_0\\nv_uv=uv;\\n#endif\\n#ifdef SHAPE\\nv_shape=a_shape;\\n#endif\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar polygon_frag = \"precision highp float;uniform vec4 u_baseColor : [ 1.0,0,0,1.0 ];uniform vec4 u_brightColor : [ 1.0,0,0,1.0 ];uniform vec4 u_windowColor : [ 1.0,0,0,1.0 ];uniform float u_zoom : 0;uniform float u_time : 0;uniform float u_near : 0;uniform float u_far : 1;\\n#ifdef ANIMATE\\nvarying vec2 v_texCoord;\\n#endif\\nvarying vec4 v_color;vec3 getWindowColor(float n,float hot,vec3 brightColor,vec3 darkColor) {float s=step(hot,n);vec3 color=mix(brightColor,vec3(0.9,0.9,1.0),n);return mix(darkColor,color,s);}float random (vec2 st) {return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);}float LinearizeDepth() \\n{float z=gl_FragCoord.z*2.0-1.0;  \\nreturn (2.0*u_near*u_far)/(u_far+u_near-z*(u_far-u_near));\\t\\n}vec3 fog(vec3 color,vec3 fogColor,float depth){float fogFactor=clamp(depth,0.0,1.0);vec3 output_color=mix(fogColor,color,fogFactor);return output_color;}float sdRect(vec2 p,vec2 sz) {  \\nvec2 d=abs(p)-sz;float outside=length(max(d,0.));float inside=min(max(d.x,d.y),0.);return outside+inside;}void main() {if(v_color.w==0.0) {discard;return;}vec3 baseColor=u_baseColor.xyz;vec3 brightColor=u_brightColor.xyz;vec3 windowColor=u_windowColor.xyz;float targetColId=5.;float depth=1.0-LinearizeDepth()/u_far*u_zoom;  \\nvec3 fogColor=vec3(23.0/255.0,31.0/255.0,51.0/255.0); \\n#ifdef ANIMATE \\nif(v_texCoord.x < 0.) {vec3 foggedColor=fog(baseColor.xyz+vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);gl_FragColor=vec4( foggedColor,v_color.w);}else {vec2 st=v_texCoord; \\nvec2  UvScale=v_texCoord;float tStep=min(0.08,max(0.05*(18.0-u_zoom),0.02));float tStart=0.25*tStep;float tEnd=0.75*tStep;float u=mod(UvScale.x,tStep);float v=mod(UvScale.y,tStep);float ux=floor(UvScale.x/tStep);float uy=floor(UvScale.y/tStep);float n=random(vec2(ux,uy));float lightP=u_time;float head=1.0-step(0.005,st.y);/*step3*/float sU=step(tStart,u)-step(tEnd,u);float sV=step(tStart,v)-step(tEnd,v);vec2 windowSize=vec2(abs(tEnd-tStart),abs(tEnd-tStart));float dist=sdRect(vec2(u,v),windowSize);float s=sU*sV;float curColId=floor(UvScale.x/tStep);float sCol=step(targetColId-0.2,curColId)-step(targetColId+0.2,curColId);float mLightP=mod(lightP,2.);float sRow=step(mLightP-0.2,st.y)-step(mLightP,st.y);if(ux==targetColId){n=0.;}float timeP=min(0.75,abs ( sin(u_time/6.0) ) );float hot=smoothstep(1.0,0.0,timeP);vec3 color=mix(baseColor,getWindowColor(n,hot,brightColor,windowColor),s);float sFinal=s*sCol*sRow;color+=mix(baseColor,brightColor,sFinal*n);color=color*v_color.rgb;vec3 foggedColor=fog(color,fogColor,depth);gl_FragColor=vec4(foggedColor,1.0); \\n}\\n#else\\ngl_FragColor=vec4(v_color.xyz,v_color.w);\\n#endif\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar polygon_vert = \"precision highp float;attribute vec4 a_color; \\n#ifdef SHAPE\\nattribute vec3 a_size;attribute vec3 a_shape;\\n#endif\\n#ifdef ANIMATE\\nattribute vec2 faceUv;varying vec2 v_texCoord;\\n#endif\\nvarying vec4 v_color;uniform float u_zoom : 0;uniform float u_opacity : 1.0;uniform float u_activeId :-1;uniform vec4 u_activeColor : [1.0,0.0,0.0,1.0];\\n#pragma include \\\"lighting\\\"\\nvoid main() {\\n#ifdef ANIMATE\\nv_texCoord=faceUv;\\n#endif\\nv_color=a_color;v_color.a*=u_opacity;float scale=pow(2.0,(20.0-u_zoom));vec3 offset=vec3(0.);\\n#ifdef SHAPE\\noffset=vec3(a_size*scale*a_shape);\\n#endif\\ngl_Position=projectionMatrix*modelViewMatrix*vec4(position+offset,1.);\\n#ifdef LIGHTING\\nif (normal !=vec3(0.,0.,1.0)) {vec3 viewDir=normalize(cameraPosition-position);v_color.rgb*=calc_lighting(position,normal,viewDir);}\\n#endif\\nif(pickingId==u_activeId) {v_color=u_activeColor;}\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar grid_frag = \"precision highp float;varying vec4 v_color;void main() {gl_FragColor=v_color;\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar grid_vert = \"precision highp float;attribute vec3 miter;attribute vec4 a_color;uniform float u_xOffset;uniform float u_yOffset;uniform float u_coverage;uniform float u_opacity;uniform float u_activeId;uniform vec4 u_activeColor;varying vec4 v_color;\\n#pragma include \\\"lighting\\\"\\nvoid main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;v_color=a_color;v_color.a*=u_opacity;if(pickingId==u_activeId) {v_color=u_activeColor;}float x=position.x+miter.x*u_xOffset*u_coverage;float y=position.y+miter.y*u_yOffset*u_coverage;float z=position.z+miter.z;\\n#ifdef LIGHTING\\nvec3 viewDir=normalize(cameraPosition-vec3(x,y,z));v_color.rgb*=calc_lighting(vec3(x,y,z),normal,viewDir);\\n#endif\\ngl_Position=matModelViewProjection*vec4(x,y,z,1.0);\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar hexagon_frag = \"precision highp float;varying vec4 v_color;void main() {gl_FragColor=v_color;\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar hexagon_vert = \"precision highp float;attribute vec3 miter;attribute vec3 a_shape;attribute float a_size;attribute vec4 a_color;uniform float u_radius;uniform float u_coverage;uniform float u_opacity;uniform float u_angle;uniform float u_activeId;uniform vec4 u_activeColor;varying vec4 v_color;\\n#pragma include \\\"lighting\\\"\\nvoid main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;mat2 rotationMatrix=mat2(cos(u_angle),sin(u_angle),-sin(u_angle),cos(u_angle));v_color=a_color;v_color.a*=u_opacity;if(pickingId==u_activeId) {v_color=u_activeColor;}vec2 offset=vec2(rotationMatrix*miter.xy*u_radius*u_coverage );float x=position.x+offset.x;float y=position.y+offset.y;float z=miter.z*a_size;\\n#ifdef LIGHTING\\nvec3 viewDir=normalize(cameraPosition-vec3(x,y,z));v_color.rgb*=calc_lighting(vec3(x,y,z),normal,viewDir);\\n#endif\\ngl_Position=matModelViewProjection*vec4(x,y,z,1.0);\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar circle_frag = \"uniform float u_blur : 0;uniform float u_opacity : 1;uniform float u_strokeWidth : 1;uniform vec4 u_stroke : [1,1,1,1];uniform float u_strokeOpacity : 1;varying vec4 v_data;varying vec4 v_color;varying float v_radius;\\n#pragma include \\\"sdf_2d\\\"\\nvoid main() {int shape=int(v_data.w);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(u_blur,antialiasblur);float r=v_radius/(v_radius+u_strokeWidth);float outer_df;float inner_df;if (shape==0) {outer_df=sdCircle(v_data.xy,1.0);inner_df=sdCircle(v_data.xy,r);} else if (shape==1) {outer_df=sdEquilateralTriangle(1.1*v_data.xy);inner_df=sdEquilateralTriangle(1.1/r*v_data.xy);} else if (shape==2) {outer_df=sdBox(v_data.xy,vec2(1.));inner_df=sdBox(v_data.xy,vec2(r));} else if (shape==3) {outer_df=sdPentagon(v_data.xy,0.8);inner_df=sdPentagon(v_data.xy,r*0.8);} else if (shape==4) {outer_df=sdHexagon(v_data.xy,0.8);inner_df=sdHexagon(v_data.xy,r*0.8);} else if (shape==5) {outer_df=sdOctogon(v_data.xy,1.0);inner_df=sdOctogon(v_data.xy,r);} else if (shape==6) {outer_df=sdHexagram(v_data.xy,0.52);inner_df=sdHexagram(v_data.xy,r*0.52);} else if (shape==7) {outer_df=sdRhombus(v_data.xy,vec2(1.0));inner_df=sdRhombus(v_data.xy,vec2(r));} else if (shape==8) {outer_df=sdVesica(v_data.xy,1.1,0.8);inner_df=sdVesica(v_data.xy,r*1.1,r*0.8);}float opacity_t=smoothstep(0.0,antialiased_blur,outer_df);float color_t=u_strokeWidth < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,inner_df\\n);gl_FragColor=opacity_t*mix(v_color*u_opacity,u_stroke*u_strokeOpacity*v_color.a,color_t);\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar circle_vert = \"\\nattribute vec4 a_color;attribute float a_size;attribute float a_shape;attribute vec2 miter;uniform float u_zoom : 1;uniform float u_stroke_width : 2;uniform float u_activeId : 0;uniform vec4 u_activeColor : [ 1.0,0,0,1.0 ];varying vec4 v_data;varying vec4 v_color;varying float v_radius;\\n#pragma include \\\"decode\\\"\\nvoid main() {v_color=a_color;vec2 extrude=miter;float radius=a_size;v_radius=radius;float zoom_scale=pow(2.,20.-u_zoom);vec2 offset=miter*(radius+u_stroke_width)*zoom_scale;gl_Position=projectionMatrix*modelViewMatrix*vec4(position.xy+offset,0.0,1.0);float antialiasblur=1.0/(radius+u_stroke_width);v_data=vec4(extrude,antialiasblur,a_shape);if(pickingId==u_activeId) {v_color=u_activeColor;}\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar point_line_frag = \"precision highp float;varying float v_pickingId;varying vec4 v_color;void main() {if(v_pickingId <-0.1) {discard;}\\n#ifdef ANIMATE \\nif (vTime > 1.0 || vTime < 0.0) {discard;} \\n#endif\\ngl_FragColor=v_color;\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar point_line_vert = \"precision highp float;attribute float a_miter;attribute vec3 a_size;attribute vec3 a_shape;uniform float u_strokeWidth;uniform float u_strokeOpacity;uniform vec4 u_activeColor;uniform float u_activeId;uniform vec4 u_stroke;uniform float u_zoom;uniform float u_time;varying float vTime;varying float v_pickingId;varying vec4 v_color;void main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;float scale=pow(2.0,(20.0-u_zoom));vec3 newposition=position+(a_size+vec3(u_strokeWidth/2.,u_strokeWidth/2.,0))*scale*a_shape+vec3(0.,a_size.y*scale/4.,0.);;\\n#ifdef ANIMATE \\nvTime=1.0-(mod(u_time*50.,3600.)-position.z)/100.;\\n#endif\\nv_color=u_stroke;v_color.a*=u_strokeOpacity;v_pickingId=pickingId;if(v_pickingId==u_activeId) {v_color=u_activeColor;}vec3 pointPos=newposition.xyz+vec3(normal*u_strokeWidth*scale/2.0*a_miter);gl_Position=matModelViewProjection*vec4(pointPos,1.0);\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar normal_point_frag = \"precision highp float;varying vec4 v_color;void main(){gl_FragColor=v_color;}\";\n\nvar normal_point_vert = \"precision highp float;attribute vec4 a_color;attribute float a_size;varying vec4 v_color;uniform float u_activeId;uniform vec4 u_activeColor;uniform float u_opacity;void main(){mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;v_color=a_color;v_color.a*=u_opacity;if(pickingId==u_activeId){v_color=u_activeColor;}gl_Position=matModelViewProjection*vec4(position,1.);gl_PointSize=a_size;\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar mesh_line_frag = \"precision highp float;uniform float u_opacity : 1.0;uniform float u_dash_offset : 0.0;uniform float u_dash_ratio : 0.0;uniform float u_blur : 0.9;varying vec4 v_color;uniform float u_time : 0;\\n#if defined DASHLINE  || defined ANIMATE\\nvarying float v_distance_ratio;\\n#endif\\nvarying float v_dash_array;varying float v_time;varying vec2 v_normal;\\n#ifdef TEXTURE\\nuniform sampler2D u_texture;varying vec2 v_uv;varying float v_texture_y;varying float v_texture_percent;\\n#endif\\n#ifdef ANIMATE \\nuniform float u_duration : 2.0;uniform float u_interval : 1.0;uniform float u_trailLength : 0.2;\\n#endif\\nvoid main() {\\n#ifdef TEXTURE\\nfloat texture_y_fract=fract(v_texture_y);if (texture_y_fract <=v_texture_percent) {vec4 tex_color=texture2D(u_texture,vec2(v_uv.x,1.0-0.125-v_uv.y+(texture_y_fract/v_texture_percent)*0.125));gl_FragColor=vec4(mix(v_color.rgb,tex_color.rgb,tex_color.a),v_color.a);} else {gl_FragColor=v_color;}\\n#else\\ngl_FragColor=v_color;\\n#endif\\n#ifdef DASHLINE\\nfloat time=0.;\\n#ifdef ANIMATE \\ntime=u_time/1000.;\\n#endif\\ngl_FragColor.a*=u_opacity*ceil(mod(v_distance_ratio+u_dash_offset+time,v_dash_array)-(v_dash_array*u_dash_ratio));\\n#else\\ngl_FragColor.a*=u_opacity;\\n#endif\\n#ifdef ANIMATE \\nfloat alpha=1.0-fract( mod(1.0-v_distance_ratio,u_interval)*(1.0/u_interval)+u_time/u_duration);alpha=(alpha+u_trailLength-1.0)/u_trailLength;alpha=smoothstep(0.,1.,alpha);gl_FragColor.a*=alpha;\\n#endif\\nfloat blur=1.-smoothstep(u_blur,1.,length(v_normal));gl_FragColor.a*=blur;\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar mesh_line_vert = \"attribute float a_miter;attribute vec4 a_color;attribute float a_size;attribute float a_distance;attribute float a_dash_array;attribute float a_total_distance;uniform float u_zoom;uniform float u_time : 0;uniform float u_activeId : 0;uniform vec4 u_activeColor : [ 1.0,0,0,1.0 ];varying float v_time;varying vec4 v_color;varying float v_dash_array;varying vec2 v_normal;\\n#if defined DASHLINE  || defined ANIMATE\\nvarying float v_distance_ratio;\\n#endif\\n#ifdef ANIMATE \\nuniform float u_duration : 2.0;uniform float u_interval : 1.0;uniform float u_trailLength : 0.2;\\n#endif\\n#ifdef TEXTURE\\nattribute vec2 a_texture_coord;uniform float u_pattern_spacing : 0.0;varying vec2 v_uv;varying float v_texture_y;varying float v_texture_percent;\\n#endif\\nvoid main() {float extrude_scale=pow(2.0,20.0-u_zoom);v_color=a_color;v_dash_array=a_dash_array*pow(2.0,20.0-u_zoom);float distance_ratio=a_distance/a_total_distance;\\n#if defined DASHLINE  || defined ANIMATE\\nv_distance_ratio=distance_ratio;\\n#endif\\n#ifdef TEXTURE\\nv_uv=vec2(a_texture_coord.x+0.125,a_texture_coord.y);if (a_miter > 0.0) {v_uv.x=a_texture_coord.x;}v_texture_y=a_distance/extrude_scale/(a_size+u_pattern_spacing);v_texture_percent=a_size/(a_size+u_pattern_spacing);\\n#endif\\nv_normal=vec2(normal*sign(a_miter));vec3 offset=vec3(normal*a_size*extrude_scale/2.0*a_miter);gl_Position=projectionMatrix*modelViewMatrix*vec4(position.xy+offset.xy,0.,1.0);if(pickingId==u_activeId) {v_color=u_activeColor;}\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar arc_line_frag = \"precision mediump float;uniform float u_opacity;varying vec4 v_color;uniform float u_time : 0;\\n#if defined DASHLINE  || defined ANIMATE\\nvarying float v_distance_ratio;\\n#endif\\n#ifdef ANIMATE \\nuniform float u_duration : 2.0;uniform float u_interval : 1.0;uniform float u_trailLength : 0.2;\\n#endif\\nvoid main() {if(v_color.a==0.){discard;}gl_FragColor=v_color;gl_FragColor.a=v_color.a*u_opacity;\\n#ifdef ANIMATE\\nfloat alpha=1.0-fract( mod(1.0-v_distance_ratio,u_interval)*(1.0/u_interval)+u_time/u_duration);gl_FragColor.a*=alpha;\\n#endif\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar arc_line_vert = \"precision mediump float;attribute vec4 a_color;attribute vec4 a_instance;attribute float a_size;uniform float u_zoom;uniform float u_time;uniform float u_activeId : 0;uniform vec4 u_activeColor : [ 1.0,0,0,1.0 ];uniform mat4 matModelViewProjection;uniform float segmentNumber;  \\nvarying vec4 v_color;\\n#ifdef ANIMATE\\nvarying float v_distance_ratio;\\n#endif\\nfloat maps (float value,float start1,float stop1,float start2,float stop2) {return start2+(stop2-start2)*((value-start1)/(stop1-start1));}float getSegmentRatio(float index) {return smoothstep(0.0,1.0,index/(segmentNumber-1.0));}float paraboloid(vec2 source,vec2 target,float ratio) {vec2 x=mix(source,target,ratio);vec2 center=mix(source,target,0.5);float dSourceCenter=distance(source,center);float dXCenter=distance(x,center);return (dSourceCenter+dXCenter)*(dSourceCenter-dXCenter);}vec3 getPos(vec2 source,vec2 target,float segmentRatio) {float vertex_height=paraboloid(source,target,segmentRatio);return vec3(mix(source,target,segmentRatio),sqrt(max(0.0,vertex_height)));}vec2 getExtrusionOffset(vec2 line_clipspace,float offset_direction) {vec2 dir_screenspace=normalize(line_clipspace);dir_screenspace=vec2(-dir_screenspace.y,dir_screenspace.x);vec2 offset=dir_screenspace*offset_direction*a_size*pow(2.0,20.0-u_zoom)/2.0;return offset;}void main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;vec2 source=a_instance.rg;vec2 target=a_instance.ba;float segmentIndex=position.x;float segmentRatio=getSegmentRatio(segmentIndex);float indexDir=mix(-1.0,1.0,step(segmentIndex,0.0));float nextSegmentRatio=getSegmentRatio(segmentIndex+indexDir);vec3 curr=getPos(source,target,segmentRatio);vec3 next=getPos(source,target,nextSegmentRatio);vec2 offset=getExtrusionOffset((next.xy-curr.xy)*indexDir,position.y);\\n#ifdef ANIMATE\\nv_distance_ratio=segmentIndex/segmentNumber;\\n#endif\\ngl_Position=matModelViewProjection*vec4(vec3(curr+vec3(offset,0.0)),1.0);v_color=a_color;if(pickingId==u_activeId) {v_color=u_activeColor;}\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar great_circle_line_vert = \"#define PI 3.1415926535\\nprecision mediump float;attribute vec4 a_color;attribute vec4 a_instance;attribute float a_size;uniform float u_zoom;uniform float u_time;uniform float u_activeId : 0;uniform vec4 u_activeColor : [ 1.0,0,0,1.0 ];uniform mat4 matModelViewProjection;uniform float segmentNumber;  \\nvarying vec4 v_color;\\n#ifdef ANIMATE\\nvarying float v_distance_ratio;\\n#endif\\n#pragma include \\\"project\\\"\\nfloat maps (float value,float start1,float stop1,float start2,float stop2) {return start2+(stop2-start2)*((value-start1)/(stop1-start1));}float getSegmentRatio(float index) {return smoothstep(0.0,1.0,index/(segmentNumber-1.));}float paraboloid(vec2 source,vec2 target,float ratio) {vec2 x=mix(source,target,ratio);vec2 center=mix(source,target,0.5);float dSourceCenter=distance(source,center);float dXCenter=distance(x,center);return (dSourceCenter+dXCenter)*(dSourceCenter-dXCenter);}vec3 getPos(vec2 source,vec2 target,float segmentRatio) {float vertex_height=paraboloid(source,target,segmentRatio);return vec3(mix(source,target,segmentRatio),sqrt(max(0.0,vertex_height)));}vec2 getExtrusionOffset(vec2 line_clipspace,float offset_direction) {vec2 dir_screenspace=normalize(line_clipspace);dir_screenspace=vec2(-dir_screenspace.y,dir_screenspace.x);vec2 offset=dir_screenspace*offset_direction*a_size*pow(2.0,20.0-u_zoom)/2.0;return offset;}float getAngularDist (vec2 source,vec2 target) {vec2 delta=source-target;vec2 sin_half_delta=sin(delta/2.0);float a=sin_half_delta.y*sin_half_delta.y+cos(source.y)*cos(target.y)*sin_half_delta.x*sin_half_delta.x;return 2.0*atan(sqrt(a),sqrt(1.0-a));}vec2 interpolate (vec2 source,vec2 target,float angularDist,float t) {if(abs(angularDist-PI) < 0.001) {return (1.0-t)*source+t*target;}float a=sin((1.0-t)*angularDist)/sin(angularDist);float b=sin(t*angularDist)/sin(angularDist);vec2 sin_source=sin(source);vec2 cos_source=cos(source);vec2 sin_target=sin(target);vec2 cos_target=cos(target);float x=a*cos_source.y*cos_source.x+b*cos_target.y*cos_target.x;float y=a*cos_source.y*sin_source.x+b*cos_target.y*sin_target.x;float z=a*sin_source.y+b*sin_target.y;return vec2(atan(y,x),atan(z,sqrt(x*x+y*y)));}void main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;vec2 source=radians(unProjectFlat(a_instance.rg));vec2 target=radians(unProjectFlat(a_instance.ba));float angularDist=getAngularDist(source,target);float segmentIndex=position.x;float segmentRatio=getSegmentRatio(segmentIndex);float indexDir=mix(-1.0,1.0,step(segmentIndex,0.0));float nextSegmentRatio=getSegmentRatio(segmentIndex+indexDir);\\n#ifdef ANIMATE\\nv_distance_ratio=segmentIndex/segmentNumber;\\n#endif\\nvec3 curr=vec3(degrees(interpolate(source,target,angularDist,segmentRatio)),0.0);vec3 next=vec3(degrees(interpolate(source,target,angularDist,nextSegmentRatio)),0.0);vec2 offset=getExtrusionOffset((ProjectFlat(next.xy)-ProjectFlat(curr.xy))*indexDir,position.y);gl_Position=matModelViewProjection*vec4(vec3(vec3(ProjectFlat(curr.xy),2.)+vec3(offset,0.0)),1.0);v_color=a_color;if(pickingId==u_activeId) {v_color=u_activeColor;}\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar line_frag = \"precision highp float;varying vec4 v_color;varying float vTime;void main() {vec4 color=v_color;\\n#ifdef ANIMATE \\nif (vTime > 1.0 || vTime < 0.0) {discard;} \\ncolor.a=color.a*vTime*1.5;\\n#endif\\ngl_FragColor=color;\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar line_vert = \"precision highp float;attribute vec4 a_color;uniform float currentTime;uniform float u_time;uniform float u_opacity;varying float vTime;varying vec4 v_color;uniform float u_activeId;uniform vec4 u_activeColor;void main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;v_color=a_color;v_color.a*=u_opacity;if(pickingId==u_activeId) {v_color=u_activeColor;}\\n#ifdef ANIMATE \\nvTime=1.0-(mod(u_time*50.,3600.)-position.z)/100.;\\n#endif\\ngl_Position=matModelViewProjection*vec4(position.xy,10.,1.0);\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar heatmap_color_vert = \"varying vec2 v_uv;void main(){v_uv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4( position,1.0 );}\";\n\nvar heatmap_color_frag = \"uniform sampler2D u_texture;uniform sampler2D u_rampColors;uniform float u_opacity;varying vec2 v_uv;void main(){float intensity=texture2D(u_texture,v_uv).r;vec4 color=texture2D(u_rampColors,vec2(0.5,1.0-intensity));gl_FragColor=color;gl_FragColor.a=color.a*smoothstep(0.,0.05,intensity)*u_opacity;}\";\n\nvar heatmap_intensity_frag = \"precision highp float;uniform float u_intensity;varying float v_weight;varying vec2 v_extrude;void main(){float GAUSS_COEF=0.3989422804014327;float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=v_weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,val,val,val);}\";\n\nvar heatmap_intensity_vert = \"precision highp float;attribute float a_weight;attribute vec2 a_dir;uniform float u_intensity;uniform float u_radius;uniform float u_zoom;varying vec2 v_extrude;varying float v_weight;void main(){v_weight=a_weight;float GAUSS_COEF=0.3989422804014327;float ZERO=1.0/255.0/16.0;float extrude_x=a_dir.x*2.0-1.0;float extrude_y=a_dir.y*2.0-1.0;vec2 extrude_dir=normalize(vec2(extrude_x,extrude_y));float S=sqrt(-2.0*log(ZERO/a_weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=extrude_dir*S;vec2 extrude= v_extrude*u_radius*pow(2.0,20.0-u_zoom); \\nvec4 pos=vec4( position.xy+extrude,0.0,1.0);gl_Position=projectionMatrix*modelViewMatrix*pos;}\";\n\nvar text_frag = \"uniform sampler2D u_sdf_map;uniform float u_gamma_scale : 0.5;uniform float u_font_size : 24;uniform float u_opacity : 1.0;uniform vec4 u_stroke : [0,0,0,1];uniform float u_strokeWidth : 2.0;uniform float u_halo_blur : 0.5;varying vec4 v_color;varying vec2 v_uv;varying float v_gamma_scale;void main() {float dist=texture2D(u_sdf_map,v_uv).a;float fontScale=u_font_size/24.0;lowp float buff=(6.0-u_strokeWidth/fontScale)/SDF_PX;highp float gamma=(u_halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);highp float gamma_scaled=gamma*v_gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=mix(v_color*u_opacity,u_stroke,smoothstep(0.,0.5,1.-dist))*alpha;\\n#pragma include \\\"pick\\\"\\n}\";\n\nvar text_vert = \"attribute vec2 a_pos;attribute vec2 a_tex;attribute vec2 a_offset;attribute vec4 a_color;attribute float a_size;uniform vec2 u_sdf_map_size;uniform vec2 u_viewport_size;uniform float u_activeId : 0;uniform vec4 u_activeColor : [1.0,0.0,0.0,1.0];varying vec2 v_uv;varying float v_gamma_scale;varying vec4 v_color;void main() {v_color=a_color;v_uv=a_tex/u_sdf_map_size;float fontScale=a_size/24.;vec4 projected_position=projectionMatrix*modelViewMatrix*vec4(a_pos,0.,1.);gl_Position=vec4(projected_position.xy/projected_position.w+a_offset*fontScale/u_viewport_size*2.,0.0,1.0);v_gamma_scale=gl_Position.w;if (pickingId==u_activeId) {v_color=u_activeColor;}\\n#ifdef PICK\\nworldId=id_toPickColor(pickingId);\\n#endif\\n}\";\n\nvar image_vert = \"precision highp float;varying vec2 v_texCoord;void main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;v_texCoord=uv;gl_Position= matModelViewProjection*vec4(position,1.0);}\";\n\nvar image_frag = \"precision mediump float;uniform sampler2D u_texture;uniform float u_opacity;varying vec2 v_texCoord;void main() {vec4 color=texture2D(u_texture,vec2(v_texCoord.x,1.0-v_texCoord.y));gl_FragColor=color*u_opacity;}\";\n\nvar raster_vert = \"precision highp float;uniform vec4 u_extent;uniform sampler2D u_texture;uniform float u_opacity;uniform float u_size;uniform sampler2D u_colorTexture;uniform float u_min;uniform float u_max;varying vec2 v_texCoord;varying vec4 v_color;void main() {mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;float value=texture2D(u_texture,uv)[0];v_texCoord=uv;value=clamp(value,u_min,u_max);float value1= (value-u_min)/(u_max-u_min);vec2 ramp_pos=vec2(fract(16.0*(1.0-value1)),floor(16.0*(1.0-value1))/16.0);v_color=texture2D(u_colorTexture,ramp_pos);v_color.a*=u_opacity;vec2 range=u_extent.zw-u_extent.xy;gl_Position= matModelViewProjection*vec4(position.xy,value*100.,1.0);}\";\n\nvar raster_frag = \"precision highp float;uniform sampler2D u_texture;uniform sampler2D u_colorTexture;uniform vec2 u_dimension;varying vec2 v_texCoord;varying vec4 v_color;uniform float u_min;uniform float u_max;uniform vec4 u_extent;\\n#define PI 3.141592653589793\\nvoid main() {vec2 u_latrange=vec2(3.83718,53.5636);float u_zoom=7.0;float u_maxzoom=10.0;vec2 epsilon=1.0/u_dimension;vec2 u_light=vec2(0.5000,5.8469);vec4 u_accent=vec4(0.,0.,0.,1.);vec4 u_highlight=vec4(1.0);vec4 u_shadow=vec4(0.,0.,0.,1.);float a=texture2D(u_texture,v_texCoord-epsilon)[0];float b=texture2D(u_texture,v_texCoord+vec2(0,-epsilon.y))[0];float c=texture2D(u_texture,v_texCoord+vec2(epsilon.x-epsilon.y))[0];float d=texture2D(u_texture,v_texCoord+vec2(-epsilon.x,0))[0];float e=texture2D(u_texture,v_texCoord)[0];float f=texture2D(u_texture,v_texCoord+vec2(epsilon.x,0))[0];float g=texture2D(u_texture,v_texCoord+vec2(-epsilon.x,epsilon.y))[0];float h=texture2D(u_texture,v_texCoord+vec2(0,epsilon.y))[0];float i=texture2D(u_texture,v_texCoord+epsilon)[0];float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_texCoord.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*v_color*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=v_color;}\";\n\nvar tile_polygon_vert = \"attribute vec4 a_color;uniform float u_zoom;uniform float u_opacity;varying vec4 v_color;uniform float u_activeId;uniform vec4 u_activeColor;void main(){mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;v_color=a_color;v_color.a*=u_opacity;if(pickingId==u_activeId){v_color=u_activeColor;}gl_Position=projectionMatrix*vec4(position.xy/4096.,0.,1.);}\";\n\nvar tile_polygon_frag = \"varying vec4 v_color;void main(){gl_FragColor=v_color;}\";\n\nvar mask_quard_vert = \"precision highp float;void main(){mat4 matModelViewProjection=projectionMatrix*modelViewMatrix;gl_Position= matModelViewProjection*vec4(position,1.0);}\";\n\nvar mask_quard_frag = \"precision highp float;void main() {gl_FragColor=vec4(0.0,0.,0.,1.0);}\";\n\nvar common$1 = \"#define PI 3.14159265359\\n#define TWO_PI 6.28318530718\";\n\nvar pick_color = \"vec4 id_toPickColor(float pickingId) {float id=step(0.,pickingId)*pickingId;vec3 a=fract(vec3(1.0/255.0,1.0/(255.0*255.0),1.0/(255.0*255.0*255.0))*id);a-=a.xxy*vec3(0.0,1.0/255.0,1.0/255.0);vec4 worldColor=vec4(a,1);return worldColor;}\";\n\nvar decode = \"#define SHIFT_RIGHT17 1.0/131072.0\\n#define SHIFT_RIGHT18 1.0/262144.0\\n#define SHIFT_RIGHT19 1.0/524288.0\\n#define SHIFT_RIGHT20 1.0/1048576.0\\n#define SHIFT_RIGHT21 1.0/2097152.0\\n#define SHIFT_RIGHT22 1.0/4194304.0\\n#define SHIFT_RIGHT23 1.0/8388608.0\\n#define SHIFT_RIGHT24 1.0/16777216.0\\n#define SHIFT_LEFT17 131072.0\\n#define SHIFT_LEFT18 262144.0\\n#define SHIFT_LEFT19 524288.0\\n#define SHIFT_LEFT20 1048576.0\\n#define SHIFT_LEFT21 2097152.0\\n#define SHIFT_LEFT22 4194304.0\\n#define SHIFT_LEFT23 8388608.0\\n#define SHIFT_LEFT24 16777216.0\\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\\n);}\";\n\nvar lighting = \"\\nuniform float u_ambient : 1.0;uniform float u_diffuse : 1.0;uniform float u_specular : 1.0;uniform int u_num_of_directional_lights : 1;uniform int u_num_of_spot_lights : 0;\\n#define SHININESS 32.0\\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\\n#define MAX_NUM_OF_SPOT_LIGHTS 3\\n#pragma include \\\"common\\\"\\nstruct DirectionalLight {vec3 direction;vec3 ambient;vec3 diffuse;vec3 specular;};struct SpotLight {vec3 position;vec3 direction;vec3 ambient;vec3 diffuse;vec3 specular;float constant;float linear;float quadratic;float angle;float blur;float exponent;};uniform DirectionalLight u_directional_lights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];uniform SpotLight u_spot_lights[MAX_NUM_OF_SPOT_LIGHTS];vec3 calc_directional_light(DirectionalLight light,vec3 normal,vec3 viewDir) {vec3 lightDir=normalize(light.direction);float diff=max(dot(normal,lightDir),0.0);vec3 halfwayDir=normalize(lightDir+viewDir);float spec=pow(max(dot(normal,halfwayDir),0.0),SHININESS);vec3 ambient=light.ambient*u_ambient;vec3 diffuse=light.diffuse*diff*u_diffuse;vec3 specular=light.specular*spec*u_specular;return ambient+diffuse+specular;}vec3 calc_lighting(vec3 position,vec3 normal,vec3 viewDir) {vec3 weight=vec3(0.0);for (int i=0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {if (i >=u_num_of_directional_lights) {break;}weight+=calc_directional_light(u_directional_lights[i],normal,viewDir);}return weight;}\";\n\nvar pick = \"#ifdef PICK\\nif(worldId.x==0.&&worldId.y==0.&& worldId.z==0.){discard;return;}gl_FragColor=worldId;return;\\n#endif\";\n\nvar sdf_2d = \"/***2D signed distance field functions*@see http:*/float ndot(vec2 a,vec2 b ) { return a.x*b.x-a.y*b.y; }float sdCircle(vec2 p,float r) {return length(p)-r;}float sdEquilateralTriangle(vec2 p) {const float k=sqrt(3.0);p.x=abs(p.x)-1.0;p.y=p.y+1.0/k;if( p.x+k*p.y > 0.0 ) p=vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;p.x-=clamp( p.x,-2.0,0.0 );return-length(p)*sign(p.y);}float sdBox(vec2 p,vec2 b) {vec2 d=abs(p)-b;return length(max(d,vec2(0)))+min(max(d.x,d.y),0.0);}float sdPentagon(vec2 p,float r) {const vec3 k=vec3(0.809016994,0.587785252,0.726542528);p.x=abs(p.x);p-=2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);p-=2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);p-=vec2(clamp(p.x,-r*k.z,r*k.z),r);    \\nreturn length(p)*sign(p.y);}float sdHexagon(vec2 p,float r) {const vec3 k=vec3(-0.866025404,0.5,0.577350269);p=abs(p);p-=2.0*min(dot(k.xy,p),0.0)*k.xy;p-=vec2(clamp(p.x,-k.z*r,k.z*r),r);return length(p)*sign(p.y);}float sdOctogon(vec2 p,float r) {const vec3 k=vec3(-0.9238795325,0.3826834323,0.4142135623 );p=abs(p);p-=2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);p-=2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);p-=vec2(clamp(p.x,-k.z*r,k.z*r),r);return length(p)*sign(p.y);}float sdHexagram(vec2 p,float r) {const vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);p=abs(p);p-=2.0*min(dot(k.xy,p),0.0)*k.xy;p-=2.0*min(dot(k.yx,p),0.0)*k.yx;p-=vec2(clamp(p.x,r*k.z,r*k.w),r);return length(p)*sign(p.y);}float sdRhombus(vec2 p,vec2 b) {vec2 q=abs(p);float h=clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);float d=length( q-0.5*b*vec2(1.0-h,1.0+h) );return d*sign( q.x*b.y+q.y*b.x-b.x*b.y );}float sdVesica(vec2 p,float r,float d) {p=abs(p);float b=sqrt(r*r-d*d);return ((p.y-b)*d>p.x*b) \\n? length(p-vec2(0.0,b)): length(p-vec2(-d,0.0))-r;}\";\n\nvar project = \"#define PI 3.1415926535\\n#define E 2.718281828459045\\nvec2 ProjectFlat(vec2 lnglat){float maxs=85.0511287798;float lat=max(min(maxs,lnglat.y),-maxs);float scale=268435456.;float d=PI/180.;float x=lnglat.x*d;float y=lat*d;y=log(tan((PI/4.)+(y/2.)));float a=.5/PI,b=.5,c=-.5/PI;d=.5;x=scale*(a*x+b)-215440491.;y=scale*(c*y+d)-106744817.;return vec2(x,y);}vec2 unProjectFlat(vec2 px){float a=.5/PI;float b=.5;float c=-.5/PI;float d=.5;float scale=268435456.;float x=((px.x+215440491.)/scale-b)/a;float y=((px.y+106744817.)/scale-d)/c;y=(atan(pow(E,y))-(PI/4.))*2.;d=PI/180.;float lat=y/d;float lng=x/d;return vec2(lng,lat);}\";\n\nfunction compileBuiltinModules() {\n  registerModule('point', { vs: point_vert, fs: point_frag });\n  registerModule('common', { vs: common$1, fs: common$1 });\n  registerModule('decode', { vs: decode, fs: '' });\n  registerModule('lighting', { vs: lighting, fs: '' });\n  registerModule('pick', { vs: '', fs: pick });\n  registerModule('sdf_2d', { vs: '', fs: sdf_2d });\n  registerModule('project', { vs: project, fs: '' });\n  registerModule('pick_color', { vs: pick_color, fs: pick_color });\n  registerModule('circle', { vs: circle_vert, fs: circle_frag });\n  registerModule('polygon', { vs: polygon_vert, fs: polygon_frag });\n  registerModule('grid', { vs: grid_vert, fs: grid_frag });\n  registerModule('hexagon', { vs: hexagon_vert, fs: hexagon_frag });\n  registerModule('pointline', { vs: point_line_vert, fs: point_line_frag });\n  registerModule('pointnormal', { vs: normal_point_vert, fs: normal_point_frag });\n  registerModule('meshline', { vs: mesh_line_vert, fs: mesh_line_frag });\n  registerModule('arcline', { vs: arc_line_vert, fs: arc_line_frag });\n  registerModule('greatcircle', { vs: great_circle_line_vert, fs: arc_line_frag });\n  registerModule('line', { vs: line_vert, fs: line_frag });\n  registerModule('heatmap_color', { vs: heatmap_color_vert, fs: heatmap_color_frag });\n  registerModule('heatmap_intensity', { vs: heatmap_intensity_vert, fs: heatmap_intensity_frag });\n  registerModule('text', { vs: text_vert, fs: text_frag });\n  registerModule('image', { vs: image_vert, fs: image_frag });\n  registerModule('raster', { vs: raster_vert, fs: raster_frag });\n  registerModule('tilepolygon', { vs: tile_polygon_vert, fs: tile_polygon_frag });\n  registerModule('mask_quard', { vs: mask_quard_vert, fs: mask_quard_frag });\n\n}\n\nfunction WebWorker() {\n  return (new Worker(exported.workerUrl));\n}\n\n/**\n * Constructs a worker pool.\n * @private\n */\nvar WorkerPool = function WorkerPool() {\n  this.active = {};\n};\n\nWorkerPool.prototype.acquire = function acquire (mapId) {\n  if (!this.workers) {\n    // Lazily look up the value of mapboxgl.workerCount so that\n    // client code has had a chance to set it.\n    this.workers = [];\n    while (this.workers.length < WorkerPool.workerCount) {\n      this.workers.push(new WebWorker());\n    }\n  }\n\n  this.active[mapId] = true;\n  return this.workers.slice();\n};\n\nWorkerPool.prototype.release = function release (mapId) {\n  delete this.active[mapId];\n  if (Object.keys(this.active).length === 0) {\n    this.workers.forEach(function (w) {\n      w.terminate();\n    });\n    this.workers = null;\n  }\n};\n\nWorkerPool.workerCount = Math.max(Math.floor(window.navigator.hardwareConcurrency / 2), 1);\n\nvar tileURLRegex$2 = /\\{([zxy])\\}/g;\nvar VectorTileSource = /*@__PURE__*/(function (Base) {\n  function VectorTileSource(cfg, workerController) {\n    Base.call(this, Object.assign({}, {type: 'vector'},\n      cfg));\n    this.cfg = cfg;\n    this.workerController = workerController;\n    this.urlTemplate = this.get('url');\n  }\n\n  if ( Base ) VectorTileSource.__proto__ = Base;\n  VectorTileSource.prototype = Object.create( Base && Base.prototype );\n  VectorTileSource.prototype.constructor = VectorTileSource;\n  VectorTileSource.prototype.loadTile = function loadTile (tileinfo, callback) {\n    var tileId = tileinfo.id.split('_');\n    var url = this._getTileURL({\n      x: tileId[0],\n      y: tileId[1],\n      z: tileId[2]\n    });\n    var params = Object.assign({}, {id: tileinfo.id,\n      type: 'vector'},\n      this.cfg,\n      {url: url});\n    tileinfo.workerID = this.workerController.send('loadTile', params, done.bind(this));\n    function done(err, data) { // 收到数据，处理数据\n      callback(err, data);\n    }\n  };\n  VectorTileSource.prototype.abortTile = function abortTile (tileinfo) {\n    this.workerController.send('abortTile', { id: tileinfo.id, type: this.get('type'), sourceID: this.get('sourceID') }, undefined, tileinfo.workerID);\n  };\n  VectorTileSource.prototype.unloadTile = function unloadTile (tileinfo) {\n    this.workerController.send('removeTile', { id: tileinfo.id, type: this.get('type'), sourceID: this.get('sourceID') }, undefined, tileinfo.workerID);\n  };\n  VectorTileSource.prototype._getTileURL = function _getTileURL (urlParams) {\n    if (!urlParams.s) {\n      // Default to a random choice of a, b or c\n      urlParams.s = String.fromCharCode(97 + Math.floor(Math.random() * 3));\n    }\n\n    tileURLRegex$2.lastIndex = 0;\n    return this.urlTemplate.replace(tileURLRegex$2, function(value, key) {\n      return urlParams[key];\n    });\n  };\n\n  return VectorTileSource;\n}(actor.Base));\n\nvar r2d$1 = 180 / Math.PI;\nvar VectorTileMesh = function VectorTileMesh(layer, data) {\n  this.layer = layer;\n  this._object3D = new actor.Object3D();\n  this._object3D.name = data.tileId;\n  this._tile = data.tileId.split('_').map(function (v) { return v * 1; });\n  this._tileLnglatBounds = this._tileLnglatBounds(this._tile);\n\n  this._tileBounds = this._tileBounds(this._tileLnglatBounds);\n\n  this._center = this._tileBounds.getCenter();\n\n  this._centerLnglat = this._tileLnglatBounds.getCenter();\n  this._init(data);\n\n  this.maskScene = new actor.Scene();\n  var tileMesh = this._tileMaskMesh();\n  // this._object3D.add(tileMesh);\n  this.maskScene.add(tileMesh);\n  this._bufferData = data;\n};\nVectorTileMesh.prototype._init = function _init (data) {\n  this._createMesh(data);\n\n};\nVectorTileMesh.prototype.getFeatureIndex = function getFeatureIndex (id) {\n  return this._bufferData.featureKey.indexOf(id);\n};\n\nVectorTileMesh.prototype._createMesh = function _createMesh (data) {\n    var this$1 = this;\n\n  this.mesh = getRender(this.layer.get('type'), data.shape)(null, this.layer, data.buffer);\n  if (this.mesh.type !== 'composer') { // 热力图的情况\n    this.mesh.onBeforeRender = function (renderer) {\n      this$1._renderMask(renderer);\n      var zoom = this$1.layer.scene.getZoom();\n      updateObjecteUniform(this$1._object3D, {\n        u_time: this$1.layer.scene._engine.clock.getElapsedTime(),\n        u_zoom: zoom\n      });\n    };\n    this.mesh.onAfterRender = function (renderer) {\n      var context = renderer.context;\n      context.clear(context.STENCIL_BUFFER_BIT);\n      context.disable(context.STENCIL_TEST);\n    };\n    this._object3D.add(this.mesh);\n  } else { // 如果是热力图\n    this._object3D = this.mesh;\n  }\n  return this._object3D;\n};\nVectorTileMesh.prototype.getMesh = function getMesh () {\n  return this._object3D;\n};\n\nVectorTileMesh.prototype._renderMask = function _renderMask (renderer) {\n  if (this.layer.get('layerType') === 'point') { // 点图层目前不需要mask\n    return;\n  }\n  var context = renderer.context;\n  renderer.autoClear = false;\n  renderer.clearDepth();\n  context.enable(context.STENCIL_TEST);\n  context.stencilOp(context.REPLACE, context.REPLACE, context.REPLACE);\n  context.stencilFunc(context.ALWAYS, 1, 0xffffffff);\n  context.clearStencil(0);\n  context.clear(context.STENCIL_BUFFER_BIT);\n  context.colorMask(false, false, false, false);\n\n  // config the stencil buffer to collect data for testing\n  this.layer.scene._engine.renderScene(this.maskScene);\n  context.colorMask(true, true, true, true);\n  context.depthMask(false);\n  renderer.clearDepth();\n\n  // only render where stencil is set to 1\n\n  context.stencilFunc(context.EQUAL, 1, 0xffffffff); // draw if == 1\n  context.stencilOp(context.KEEP, context.KEEP, context.KEEP);\n};\nVectorTileMesh.prototype._tileMaskMesh = function _tileMaskMesh () {\n  var tilebound = this._tileBounds;\n  var bl = [ tilebound.getBottomLeft().x, tilebound.getBottomLeft().y, 0 ];\n  var br = [ tilebound.getBottomRight().x, tilebound.getBottomRight().y, 0 ];\n  var tl = [ tilebound.getTopLeft().x, tilebound.getTopLeft().y, 0 ];\n  var tr = [ tilebound.getTopRight().x, tilebound.getTopRight().y, 0 ];\n  var positions = new Float32Array(bl.concat( tr, br, bl, tl, tr ));\n  var geometry = new actor.BufferGeometry();\n  geometry.addAttribute('position', new actor.Float32BufferAttribute(positions, 3));\n  var maskMaterial = new MaskMaterial();\n  var maskMesh = new actor.Mesh(geometry, maskMaterial);\n  return maskMesh;\n};\nVectorTileMesh.prototype.getSelectFeature = function getSelectFeature (id) {\n  var featurekey = this.layerSource.originData.featureKeys[id];\n  if (featurekey && featurekey.index !== undefined) {\n    var featureIndex = featurekey.index;\n    return this.layerSource.originData.dataArray[featureIndex];\n  }\n  return null;\n};\nVectorTileMesh.prototype._tileBounds = function _tileBounds (lnglatBound) {\n  var ne = this.layer.scene.project([ lnglatBound.getNorthEast().lng, lnglatBound.getNorthEast().lat ]);\n  var sw = this.layer.scene.project([ lnglatBound.getSouthWest().lng, lnglatBound.getSouthWest().lat ]);\n  return lib_3(sw, ne);\n};\n// Get tile bounds in WGS84 coordinates\nVectorTileMesh.prototype._tileLnglatBounds = function _tileLnglatBounds (tile) {\n  var e = this._tile2lng(tile[0] + 1, tile[2]);\n  var w = this._tile2lng(tile[0], tile[2]);\n  var s = this._tile2lat(tile[1] + 1, tile[2]);\n  var n = this._tile2lat(tile[1], tile[2]);\n  return lib_7([ w, n ], [ e, s ]);\n};\n\nVectorTileMesh.prototype._tile2lng = function _tile2lng (x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n};\n\nVectorTileMesh.prototype._tile2lat = function _tile2lat (y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return r2d$1 * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n};\n\nVectorTileMesh.prototype.destroy = function destroy () {\n  destoryObject(this._object3D);\n  destoryObject(this.maskScene);\n  this._object3D = null;\n  this.maskScene = null;\n  this.layerData = null;\n};\n\n// 统一管理 source 添加，管理，更新\nvar SouceCache = /*@__PURE__*/(function (Base) {\n  function SouceCache(scene, cfg) {\n    Base.call(this, Object.assign({}, {cacheLimit: 50,\n      minZoom: 0,\n      maxZoom: 18,\n      keepBuffer: 0},\n      cfg));\n    this._tileMap = {};// 视野内瓦片坐标序列\n    this.tileList = {}; // 正在使用的瓦片坐标，记录瓦片的使用状态\n    this.scene = scene;\n    // TODO 销毁函数\n    this._tileCache = new TileCache(this.get('cacheLimit'), this._destroyTile.bind(this));\n    this._crs = crsEpsg3857_1;\n    this.layers = this.scene.getLayers();\n    this._source = new VectorTileSource(cfg, this.scene.style.WorkerController);\n    this.layersTiles = {}; // 存储当前source所有layer的瓦片\n  }\n\n  if ( Base ) SouceCache.__proto__ = Base;\n  SouceCache.prototype = Object.create( Base && Base.prototype );\n  SouceCache.prototype.constructor = SouceCache;\n  SouceCache.prototype.getLayerById = function getLayerById (id) {\n    var layers = this.scene.getLayers();\n    for (var i = 0; i < layers.length; i += 1) {\n      if (layers[i].layerId === id * 1) {\n        return layers[i];\n      }\n    }\n  };\n\n  /**\n   * 移除视野外的瓦片，计算新增的瓦片数据\n   * @param {*}tileMap 瓦片列表\n   */\n\n  SouceCache.prototype.update = function update () {\n    var this$1 = this;\n\n    this._calculateTileIDs();\n    var loop = function ( i ) {\n      // 瓦片相关参数\n      var tileId = this$1.updateTileList[i].join('_');\n      var tileinfo = this$1.tileList[tileId];\n      tileinfo.loading = true;\n      var tiles = this$1._tileCache.getTile(tileId);\n      if (tiles !== undefined) {\n        tileinfo.active = true;\n        tileinfo.loaded = true;\n        for (var layerId in tiles.mesh) {\n          var layer = this$1.getLayerById(layerId);\n          var tileMesh = tiles.mesh[layerId];\n          layer.tiles.add(tileMesh.getMesh());\n          this$1._addPickMesh(layer, tileMesh.getMesh());\n          this$1.scene._engine.update();\n        }\n        this$1._pruneTiles();\n        return;\n      }\n      this$1._source.loadTile(tileinfo, function (err, data) {\n        if (!err && data !== undefined) {\n          this$1._renderTile(tileinfo, data);\n          tileinfo.active = true;\n        }\n        tileinfo.loaded = true;\n        this$1._pruneTiles();\n      });\n    };\n\n    for (var i = 0; i < this$1.updateTileList.length; i++) loop( i );\n  };\n\n  SouceCache.prototype._renderTile = function _renderTile (tileinfo, data) {\n    var tileId = tileinfo.id;\n    var tiles = {\n      rawData: data.rawTileData,\n      mesh: {}\n    };\n    for (var layerId in data.buffer) {\n      var layer = this.getLayerById(layerId);\n      var tileMesh = new VectorTileMesh(layer, data.buffer[layerId]);\n      tiles.mesh[layerId] = tileMesh;\n      layer.tiles.add(tileMesh.getMesh());\n      this._addPickMesh(layer, tileMesh.getMesh());\n      this.scene._engine.update();\n    }\n\n    this._tileCache.setTile(tiles, tileId);\n  };\n  SouceCache.prototype.getSelectFeature = function getSelectFeature (featureId, layerId, lnglat) {\n    var zoom = this.tileZoom;\n    var tilePoint = this._crs.lngLatToPoint(lib_5(lnglat.lng, lnglat.lat), zoom);\n    var tileXY = tilePoint.divideBy(256).floor();\n    var tile = this._getParentTile(tileXY.x, tileXY.y, zoom, zoom - 3);\n    var layer = this.getLayerById(layerId);\n    var sourceLayer = layer.get('sourceOption').parser.sourceLayer;\n    var featureIndex = tile.mesh[layerId].getFeatureIndex(featureId);\n    var feature = this._getVectorFeature(tile.rawData, sourceLayer, featureIndex);\n    return feature ? feature.toGeoJSON(tileXY.x, tileXY.y, zoom) : { };\n  };\n  SouceCache.prototype._getParentTile = function _getParentTile (x, y, z, minZoom) {\n    if (z < minZoom) { return null; }\n    var key = [ x, y, z ].join('_');\n    var tile = this._tileCache.getTile(key);\n    if (!tile) {\n      return this._getParentTile(Math.floor(x / 2), Math.floor(y / 2), z - 1);\n    }\n    return tile;\n  };\n\n  SouceCache.prototype._getVectorFeature = function _getVectorFeature (rawTile, sourceLayer, featureIndex) {\n    var vectorTile = new actor.VectorTile(new actor.PBF(rawTile));\n    if (featureIndex < 0) {\n      return;\n    }\n    return vectorTile.layers[sourceLayer].feature(featureIndex);\n\n  };\n  // 计算视野内的瓦片坐标\n  SouceCache.prototype._calculateTileIDs = function _calculateTileIDs () {\n    this._tileMap = {};\n    this.updateTileList = [];\n    var zoom = Math.floor(this.scene.getZoom()); // - window.window.devicePixelRatio + 1; // zoom - 1\n    var minSourceZoom = this.get('minZoom');\n    var maxSourceZoom = this.get('maxZoom');\n    this.tileZoom = zoom > maxSourceZoom ? maxSourceZoom : zoom;\n    var currentZoom = this.scene.getZoom();\n    if (currentZoom < minSourceZoom) {\n      this._removeTiles();\n      // 小于source最小范围不在处理\n      return;\n    }\n    var pixelBounds = this._getPixelBounds();\n    var tileRange = this._pxBoundsToTileRange(pixelBounds);\n    var margin = this.get('keepBuffer');\n    var center = this.scene.getCenter();\n    var centerPoint = this.scene.crs.lngLatToPoint(lib_5(center.lng, center.lat), this.tileZoom);\n    var centerXY = centerPoint.divideBy(256).floor();\n    this._noPruneRange = new lib_2(tileRange.getBottomLeft().subtract([ margin, -margin ]),\n      tileRange.getTopRight().add([ margin, -margin ]));\n    if (!(isFinite(tileRange.min.x) &&\n      isFinite(tileRange.min.y) &&\n      isFinite(tileRange.max.x) &&\n      isFinite(tileRange.max.y))) { throw new Error('Attempted to load an infinite number of tiles'); }\n    for (var j = tileRange.min.y; j <= tileRange.max.y; j++) {\n      for (var i = tileRange.min.x; i <= tileRange.max.x; i++) {\n        var coords = [ i, j, this.tileZoom ];\n        var tile = this.tileList[coords.join('_')];\n        if (tile && tile.loading) {\n          tile.current = true;\n          tile.retain = true;\n        } else {\n          this.tileList[coords.join('_')] = {\n            current: true,\n            active: false,\n            retain: true,\n            loading: false,\n            coords: coords,\n            id: coords.join('_')\n          };\n          this.updateTileList.push(coords);\n        }\n      }\n    }\n    // 根据中心点排序\n    this.updateTileList.sort(function (a, b) {\n      var tile1 = a;\n      var tile2 = b;\n      var d1 = Math.pow((tile1[0] * 1 - centerXY.x), 2) + Math.pow((tile1[1] * 1 - centerXY.y), 2);\n      var d2 = Math.pow((tile2[0] * 1 - centerXY.x), 2) + Math.pow((tile2[1] * 1 - centerXY.y), 2);\n      return d1 - d2;\n    });\n    this._pruneTiles();\n  };\n  SouceCache.prototype._getPixelBounds = function _getPixelBounds () {\n    var viewPort = this.scene.getBounds().toBounds();\n    var NE = viewPort.getNorthEast();\n    var SW = viewPort.getSouthWest();\n    var zoom = this.tileZoom;\n    var center = this.scene.getCenter();\n    var NEPoint = this.scene.crs.lngLatToPoint(lib_5(NE.lng, NE.lat), zoom);\n    var SWPoint = this.scene.crs.lngLatToPoint(lib_5(SW.lng, SW.lat), zoom);\n    var centerPoint = this.scene.crs.lngLatToPoint(lib_5(center.lng, center.lat), zoom);\n    var topHeight = centerPoint.y - NEPoint.y;\n    var bottomHeight = SWPoint.y - centerPoint.y;\n    // 跨日界线的情况\n    var leftWidth;\n    var rightWidth;\n    if (center.lng - NE.lng > 0 || center.lng - SW.lng < 0) {\n      var width = Math.pow(2, zoom) * 256 / 360 * (180 - NE.lng) + Math.pow(2, zoom) * 256 / 360 * (SW.lng + 180);\n      if (center.lng - NE.lng > 0) { // 日界线在右侧\n        leftWidth = Math.pow(2, zoom) * 256 / 360 * (center.lng - NE.lng);\n        rightWidth = width - leftWidth;\n      } else {\n        rightWidth = Math.pow(2, zoom) * 256 / 360 * (SW.lng - center.lng);\n        leftWidth = width - rightWidth;\n      }\n    } else { // 不跨日界线\n      leftWidth = Math.pow(2, zoom) * 256 / 360 * (center.lng - SW.lng);\n      rightWidth = Math.pow(2, zoom) * 256 / 360 * (NE.lng - center.lng);\n    }\n    var pixelBounds = new lib_2(centerPoint.subtract(leftWidth, topHeight), centerPoint.add(rightWidth, bottomHeight));\n    return pixelBounds;\n  };\n  SouceCache.prototype._pxBoundsToTileRange = function _pxBoundsToTileRange (pixelBounds) {\n    return new lib_2(\n      pixelBounds.min.divideBy(256).floor(),\n      pixelBounds.max.divideBy(256).ceil().subtract([ 1, 1 ])\n    );\n  };\n\n  SouceCache.prototype._loadTile = function _loadTile (tile, callback) {\n    return this._source.loadTile(tile, callback);\n\n  };\n  SouceCache.prototype._unloadTile = function _unloadTile (tile) {\n    if (this._source.unloadTile) {\n      return this._source.unloadTile(tile, function () { });\n    }\n  };\n\n  SouceCache.prototype._abortTile = function _abortTile (tile) {\n    if (this._source.abortTile) {\n      return this._source.abortTile(tile, function () { });\n    }\n  };\n  SouceCache.prototype.reload = function reload () {\n\n  };\n\n  SouceCache.prototype._reloadTile = function _reloadTile () {\n\n  };\n  SouceCache.prototype._removeTile = function _removeTile () {\n\n  };\n  SouceCache.prototype.clearTiles = function clearTiles () {\n\n  };\n  SouceCache.prototype._pruneTiles = function _pruneTiles () {\n    var tile;\n    var zoom = this.tileZoom;\n    for (var key in this.tileList) {\n      var c = this.tileList[key].coords;\n      if (c[2] !== zoom || !this._noPruneRange.contains(new lib_8(c[0], c[1]))) {\n        this.tileList[key].current = false;\n        this.tileList[key].retain = false;\n      }\n    }\n    for (var key$1 in this.tileList) {\n      tile = this.tileList[key$1];\n      if (tile.current && !tile.active) {\n        var ref = key$1.split('_').map(function (v) { return v * 1; });\n        var x = ref[0];\n        var y = ref[1];\n        var z = ref[2];\n        if (!this._retainParent(x, y, z, z - 5)) {\n          this._retainChildren(x, y, z, z + 2);\n        }\n      }\n\n    }\n    this._removeOutTiles();\n  };\n  SouceCache.prototype._retainParent = function _retainParent (x, y, z, minZoom) {\n    var x2 = Math.floor(x / 2);\n    var y2 = Math.floor(y / 2);\n    var z2 = z - 1;\n    var tile = this.tileList[[ x2, y2, z2 ].join('_')];\n    if (tile && tile.active) {\n      tile.retain = true;\n      tile.current = true;\n      return true;\n    } else if (tile && tile.loaded) {\n      tile.retain = true;\n    }\n    if (z2 > minZoom) {\n      return this._retainParent(x2, y2, z2, minZoom);\n    }\n\n    return false;\n\n  };\n  SouceCache.prototype._retainChildren = function _retainChildren (x, y, z, maxZoom) {\n    for (var i = 2 * x; i < 2 * x + 2; i++) {\n      for (var j = 2 * y; j < 2 * y + 2; j++) {\n        var key = [ i, j, z + 1 ].join('_');\n        var tile = this.tileList[key];\n        if (tile && tile.active) {\n          tile.retain = true;\n          tile.current = true;\n          continue;\n        } else if (tile && tile.loaded) {\n          tile.retain = true;\n          tile.current = true;\n        }\n\n        if (z + 1 < maxZoom) {\n          this._retainChildren(i, j, z + 1, maxZoom);\n        }\n      }\n    }\n  };\n  // 地图拾取\n  SouceCache.prototype._addPickMesh = function _addPickMesh (layer, meshObj) {\n    if (this.type === 'image') {\n      return;\n    }\n    var pickCtr = layer.get('pickingController');\n    var mesh = meshObj.children[0];\n    mesh.name = meshObj.name;\n    pickCtr.addPickMesh(mesh);\n  };\n  SouceCache.prototype._removeOutTiles = function _removeOutTiles () {\n    var this$1 = this;\n\n    // 移除视野外的tile\n    for (var key in this.tileList) {\n      if (!this.tileList[key].retain) {\n        this._abortTile(this.tileList[key]);\n        this._unloadTile(this.tileList[key]);\n        delete this.tileList[key];\n      }\n    }\n    var layers = this.scene.getLayers();\n    var loop = function ( i ) {\n      var id = this$1.get('sourceID');\n      var layerSource = layers[i].get('sourceOption').id;\n      if (layerSource !== id) {\n        return {};\n      }\n      layers[i].tiles.children.forEach(function (tile) {\n        var key = tile.name;\n        if (!this$1.tileList[key]) {\n          layers[i].tiles.remove(tile);\n          var pickCtr = layers[i].get('pickingController');\n          pickCtr && pickCtr.removePickMeshByName(key);\n        }\n      });\n    };\n\n    for (var i = 0; i < layers.length; i++) {\n      var returned = loop( i );\n\n      if ( returned ) return returned.v;\n    }\n    // 移除对应的数据\n  };\n  SouceCache.prototype._destroyTile = function _destroyTile (tile, key) {\n    this._unloadTile(key);\n  };\n\n  return SouceCache;\n}(actor.Base));\n\nvar id$1 = 1;\nfunction asyncAll(\n  array,\n  fn,\n  callback\n) {\n  if (!array.length) { return callback(null, []); }\n  var remaining = array.length;\n  var results = new Array(array.length);\n  var error = null;\n  array.forEach(function (item, i) {\n    fn(item, function (err, result) {\n      if (err) { error = err; }\n      results[i] = ((result));\n      if (--remaining === 0) { callback(error, results); }\n    });\n  });\n}\n\nvar WorkerController = function WorkerController(workerPool, parent) {\n  this.workerPool = workerPool;\n  this.actors = [];\n  this.currentActor = 0;\n  this.id = id$1++;\n  var workers = this.workerPool.acquire(this.id);\n\n  for (var i = 0; i < workers.length; i++) {\n    var worker = workers[i];\n    var actor = new WorkerController.Actor(worker, parent, this.id);\n    actor.name = \"Worker \" + i;\n    this.actors.push(actor);\n  }\n};\n\n/**\n * Broadcast a message to all Workers.\n */\n\nWorkerController.prototype.broadcast = function broadcast (type, data, cb) {\n  cb = cb || function() { };\n  asyncAll(this.actors, function (actor, done) {\n    actor.send(type, data, done);\n  }, cb);\n};\n\n\nWorkerController.prototype.send = function send (type, data, callback, targetID) {\n  if (typeof targetID !== 'number' || isNaN(targetID)) {\n    // Use round robin to send requests to web workers.\n    targetID = this.currentActor = (this.currentActor + 1) % this.actors.length;\n  }\n  this.actors[targetID].send(type, data, callback, targetID);\n  return targetID;\n};\n\nWorkerController.prototype.remove = function remove () {\n  this.actors.forEach(function (actor) { actor.remove(); });\n  this.actors = [];\n  this.workerPool.release(this.id);\n};\nWorkerController.Actor = actor.Actor;\n\nvar omitOption = [ 'mappingController', 'interacionController', 'pickingController', 'interactions', 'eventController' ];\n// 统一管理所有的Source\n// 统一管理地图样式\nvar Style = /*@__PURE__*/(function (Base) {\n  function Style(scene, cfg) {\n    Base.call(this, cfg);\n    this.scene = scene;\n    this._sourceCaches = {};\n    this.WorkerPool = new WorkerPool();\n    this._tileMap = {};\n    this.WorkerController = new WorkerController(this.WorkerPool, this);\n    this.layerStyles = {};\n    this.layers = [];\n    this.addMapEvent();\n  }\n\n  if ( Base ) Style.__proto__ = Base;\n  Style.prototype = Object.create( Base && Base.prototype );\n  Style.prototype.constructor = Style;\n  Style.prototype.addSource = function addSource (id, sourceCfg) {\n    if (this._sourceCaches[id] !== undefined) {\n      throw new Error('SourceID 已存在');\n    }\n    sourceCfg.sourceID = id;\n    this._sourceCaches[id] = new SouceCache(this.scene, sourceCfg);\n  };\n  Style.prototype.getSource = function getSource (id) {\n    return this._sourceCaches[id];\n  };\n  Style.prototype.addLayer = function addLayer (layer) {\n    var id = layer.layerId;\n    this.layers[id] = layer;\n  };\n  // 设置\n  Style.prototype._addTileStyle = function _addTileStyle (layerCfg) {\n    var layerid = layerCfg.layerId;\n    var newLayerCfg = {};\n    for (var key in layerCfg) { // 过滤不可传递对象\n      if (omitOption.indexOf(key) === -1) {\n        newLayerCfg[key] = layerCfg[key];\n      }\n    }\n    this.layerStyles[layerid] = newLayerCfg;\n    this._layerStyleGroupBySourceID();\n\n    this.WorkerController.broadcast('setLayers', this.layerStyles);\n    // TODO 更新 style\n\n  };\n  Style.prototype.removeTileStyle = function removeTileStyle (id) {\n    delete this.layerStyles[id];\n    this._layerStyleGroupBySourceID();\n\n  };\n  Style.prototype._layerStyleGroupBySourceID = function _layerStyleGroupBySourceID () {\n    var sourceStyles = [];\n    // 支持VectorLayer\n    for (var layerId in this.layerStyles) {\n      var sourceID = this.layerStyles[layerId].sourceOption.id;\n      var sourcelayer = this.layerStyles[layerId].sourceOption.parser.sourceLayer;\n      if (!sourceStyles[sourceID]) { sourceStyles[sourceID] = {}; }\n      if (!sourceStyles[sourceID][sourcelayer]) { sourceStyles[sourceID][sourcelayer] = []; }\n      sourceStyles[sourceID][sourcelayer].push(this.layerStyles[layerId]);\n    }\n    this.sourceStyles = sourceStyles;\n  };\n  Style.prototype.update = function update (parameters) {\n    this._addTileStyle(parameters);\n    for (var key in this._sourceCaches) {\n      this._sourceCaches[key].update(this.layers, this.sourceStyles[key]);\n    }\n\n  };\n  Style.prototype.addMapEvent = function addMapEvent () {\n    var this$1 = this;\n\n    this.mapEventHander = throttle(function () {\n      requestAnimationFrame(function () {\n        for (var key in this$1._sourceCaches) {\n          this$1._sourceCaches[key].update(this$1.layers, this$1.sourceStyles[key]);\n        }\n      });\n    }, 200);\n    this.scene.map.on('zoomchange', this.mapEventHander);\n    this.scene.map.on('dragend', this.mapEventHander);\n  };\n  Style.prototype.clearMapEvent = function clearMapEvent () {\n    this.scene.map.off('zoomchange', this.mapEventHander);\n    this.scene.map.off('dragend', this.mapEventHander);\n  };\n  Style.prototype.destroy = function destroy () {\n    this.WorkerController.remove();\n\n  };\n\n  return Style;\n}(actor.Base));\n\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n// @function splitWords(str: String): String[]\n// Trims and splits the string on whitespace and returns the array of parts.\nfunction splitWords(str) {\n  return trim(str).split(/\\s+/);\n}\n\nvar docStyle = window.document.documentElement.style;\nfunction testProp(props) {\n  if (!docStyle) { return props[0]; }\n  for (var i = 0; i < props.length; i++) {\n    if (props[i] in docStyle) {\n      return props[i];\n    }\n  }\n  return props[0];\n}\nfunction create(tagName, className, container) {\n  var el = document.createElement(tagName);\n  el.className = className || '';\n\n  if (container) {\n    container.appendChild(el);\n  }\n  return el;\n}\n// @function remove(el: HTMLElement)\n// Removes `el` from its parent element\nfunction remove(el) {\n  var parent = el.parentNode;\n  if (parent) {\n    parent.removeChild(el);\n  }\n}\n\n// @function addClass(el: HTMLElement, name: String)\n// Adds `name` to the element's class attribute.\nfunction addClass(el, name) {\n  if (el.classList !== undefined) {\n    var classes = splitWords(name);\n    for (var i = 0, len = classes.length; i < len; i++) {\n      el.classList.add(classes[i]);\n    }\n  } else if (!hasClass(el, name)) {\n    var className = getClass(el);\n    setClass(el, (className ? className + ' ' : '') + name);\n  }\n}\n\n// @function removeClass(el: HTMLElement, name: String)\n// Removes `name` from the element's class attribute.\nfunction removeClass(el, name) {\n  if (el.classList !== undefined) {\n    el.classList.remove(name);\n  } else {\n    setClass(el, trim((' ' + getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\n  }\n}\n\n// @function hasClass(el: HTMLElement, name: String): Boolean\n// Returns `true` if the element's class attribute contains `name`.\nfunction hasClass(el, name) {\n  if (el.classList !== undefined) {\n    return el.classList.contains(name);\n  }\n  var className = getClass(el);\n  return className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\n}\n\n// @function setClass(el: HTMLElement, name: String)\n// Sets the element's class.\nfunction setClass(el, name) {\n  if (el.className.baseVal === undefined) {\n    el.className = name;\n  } else {\n    // in case of SVG element\n    el.className.baseVal = name;\n  }\n}\n\n// @function getClass(el: HTMLElement): String\n// Returns the element's class.\nfunction getClass(el) {\n  // Check if the element is an SVGElementInstance and use the correspondingElement instead\n  // (Required for linked SVG elements in IE11.)\n  if (el.correspondingElement) {\n    el = el.correspondingElement;\n  }\n  return el.className.baseVal === undefined ? el.className : el.className.baseVal;\n}\n\nfunction empty(el) {\n  while (el.firstChild) {\n    el.removeChild(el.firstChild);\n  }\n}\n\nvar transformProp = testProp([ 'transform', 'WebkitTransform' ]);\n\nfunction setTransform(el, value) {\n  el.style[transformProp] = value;\n}\n\nvar Control = function Control(cfg) {\n  actor.Util.assign(this, cfg);\n  this._initControlPos();\n};\nControl.prototype.addControl = function addControl (control) {\n  control.addTo(this.scene);\n};\nControl.prototype.removeControl = function removeControl (control) {\n  control.remove();\n  return this;\n};\nControl.prototype._initControlPos = function _initControlPos () {\n  var corners = this._controlCorners = {};\n  var l = 'l7-';\n  var container = this._controlContainer =\n    create('div', l + 'control-container', this.scene.getContainer());\n\n  function createCorner(vSide, hSide) {\n    var className = l + vSide + ' ' + l + hSide;\n\n    corners[vSide + hSide] = create('div', className, container);\n  }\n\n  createCorner('top', 'left');\n  createCorner('top', 'right');\n  createCorner('bottom', 'left');\n  createCorner('bottom', 'right');\n};\nControl.prototype.clearControlPos = function clearControlPos () {\n  for (var i in this._controlCorners) {\n    remove(this._controlCorners[i]);\n  }\n  remove(this._controlContainer);\n  delete this._controlCorners;\n  delete this._controlContainer;\n};\n\nvar Control$1 = /*@__PURE__*/(function (Base) {\n  function Control(cfg) {\n    Base.call(this, Object.assign({}, {position: 'topright'},\n      cfg));\n  }\n\n  if ( Base ) Control.__proto__ = Base;\n  Control.prototype = Object.create( Base && Base.prototype );\n  Control.prototype.constructor = Control;\n  Control.prototype.setPosition = function setPosition (position) {\n    var scene = this._scene;\n    if (scene) {\n      scene.removeControl(this);\n    }\n    this.set('position', position);\n    if (scene) {\n      scene.addControl(this);\n    }\n    return this;\n  };\n  Control.prototype.getContainer = function getContainer () {\n    return this._container;\n  };\n  Control.prototype.addTo = function addTo (scene) {\n    this.remove();\n    this.isShow = true;\n    this._scene = scene;\n    var container = this._container = this.onAdd(scene);\n    var pos = this.get('position');\n    var corner = scene.get('controlController')._controlCorners[pos];\n    addClass(container, 'l7-control');\n\n    if (pos.indexOf('bottom') !== -1) {\n      corner.insertBefore(container, corner.firstChild);\n    } else {\n      corner.appendChild(container);\n    }\n    return this;\n  };\n  Control.prototype.hide = function hide () {\n    var container = this._container;\n    addClass(container, 'l7-control-hide');\n    this.isShow = false;\n  };\n  Control.prototype.show = function show () {\n    var container = this._container;\n    removeClass(container, 'l7-control-hide');\n    this.isShow = true;\n  };\n  Control.prototype.remove = function remove$1 () {\n    if (!this._scene) {\n      return this;\n    }\n    remove(this._container);\n  };\n  Control.prototype._refocusOnMap = function _refocusOnMap (e) {\n    // if map exists and event is not a keyboard event\n    if (this._scene && e && e.screenX > 0 && e.screenY > 0) {\n      this._scene.getContainer().focus();\n    }\n  };\n\n  return Control;\n}(actor.Base));\n\nvar Zoom = /*@__PURE__*/(function (Control) {\n  function Zoom(cfg) {\n    Control.call(this, Object.assign({}, {position: 'topleft',\n      zoomInText: '+',\n      zoomInTitle: 'Zoom in',\n      zoomOutText: '&#x2212;',\n      zoomOutTitle: 'Zoom out'},\n      cfg));\n    actor.bindAll([ '_updateDisabled', '_zoomIn', '_zoomOut' ], this);\n    this._disabled = false;\n  }\n\n  if ( Control ) Zoom.__proto__ = Control;\n  Zoom.prototype = Object.create( Control && Control.prototype );\n  Zoom.prototype.constructor = Zoom;\n  Zoom.prototype.onAdd = function onAdd (scene) {\n    var zoomName = 'l7-control-zoom';\n    var container = create('div', zoomName + ' l7-bar');\n\n    this._zoomInButton = this._createButton(this.get('zoomInText'), this.get('zoomInTitle'),\n      zoomName + '-in', container, this._zoomIn);\n    this._zoomOutButton = this._createButton(this.get('zoomOutText'), this.get('zoomOutTitle'),\n      zoomName + '-out', container, this._zoomOut);\n    scene.on('zoomend', this._updateDisabled);\n    scene.on('zoomchange', this._updateDisabled);\n    this._updateDisabled();\n    return container;\n  };\n  Zoom.prototype.onRemove = function onRemove (scene) {\n    scene.off('zoomend', this._updateDisabled);\n    scene.off('zoomchange', this._updateDisabled);\n  };\n  Zoom.prototype.disable = function disable () {\n    this._disabled = true;\n    this._updateDisabled();\n    return this;\n  };\n  Zoom.prototype.enable = function enable () {\n    this._disabled = false;\n    this._updateDisabled();\n    return this;\n  };\n  Zoom.prototype._zoomIn = function _zoomIn () {\n    if (!this._disabled && this._scene.getZoom() < this._scene.get('maxZoom')) {\n      this._scene.zoomIn();\n    }\n  };\n  Zoom.prototype._zoomOut = function _zoomOut () {\n    if (!this._disabled && this._scene.getZoom() > this._scene.get('minZoom')) {\n      this._scene.zoomOut();\n    }\n  };\n  Zoom.prototype._createButton = function _createButton (html, tile, className, container, fn) {\n    var link = create('a', className, container);\n    link.innerHTML = html;\n    link.href = '#';\n    link.tile = tile;\n    link.addEventListener('click', fn);\n    return link;\n  };\n  Zoom.prototype._updateDisabled = function _updateDisabled () {\n    var scene = this._scene;\n    var className = 'l7-disabled';\n    removeClass(this._zoomInButton, className);\n    removeClass(this._zoomOutButton, className);\n    if (this._disabled || scene.getZoom() <= scene.get('minZoom')) {\n      addClass(this._zoomOutButton, className);\n    }\n    if (this._disabled || scene.getZoom() >= scene.get('maxZoom')) {\n      addClass(this._zoomInButton, className);\n    }\n  };\n\n  return Zoom;\n}(Control$1));\n\nvar Scale = /*@__PURE__*/(function (Control) {\n  function Scale(cfg) {\n    Control.call(this, Object.assign({}, {position: 'bottomleft',\n      maxWidth: 100,\n      metric: true,\n      updateWhenIdle: false,\n      imperial: false},\n      cfg));\n    actor.bindAll([ '_update' ], this);\n  }\n\n  if ( Control ) Scale.__proto__ = Control;\n  Scale.prototype = Object.create( Control && Control.prototype );\n  Scale.prototype.constructor = Scale;\n  Scale.prototype.onAdd = function onAdd (scene) {\n    var className = 'l7-control-scale';\n    var container = create('div', className);\n    this._addScales(className + '-line', container);\n\n    scene.on(this.get('updateWhenIdle') ? 'moveend' : 'mapmove', this._update);\n    this._update();\n\n    return container;\n  };\n  Scale.prototype.onRemove = function onRemove (scene) {\n    scene.off(this.get('updateWhenIdle') ? 'moveend' : 'mapmove', this._update);\n  };\n  Scale.prototype._addScales = function _addScales (className, container) {\n\n    if (this.get('metric')) {\n      this._mScale = create('div', className, container);\n    }\n    if (this.get('imperial')) {\n      this._iScale = create('div', className, container);\n    }\n  };\n  Scale.prototype._update = function _update () {\n    var scene = this._scene;\n\n    var y = this._scene.getSize().height / 2;\n\n    var p1 = scene.containerToLngLat({ x: 0, y: y });\n    var p2 = scene.containerToLngLat({ x: this.get('maxWidth'), y: y });\n    var maxMeters = scene.crs.distance(lngLat_2(p1.lng, p1.lat), lngLat_2(p2.lng, p2.lat));\n    this._updateScales(maxMeters);\n  };\n  Scale.prototype._updateScales = function _updateScales (maxMeters) {\n    if (this.get('metric') && maxMeters) {\n      this._updateMetric(maxMeters);\n    }\n    if (this.get('imperial') && maxMeters) {\n      this._updateImperial(maxMeters);\n    }\n  };\n  Scale.prototype._updateMetric = function _updateMetric (maxMeters) {\n    var meters = this._getRoundNum(maxMeters),\n      label = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';\n    this._updateScale(this._mScale, label, meters / maxMeters);\n  };\n  Scale.prototype._updateImperial = function _updateImperial (maxMeters) {\n    var maxFeet = maxMeters * 3.2808399;\n    var maxMiles,\n      miles,\n      feet;\n\n    if (maxFeet > 5280) {\n      maxMiles = maxFeet / 5280;\n      miles = this._getRoundNum(maxMiles);\n      this._updateScale(this._iScale, miles + ' mi', miles / maxMiles);\n\n    } else {\n      feet = this._getRoundNum(maxFeet);\n      this._updateScale(this._iScale, feet + ' ft', feet / maxFeet);\n    }\n  };\n  Scale.prototype._updateScale = function _updateScale (scale, text, ratio) {\n    scale.style.width = Math.round(this.get('maxWidth') * ratio) + 'px';\n    scale.innerHTML = text;\n  };\n  Scale.prototype._getRoundNum = function _getRoundNum (num) {\n    var pow10 = Math.pow(10, (Math.floor(num) + '').length - 1);\n    var d = num / pow10;\n\n    d = d >= 10 ? 10 :\n      d >= 5 ? 5 :\n        d >= 3 ? 3 :\n          d >= 2 ? 2 : 1;\n\n    return pow10 * d;\n  };\n\n  return Scale;\n}(Control$1));\n\nvar Attribution = /*@__PURE__*/(function (Control) {\n  function Attribution(cfg) {\n    Control.call(this, Object.assign({}, {position: 'bottomright',\n      prefix: '<a href=\"https://antv.alipay.com/zh-cn/l7/1.x/index.html\" title=\"地理空间数据可视化引擎\">AntV L7</a>'},\n      cfg));\n    this._attributions = {};\n  }\n\n  if ( Control ) Attribution.__proto__ = Control;\n  Attribution.prototype = Object.create( Control && Control.prototype );\n  Attribution.prototype.constructor = Attribution;\n  Attribution.prototype.onAdd = function onAdd (scene) {\n    this._container = create('div', 'l7-control-attribution');\n    var layers = scene.getLayers();\n    for (var i in layers) {\n      if (layers[i].get('attribution')) {\n        this.addAttribution(layers[i].get('attribution'));\n      }\n    }\n\n    this._update();\n\n    return this._container;\n  };\n\n  Attribution.prototype.setPrefix = function setPrefix (prefix) {\n    this.set('prefix', prefix);\n    this._update();\n    return this;\n  };\n  Attribution.prototype.addAttribution = function addAttribution (text) {\n    if (!text) { return this; }\n\n    if (!this._attributions[text]) {\n      this._attributions[text] = 0;\n    }\n    this._attributions[text]++;\n\n    this._update();\n\n    return this;\n  };\n\n  Attribution.prototype.removeAttribution = function removeAttribution (text) {\n    if (!text) { return this; }\n\n    if (this._attributions[text]) {\n      this._attributions[text]--;\n      this._update();\n    }\n\n    return this;\n  };\n  Attribution.prototype._update = function _update () {\n    if (!this._scene) { return; }\n\n    var attribs = [];\n\n    for (var i in this._attributions) {\n      if (this._attributions[i]) {\n        attribs.push(i);\n      }\n    }\n    var prefixAndAttribs = [];\n    if (this.get('prefix')) {\n      prefixAndAttribs.push(this.get('prefix'));\n    }\n    if (attribs.length) {\n      prefixAndAttribs.push(attribs.join(', '));\n    }\n    this._container.innerHTML = prefixAndAttribs.join(' | ');\n  };\n\n  return Attribution;\n}(Control$1));\n\nvar Layers = /*@__PURE__*/(function (Control) {\n  function Layers(cfg) {\n    Control.call(this, Object.assign({}, {collapsed: true,\n      position: 'topright',\n      autoZIndex: true,\n      hideSingleBase: false,\n      sortLayers: false},\n      cfg));\n    this._layerControlInputs = [];\n    this._layers = [];\n    this._lastZIndex = 0;\n    this._handlingClick = false;\n    var baseLayers = this.get('baseLayers');\n    var overlays = this.get('overlayers');\n    for (var i in baseLayers) {\n      this._addLayer(baseLayers[i], i);\n    }\n\n    for (var i$1 in overlays) {\n      this._addLayer(overlays[i$1], i$1, true);\n    }\n    actor.bindAll([ '_checkDisabledLayers', '_onLayerChange', 'collapse', 'extend', 'expand', '_onInputClick' ], this);\n  }\n\n  if ( Control ) Layers.__proto__ = Control;\n  Layers.prototype = Object.create( Control && Control.prototype );\n  Layers.prototype.constructor = Layers;\n\n  Layers.prototype.onAdd = function onAdd (scene) {\n    this._initLayout();\n    this._update();\n    this._scene = scene;\n    scene.on('zoomend', this._checkDisabledLayers, this);\n\n    for (var i = 0; i < this._layers.length; i++) {\n      this._layers[i].layer.on('remove', this._onLayerChange);\n      this._layers[i].layer.on('add', this._onLayerChange);\n    }\n\n    return this._container;\n  };\n  Layers.prototype.addTo = function addTo (scene) {\n    Control.prototype.addTo.call(this, scene);\n  };\n\n  Layers.prototype.addVisualLayer = function addVisualLayer (layer, name) {\n    this._addLayer(layer, name, true);\n    return (this._scene) ? this._update() : this;\n  };\n\n  Layers.prototype._initLayout = function _initLayout () {\n    var className = 'l7-control-layers',\n      container = this._container = create('div', className),\n      collapsed = this.get('collapsed');\n\n    // makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released\n    container.setAttribute('aria-haspopup', true);\n\n\n    var form = this._form = create('form', className + '-list');\n\n    if (collapsed) {\n      this._scene.on('click', this.collapse);\n      container.addEventListener('mouseenter', this.expand);\n      container.addEventListener('mouseleave', this.collapse);\n\n    }\n\n    var link = this._layersLink = create('a', className + '-toggle', container);\n    link.href = '#';\n    link.title = 'Layers';\n    if (!collapsed) {\n      this.expand();\n    }\n\n    this._baseLayersList = create('div', className + '-base', form);\n    this._separator = create('div', className + '-separator', form);\n    this._overlaysList = create('div', className + '-overlays', form);\n\n    container.appendChild(form);\n  };\n\n  Layers.prototype._update = function _update () {\n    if (!this._container) { return this; }\n\n    empty(this._baseLayersList);\n    empty(this._overlaysList);\n\n    this._layerControlInputs = [];\n    var baseLayersPresent,\n      overlaysPresent,\n      i,\n      obj,\n      baseLayersCount = 0;\n\n    for (i = 0; i < this._layers.length; i++) {\n      obj = this._layers[i];\n      this._addItem(obj);\n      overlaysPresent = overlaysPresent || obj.overlay;\n      baseLayersPresent = baseLayersPresent || !obj.overlay;\n      baseLayersCount += !obj.overlay ? 1 : 0;\n    }\n\n    // Hide base layers section if there's only one layer.\n    if (this.get('hideSingleBase')) {\n      baseLayersPresent = baseLayersPresent && baseLayersCount > 1;\n      this._baseLayersList.style.display = baseLayersPresent ? '' : 'none';\n    }\n\n    this._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\n\n    return this;\n  };\n\n  Layers.prototype.expand = function expand () {\n    addClass(this._container, 'l7-control-layers-expanded');\n    this._form.style.height = null;\n    var acceptableHeight = this._scene.getSize().height - (this._container.offsetTop + 50);\n    if (acceptableHeight < this._form.clientHeight) {\n      addClass(this._form, 'l7-control-layers-scrollbar');\n      this._form.style.height = acceptableHeight + 'px';\n    } else {\n      removeClass(this._form, 'l7-control-layers-scrollbar');\n    }\n    this._checkDisabledLayers();\n    return this;\n  };\n\n  Layers.prototype.collapse = function collapse () {\n    removeClass(this._container, 'l7-control-layers-expanded');\n    return this;\n  };\n\n  Layers.prototype._checkDisabledLayers = function _checkDisabledLayers () {\n    var inputs = this._layerControlInputs;\n    var input,\n      layer;\n    var zoom = this._scene.getZoom();\n\n    for (var i = inputs.length - 1; i >= 0; i--) {\n      input = inputs[i];\n      layer = this._scene.getLayer(input.layerId);\n      input.disabled = (layer.get('minZoom') !== undefined && zoom < layer.get('minZoom')) ||\n        (zoom < layer.get('maxZoom') !== undefined && zoom > layer.get('maxZoom'));\n\n    }\n  };\n\n  Layers.prototype._addLayer = function _addLayer (layer, name, overlay) {\n    var this$1 = this;\n\n    if (this._scene) {\n      layer.on('add', this._onLayerChange);\n      layer.on('remove', this._onLayerChange);\n    }\n    this._layers.push({\n      layer: layer,\n      name: name,\n      overlay: overlay\n    });\n\n    if (this.get('sortLayers')) {\n      this._layers.sort(function (a, b) {\n        return this$1.get('sortFunction')(a.layer, b.layer, a.name, b.name);\n      });\n    }\n\n    if (this.get('autoZIndex') && layer.setZIndex) {\n      this._lastZIndex++;\n      layer.setZIndex(this._lastZIndex);\n    }\n\n    this._expandIfNotCollapsed();\n  };\n\n  Layers.prototype._expandIfNotCollapsed = function _expandIfNotCollapsed () {\n    if (this._scene && !this.get('collapsed')) {\n      this.expand();\n    }\n    return this;\n  };\n\n  Layers.prototype._onLayerChange = function _onLayerChange (e) {\n    if (!this._handlingClick) {\n      this._update();\n    }\n\n    var obj = this._scene.getLayer(e.target.layerId);\n\n    var type = obj.overlay ?\n      (e.type === 'add' ? 'overlayadd' : 'overlayremove') :\n      (e.type === 'add' ? 'baselayerchange' : null);\n\n    if (type) {\n      this._map.fire(type, obj);\n    }\n  };\n\n  Layers.prototype._createRadioElement = function _createRadioElement (name, checked) {\n\n    var radioHtml = '<input type=\"radio\" class=\"l7-control-layers-selector\" name=\"' +\n      name + '\"' + (checked ? ' checked=\"checked\"' : '') + '/>';\n\n    var radioFragment = document.createElement('div');\n    radioFragment.innerHTML = radioHtml;\n\n    return radioFragment.firstChild;\n  };\n\n  Layers.prototype._addItem = function _addItem (obj) {\n    var label = document.createElement('label'),\n      checked = !!this._scene.getLayer(obj.layer.layerId);\n    var input;\n\n    if (obj.overlay) {\n      input = document.createElement('input');\n      input.type = 'checkbox';\n      input.className = 'l7-control-layers-selector';\n      input.defaultChecked = checked;\n    } else {\n      input = this._createRadioElement('l7-base-layers', checked);\n    }\n    this._layerControlInputs.push(input);\n    input.layerId = obj.layer.layerId;\n    input.addEventListener('click', this._onInputClick);\n\n    var name = document.createElement('span');\n    name.innerHTML = ' ' + obj.name;\n\n    var holder = document.createElement('div');\n\n    label.appendChild(holder);\n    holder.appendChild(input);\n    holder.appendChild(name);\n\n    var container = obj.overlay ? this._overlaysList : this._baseLayersList;\n    container.appendChild(label);\n\n    this._checkDisabledLayers();\n    return label;\n\n  };\n  Layers.prototype._onInputClick = function _onInputClick () {\n    var inputs = this._layerControlInputs;\n    var input,\n      layer;\n    var addedLayers = [],\n      removedLayers = [];\n    this._handlingClick = true;\n    for (var i = inputs.length - 1; i >= 0; i--) {\n      input = inputs[i];\n      layer = this._scene.getLayer(input.layerId);\n\n      if (input.checked) {\n        addedLayers.push(layer);\n      } else if (!input.checked) {\n        removedLayers.push(layer);\n      }\n    }\n    for (var i$1 = 0; i$1 < removedLayers.length; i$1++) {\n      removedLayers[i$1].hide();\n    }\n    for (var i$2 = 0; i$2 < addedLayers.length; i$2++) {\n      addedLayers[i$2].show();\n    }\n\n    this._handlingClick = false;\n\n    this._refocusOnMap();\n\n  };\n\n  return Layers;\n}(Control$1));\n\n\n\nvar Control$2 = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBase: Control$1,\nZoom: Zoom,\nScale: Scale,\nAttribution: Attribution,\nLayers: Layers\n});\n\nvar EventNames = [ 'mouseout', 'mouseover', 'mousedown', 'mouseleave', 'touchstart', 'touchmove', 'touchend', 'mouseup', 'rightclick', 'click', 'dblclick' ];\nvar Scene = /*@__PURE__*/(function (Base) {\n  function Scene(cfg) {\n    Base.call(this, cfg);\n    this._initMap();\n    this.crs = crsEpsg3857_1;\n    this.fontAtlasManager = new FontAtlasManager();\n    this._layers = [];\n    this.animateCount = 0;\n  }\n\n  if ( Base ) Scene.__proto__ = Base;\n  Scene.prototype = Object.create( Base && Base.prototype );\n  Scene.prototype.constructor = Scene;\n\n  Scene.prototype.getDefaultCfg = function getDefaultCfg () {\n    return actor.Global.scene;\n  };\n\n  Scene.prototype._initEngine = function _initEngine (mapContainer) {\n    this._engine = new Engine(mapContainer, this);\n    this.addImage();// 初始化图标加载器\n    this.registerMapEvent(); // 和高德地图同步状态\n    // this._engine.run();\n    compileBuiltinModules();\n  };\n  Scene.prototype._initContoller = function _initContoller () {\n    var controlCtr = new Control({ scene: this });\n    this.set('controlController', controlCtr);\n    if (this.get('zoomControl')) {\n      var zoomControl = new Zoom().addTo(this);\n      this.set('zoomControl', zoomControl);\n\n    }\n    if (this.get('scaleControl')) {\n      var scaleControl = new Scale().addTo(this);\n      this.set('scaleControl', scaleControl);\n    }\n    if (this.get('attributionControl')) {\n      var attributionControl = new Attribution().addTo(this);\n      this.set('attributionControl', attributionControl);\n    }\n  };\n  // 为pickup场景添加 object 对象\n  Scene.prototype.addPickMesh = function addPickMesh (object) {\n    this._engine._picking.add(object);\n  };\n  Scene.prototype._initMap = function _initMap () {\n    var this$1 = this;\n\n    this.mapContainer = this._getSceneContainer();\n    this.mapType = this.get('mapType') || 'amap';\n    var MapProvider = actor.getMap(this.mapType);\n    var Map = new MapProvider(this.mapContainer, this._attrs);\n    Map.mixMap(this);\n    this._container = Map.container;\n    Map.on('mapLoad', function () {\n      this$1.map = Map.map;\n      this$1._markerContainier = Map.l7_marker_Container;\n      this$1._initEngine(Map.renderDom);\n      Map.asyncCamera(this$1._engine);\n      this$1.initLayer();\n      this$1._registEvents();\n      var hash = this$1.get('hash');\n      if (hash) {\n        var Ctor = getInteraction('hash');\n        var interaction = new Ctor({ layer: this$1 });\n        interaction._onHashChange();\n      }\n      this$1.style = new Style(this$1, {});\n      this$1._initContoller();\n      this$1.emit('loaded');\n    });\n  };\n  Scene.prototype._getSceneContainer = function _getSceneContainer () {\n    var id = this.get('id');\n    if (typeof id === 'string') {\n      return document.getElementById(id);\n    } else if (id instanceof HTMLElement) {\n      return id;\n    }\n  };\n  Scene.prototype.initLayer = function initLayer () {\n    var this$1 = this;\n\n    var loop = function ( key ) {\n      Scene.prototype[key] = function (cfg) {\n        var layer = new LAYER_MAP[key](this$1, cfg);\n        this$1._layers.push(layer);\n        return layer;\n      };\n    };\n\n    for (var key in LAYER_MAP) loop( key );\n\n  };\n  // 添加 Tile Source\n  Scene.prototype.addTileSource = function addTileSource (id, Sourcecfg) {\n    this.style.addSource(id, Sourcecfg);\n  };\n  Scene.prototype.getTileSource = function getTileSource (id) {\n    return this.style.getSource(id);\n  };\n  Scene.prototype.on = function on (type, hander) {\n    if (this.map) { this.map.on(type, hander); }\n    Base.prototype.on.call(this, type, hander);\n  };\n  Scene.prototype.off = function off (type, hander) {\n    if (this.map) { this.map.off(type, hander); }\n    Base.prototype.off.call(this, type, hander);\n  };\n  Scene.prototype.addImage = function addImage () {\n    var this$1 = this;\n\n    this.image = new LoadImage();\n    this.image.on('imageLoaded', function () {\n      this$1._engine.update();\n    });\n  };\n  Scene.prototype._initEvent = function _initEvent () {\n\n  };\n  Scene.prototype.getLayers = function getLayers () {\n    return this._layers;\n  };\n  Scene.prototype.getLayer = function getLayer (id) {\n    var res = false;\n    this._layers.forEach(function (layer) {\n      if (layer.layerId === id) {\n        res = layer;\n        return;\n      }\n    });\n    return res;\n  };\n  Scene.prototype._addLayer = function _addLayer () {\n\n  };\n  Scene.prototype.getContainer = function getContainer () {\n    return this._container;\n  };\n  Scene.prototype.getMarkerContainer = function getMarkerContainer () {\n    return this._markerContainier;\n  };\n  Scene.prototype.map2Png = function map2Png () {\n    this.scene._engine.update();\n    var vis = this.scene._engine._renderer.domElement.toDataURL();\n    var map = this.scene.map.getContainer().getElementsByClassName('amap-layer')[0].toDataURL();\n    return [ map, vis ];\n\n  };\n  Scene.prototype._registEvents = function _registEvents () {\n    var this$1 = this;\n\n    this._eventHander = function (e) {\n      if (e.target.nodeName !== 'CANVAS') { return; }\n      this$1._engine._picking.pickdata(e);\n    };\n    this._throttleHander = throttle(this._eventHander, 30);\n    EventNames.forEach(function (event) {\n      this$1._container.addEventListener(event, this$1._eventHander, true);\n    });\n    // mousemove 事件截流\n    this._container.addEventListener('mousemove', this._throttleHander, true);\n  };\n  Scene.prototype._unRegistEvents = function _unRegistEvents () {\n    var this$1 = this;\n\n    EventNames.forEach(function (event) {\n      this$1._container.removeEventListener(event, this$1._eventHander, true);\n    });\n    this._container.removeEventListener('mousemove', this._throttleHander, true);\n  };\n  Scene.prototype.removeLayer = function removeLayer (layer) {\n    var layerIndex = this._layers.indexOf(layer);\n    if (layerIndex > -1) {\n      this._layers.splice(layerIndex, 1);\n    }\n    layer.destroy();\n    layer = null;\n    this._engine.update();\n  };\n  Scene.prototype.startAnimate = function startAnimate () {\n    if (this.animateCount === 0) {\n      this.unRegsterMapEvent();\n      this._engine.run();\n    }\n    this.animateCount++;\n  };\n\n  Scene.prototype.stopAnimate = function stopAnimate () {\n    if (this.animateCount === 1) {\n      this._engine.stop();\n      this.registerMapEvent();\n    }\n    this.animateCount++;\n  };\n  // 地图状态变化时更新可视化渲染\n  Scene.prototype.registerMapEvent = function registerMapEvent () {\n    var this$1 = this;\n\n    this._updateRender = function () { return this$1._engine.update(); };\n    // this.map.on('mousemove', this._updateRender);\n    this.map.on('mapmove', this._updateRender);\n    this.map.on('camerachange', this._updateRender);\n    this.map.on('resize', this._updateRender);\n  };\n\n  Scene.prototype.unRegsterMapEvent = function unRegsterMapEvent () {\n    // this.map.off('mousemove', this._updateRender);\n    this.map.off('mapmove', this._updateRender);\n    this.map.off('camerachange', this._updateRender);\n    this.map.off('resize', this._updateRender);\n  };\n  // control\n\n  Scene.prototype.addControl = function addControl (ctr) {\n    this.get('controlController').addControl(ctr);\n    return this;\n  };\n\n  Scene.prototype.removeControl = function removeControl (ctr) {\n    this.get('controlController').removeControl(ctr);\n  };\n  Scene.prototype.render = function render () {\n    this._engine.update();\n  };\n  Scene.prototype.destroy = function destroy () {\n    this.get('controlController').clearControlPos();\n    Base.prototype.destroy.call(this);\n    this._layers.forEach(function (layer) {\n      layer.destroy();\n    });\n    this._layers.length = 0;\n    this.image = null;\n    this.fontAtlasManager = null;\n    this.style.destroy();\n    this.style = null;\n    this._engine.destroy();\n    this._engine = null;\n    this.map.destroy();\n    this.unRegsterMapEvent();\n    this._unRegistEvents();\n\n\n  };\n\n  return Scene;\n}(actor.Base));\n\nvar anchorTranslate = {\n  center: 'translate(-50%,-50%)',\n  top: 'translate(-50%,0)',\n  'top-left': 'translate(0,0)',\n  'top-right': 'translate(-100%,0)',\n  bottom: 'translate(-50%,-100%)',\n  'bottom-left': 'translate(0,-100%)',\n  'bottom-right': 'translate(-100%,-100%)',\n  left: 'translate(0,-50%)',\n  right: 'translate(-100%,-50%)'\n};\nfunction applyAnchorClass(element, anchor, prefix) {\n  var classList = element.classList;\n  for (var key in anchorTranslate) {\n    classList.remove((\"l7-\" + prefix + \"-anchor-\" + key));\n  }\n  classList.add((\"l7-\" + prefix + \"-anchor-\" + anchor));\n}\n\nvar Popup = /*@__PURE__*/(function (Base) {\n  function Popup(cfg) {\n    Base.call(this, Object.assign({}, {closeButton: true,\n      closeOnClick: true,\n      maxWidth: '240px',\n      anchor: 'bottom'},\n      cfg));\n    this.timeout = 0;\n    actor.bindAll([ '_update', '_onClickClose', 'remove' ], this);\n  }\n\n  if ( Base ) Popup.__proto__ = Base;\n  Popup.prototype = Object.create( Base && Base.prototype );\n  Popup.prototype.constructor = Popup;\n  Popup.prototype.addTo = function addTo (scene) {\n    var this$1 = this;\n\n    this._scene = scene;\n    this._scene.on('camerachange', this._update);\n    this._update();\n    if (this.get('closeOnClick')) {\n      this.timeout = setTimeout(function () { // TODO 事件冲突\n        this$1._scene && this$1._scene.on('click', this$1._onClickClose);\n      }, 30);\n    }\n    return this;\n  };\n  Popup.prototype.setLnglat = function setLnglat (lngLat) {\n    this.lngLat = lngLat;\n    if (this._scene) {\n      this._scene.on('camerachange', this._update);\n    }\n    this._update(lngLat);\n    return this;\n  };\n\n  Popup.prototype._update = function _update () {\n    var this$1 = this;\n\n    var hasPosition = this.lngLat;\n    if (!this._scene || !hasPosition || !this._content) { return; }\n    if (!this._container) {\n      this._container = this.creatDom('div', 'l7-popup', this._scene.getMarkerContainer().parentNode);\n\n      this._tip = this.creatDom('div', 'l7-popup-tip', this._container);\n      this._container.appendChild(this._content);\n      if (this.get('className')) {\n        this.get('className').split(' ').forEach(function (name) { return this$1._container.classList.add(name); });\n      }\n      this._container.addEventListener('mousedown', function (e) {\n        e.stopPropagation();\n      });\n    }\n    if (this.get('maxWidth') && this._container.style.maxWidth !== this.get('maxWidth')) {\n      this._container.style.maxWidth = this.get('maxWidth');\n    }\n\n    this._updatePosition();\n    setTransform(this._container, (\"\" + (anchorTranslate[this.get('anchor')])));\n    applyAnchorClass(this._container, this.get('anchor'), 'popup');\n  };\n\n  Popup.prototype._updatePosition = function _updatePosition () {\n    if (!this._scene) { return; }\n    var pos = this._scene.lngLatToContainer(this.lngLat);\n    this._container.style.left = pos.x + 'px';\n    this._container.style.top = pos.y + 'px';\n  };\n\n  Popup.prototype.setHTML = function setHTML (html) {\n    var frag = window.document.createDocumentFragment();\n    var temp = window.document.createElement('body');\n    var child;\n    temp.innerHTML = html;\n    while (true) {  // eslint-disable-line\n      child = temp.firstChild;\n      if (!child) { break; }\n      frag.appendChild(child);\n    }\n\n    return this.setDOMContent(frag);\n  };\n  Popup.prototype.setText = function setText (text) {\n    return this.setDOMContent(window.document.createTextNode(text));\n  };\n  Popup.prototype.setMaxWidth = function setMaxWidth (maxWidth) {\n    this.set('maxWidth', maxWidth);\n    this._update();\n    return this;\n  };\n  Popup.prototype.setDOMContent = function setDOMContent (htmlNode) {\n    this._createContent();\n    this._content.appendChild(htmlNode);\n    this._update();\n    return this;\n  };\n  Popup.prototype._createContent = function _createContent () {\n    if (this._content) {\n      remove(this._content);\n    }\n    this._content = create('div', 'l7-popup-content', this._container);\n    if (this.get('closeButton')) {\n      this._closeButton = create('button', 'l7-popup-close-button', this._content);\n      this._closeButton.type = 'button';\n      this._closeButton.setAttribute('aria-label', 'Close popup');\n      this._closeButton.innerHTML = '&#215;';\n      this._closeButton.addEventListener('click', this._onClickClose);\n    }\n  };\n  Popup.prototype._onClickClose = function _onClickClose () {\n    this.remove();\n  };\n  Popup.prototype.creatDom = function creatDom (tagName, className, container) {\n    var el = window.document.createElement(tagName);\n    if (className !== undefined) { el.className = className; }\n    if (container) { container.appendChild(el); }\n    return el;\n  };\n  Popup.prototype.removeDom = function removeDom (node) {\n    if (node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n  };\n  // 移除popup\n  Popup.prototype.remove = function remove () {\n    if (this._content) {\n      this.removeDom(this._content);\n    }\n\n    if (this._container) {\n      this.removeDom(this._container);\n      delete this._container;\n    }\n    if (this._scene) {\n      this._scene.off('camerachange', this._update);\n      this._scene.off('click', this._onClickClose);\n      delete this._scene;\n    }\n    clearTimeout(this.timeout);\n    this.emit('close');\n    return this;\n  };\n  Popup.prototype.isOpen = function isOpen () {\n    return !!this._scene;\n  };\n\n  return Popup;\n}(actor.Base));\n\nvar Marker = /*@__PURE__*/(function (Base) {\n  function Marker(cfg) {\n    Base.call(this, Object.assign({}, {element: '', // DOM element\n      anchor: 'bottom',\n      offset: [ 0, 0 ],\n      color: '#2f54eb',\n      draggable: false},\n      cfg));\n    actor.bindAll([\n      '_update',\n      '_onMove',\n      '_onUp',\n      '_addDragHandler',\n      '_onMapClick'\n    ], this);\n    this._init();\n  }\n\n  if ( Base ) Marker.__proto__ = Base;\n  Marker.prototype = Object.create( Base && Base.prototype );\n  Marker.prototype.constructor = Marker;\n  Marker.prototype._init = function _init () {\n    var this$1 = this;\n\n    var element = this.get('element');\n    if (!element) {\n      this._defaultMarker = true;\n      element = create('div');\n      this.set('element', element);\n      var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttributeNS(null, 'display', 'block');\n      svg.setAttributeNS(null, 'height', '48px');\n      svg.setAttributeNS(null, 'width', '48px');\n      svg.setAttributeNS(null, 'viewBox', '0 0 1024 1024');\n\n      var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      path.setAttributeNS(null, 'd', 'M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z');\n      path.setAttributeNS(null, 'fill', this.get('color'));\n      svg.appendChild(path);\n      element.appendChild(svg);\n\n    }\n    addClass(element, 'l7-marker');\n    element.addEventListener('click', function (e) {\n      this$1._onMapClick(e);\n    });\n    applyAnchorClass(element, this.get('anchor'), 'marker');\n\n    this._popup = null;\n\n  };\n  Marker.prototype.addTo = function addTo (scene) {\n    this.remove();\n    this._scene = scene;\n    this._scene.getMarkerContainer().appendChild(this.get('element'));\n    this._scene.on('camerachange', this._update);\n    this.setDraggable(this.get('draggable'));\n    this._update();\n    return this;\n  };\n\n  Marker.prototype.remove = function remove$1 () {\n    if (this._scene) {\n      this._scene.off('click', this._onMapClick);\n      this._scene.off('move', this._update);\n      this._scene.off('moveend', this._update);\n      this._scene.off('mousedown', this._addDragHandler);\n      this._scene.off('touchstart', this._addDragHandler);\n      this._scene.off('mouseup', this._onUp);\n      this._scene.off('touchend', this._onUp);\n      delete this._scene;\n    }\n    remove(this.get('element'));\n    if (this._popup) { this._popup.remove(); }\n    return this;\n  };\n  Marker.prototype.setLnglat = function setLnglat (lngLat) {\n    this._lngLat = lngLat;\n    if (this._popup) { this._popup.setLnglat(this._lngLat); }\n    return this;\n  };\n  Marker.prototype.getLnglat = function getLnglat () {\n    return this._lngLat;\n  };\n\n  Marker.prototype.getElement = function getElement () {\n    return this.get('element');\n  };\n\n  Marker.prototype.setPopup = function setPopup (popup) {\n    this._popup = popup;\n    if (this._lngLat) { this._popup.setLnglat(this._lngLat); }\n    return this;\n  };\n\n  Marker.prototype.togglePopup = function togglePopup () {\n    var popup = this._popup;\n    if (!popup) { return this; }\n    else if (popup.isOpen()) { popup.remove(); }\n    else { popup.addTo(this._scene); }\n    return this;\n  };\n\n  Marker.prototype.getPopup = function getPopup () {\n    return this._popup;\n  };\n\n  Marker.prototype.getOffset = function getOffset () {\n\n  };\n\n  Marker.prototype.setDraggable = function setDraggable () {\n\n  };\n\n  Marker.prototype.isDraggable = function isDraggable () {\n    return this._draggable;\n  };\n  Marker.prototype._update = function _update () {\n    if (!this._scene) { return; }\n    this._updatePosition();\n    setTransform(this.get('element'), (\"\" + (anchorTranslate[ this.get('anchor')])));\n\n  };\n  Marker.prototype._onMapClick = function _onMapClick () {\n    // this._scene.emit('click'); // 触发map点击事件，关闭其他popup\n    var element = this.get('element');\n\n    if (this._popup && element) {\n      this.togglePopup();\n    }\n  };\n  Marker.prototype._updatePosition = function _updatePosition () {\n    if (!this._scene) { return; }\n    var pos = this._pos = this._scene.lngLatToContainer(this._lngLat);\n    this.get('element').style.left = pos.x + 'px';\n    this.get('element').style.top = pos.y + 'px';\n\n  };\n  Marker.prototype._bubbleUp = function _bubbleUp () {\n    var this$1 = this;\n\n    var eventsName = [\n      'mouseout',\n      'mouseover',\n      'mousemove',\n      'mousedown',\n      'mouseleave',\n      'mouseup',\n      'rightclick',\n      'click',\n      'dblclick',\n      'wheel'\n    ];\n    var element = this.get('element');\n    eventsName.forEach(function (event) {\n      element.addEventListener(event, function (e) {\n        this$1._scene.emit(event, e);\n      });\n    });\n  };\n\n  Marker.prototype._addDragHandler = function _addDragHandler () {\n\n  };\n  Marker.prototype._onUp = function _onUp () {\n\n  };\n\n  return Marker;\n}(actor.Base));\n\nvar version = actor.Global.version;\nvar exported = {\n  version: version,\n  Scene: Scene,\n  Source: actor.Source,\n  TileSource: TileSource,\n  registerParser: actor.registerParser,\n  registerTransform: actor.registerTransform,\n  registerLayer: registerLayer,\n  registerInteraction: registerInteraction,\n  getInteraction: getInteraction,\n  Popup: Popup,\n  Marker: Marker,\n  Control: Control$2\n};\n\nreturn exported;\n\n});\n\nreturn L7;\n\n}));\n//# sourceMappingURL=L7.js.map\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var global = require('../internals/global');\nvar nativeFunctionToString = require('../internals/function-to-string');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(nativeFunctionToString.call(WeakMap));\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar bind = require('../internals/bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var index = 0;\n  var iteratorMethod = getIteratorMethod(O);\n  var length, result, step, iterator, next;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      createProperty(result, index, mapping\n        ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true)\n        : step.value\n      );\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","'use strict';\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n    if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n  }\n};\n","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/wrapped-well-known-symbol');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = NATIVE_SYMBOL && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\nif (!USE_SYMBOL_AS_UID) {\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseFloat = global.parseFloat;\nvar FORCED = 1 / nativeParseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = nativeParseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : nativeParseFloat;\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (get) {\n  return function Set() { return get(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common, IS_MAP, IS_WEAK) {\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _handlebarsBase = require('./handlebars/base');\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = require('./handlebars/safe-string');\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = require('./handlebars/exception');\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = require('./handlebars/utils');\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = require('./handlebars/runtime');\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = require('./handlebars/no-conflict');\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\n\nexports['default'] = inst;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBc0QsVUFBVTs7cUJBRWpELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQ3pCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdFLGVBQU8sR0FBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQztPQUN4Qjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGNyZWF0ZUZyYW1lLCBpc0FycmF5fSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgbGV0IGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5uYW1lKTtcbiAgICAgICAgb3B0aW9ucyA9IHtkYXRhOiBkYXRhfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (global.Symbol && context[global.Symbol.iterator]) {\n        var newContext = [];\n        var iterator = context[global.Symbol.iterator]();\n        for (var it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        (function () {\n          var priorKey = undefined;\n\n          Object.keys(context).forEach(function (key) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          });\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1, true);\n          }\n        })();\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQUErRSxVQUFVOzt5QkFDbkUsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksQ0FBQyxPQUFPLEVBQUU7QUFDWixZQUFNLDJCQUFjLDZCQUE2QixDQUFDLENBQUM7S0FDcEQ7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUU7UUFDZixPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU87UUFDekIsQ0FBQyxHQUFHLENBQUM7UUFDTCxHQUFHLEdBQUcsRUFBRTtRQUNSLElBQUksWUFBQTtRQUNKLFdBQVcsWUFBQSxDQUFDOztBQUVoQixRQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixpQkFBVyxHQUFHLHlCQUFrQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0tBQ2pGOztBQUVELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDaEIsVUFBSSxHQUFHLG1CQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNsQzs7QUFFRCxhQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtBQUN6QyxVQUFJLElBQUksRUFBRTtBQUNSLFlBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ2pCLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ25CLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQztBQUN6QixZQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7O0FBRW5CLFlBQUksV0FBVyxFQUFFO0FBQ2YsY0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLEdBQUcsS0FBSyxDQUFDO1NBQ3hDO09BQ0Y7O0FBRUQsU0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFlBQUksRUFBRSxJQUFJO0FBQ1YsbUJBQVcsRUFBRSxtQkFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7T0FDL0UsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUMzRCxZQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDdEIsWUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztBQUNuRCxhQUFLLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRTtBQUM3RCxvQkFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDM0I7QUFDRCxlQUFPLEdBQUcsVUFBVSxDQUFDO0FBQ3JCLGFBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZDLHVCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztTQUMvQztPQUNGLE1BQU07O0FBQ0wsY0FBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixnQkFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHLEVBQUk7Ozs7QUFJbEMsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0wsQ0FBQyxDQUFDO0FBQ0gsY0FBSSxRQUFRLEtBQUssU0FBUyxFQUFFO0FBQzFCLHlCQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDdEM7O09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGJsb2NrUGFyYW1zLCBjcmVhdGVGcmFtZSwgaXNBcnJheSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICAgIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICByZXQgPSAnJyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29udGV4dFBhdGg7XG5cbiAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pICsgJy4nO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7IGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7IH1cblxuICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4ZWNJdGVyYXRpb24oZmllbGQsIGluZGV4LCBsYXN0KSB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBkYXRhLmtleSA9IGZpZWxkO1xuICAgICAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGRhdGEuZmlyc3QgPSBpbmRleCA9PT0gMDtcbiAgICAgICAgZGF0YS5sYXN0ID0gISFsYXN0O1xuXG4gICAgICAgIGlmIChjb250ZXh0UGF0aCkge1xuICAgICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBjb250ZXh0UGF0aCArIGZpZWxkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbZmllbGRdLCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dFtmaWVsZF0sIGZpZWxkXSwgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGdsb2JhbC5TeW1ib2wgJiYgY29udGV4dFtnbG9iYWwuU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgICBjb25zdCBuZXdDb250ZXh0ID0gW107XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gY29udGV4dFtnbG9iYWwuU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICBmb3IgKGxldCBpdCA9IGl0ZXJhdG9yLm5leHQoKTsgIWl0LmRvbmU7IGl0ID0gaXRlcmF0b3IubmV4dCgpKSB7XG4gICAgICAgICAgbmV3Q29udGV4dC5wdXNoKGl0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0ID0gbmV3Q29udGV4dDtcbiAgICAgICAgZm9yIChsZXQgaiA9IGNvbnRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgZXhlY0l0ZXJhdGlvbihpLCBpLCBpID09PSBjb250ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJpb3JLZXk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoY29udGV4dCkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgdGhlIGl0ZXJhdGlvbnMgb25lIHN0ZXAgb3V0IG9mIHN5bmMgc28gd2UgY2FuIGRldGVjdFxuICAgICAgICAgIC8vIHRoZSBsYXN0IGl0ZXJhdGlvbiB3aXRob3V0IGhhdmUgdG8gc2NhbiB0aGUgb2JqZWN0IHR3aWNlIGFuZCBjcmVhdGVcbiAgICAgICAgICAvLyBhbiBpdGVybWVkaWF0ZSBrZXlzIGFycmF5LlxuICAgICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yS2V5ID0ga2V5O1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZXhlY0l0ZXJhdGlvbihwcmlvcktleSwgaSAtIDEsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIHJldCA9IGludmVyc2UodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFBYyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDdkY7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#if requires exactly one argument');\n    }\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function (conditional, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#unless requires exactly one argument');\n    }\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztxQkFBb0MsVUFBVTs7eUJBQ3hCLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQUUsWUFBTSwyQkFBYyxtQ0FBbUMsQ0FBQyxDQUFDO0tBQUM7QUFDdkYsUUFBSSxrQkFBVyxXQUFXLENBQUMsRUFBRTtBQUFFLGlCQUFXLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOzs7OztBQUt0RSxRQUFJLEFBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLFdBQVcsSUFBSyxlQUFRLFdBQVcsQ0FBQyxFQUFFO0FBQ3ZFLGFBQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUM5QixNQUFNO0FBQ0wsYUFBTyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3pCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMvRCxRQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0FBQUUsWUFBTSwyQkFBYyx1Q0FBdUMsQ0FBQyxDQUFDO0tBQUM7QUFDM0YsV0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLEVBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO0dBQ3ZILENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAhPSAyKSB7IHRocm93IG5ldyBFeGNlcHRpb24oJyNpZiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO31cbiAgICBpZiAoaXNGdW5jdGlvbihjb25kaXRpb25hbCkpIHsgY29uZGl0aW9uYWwgPSBjb25kaXRpb25hbC5jYWxsKHRoaXMpOyB9XG5cbiAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG4gICAgLy8gVGhlIGBpbmNsdWRlWmVyb2Agb3B0aW9uIG1heSBiZSBzZXQgdG8gdHJlYXQgdGhlIGNvbmR0aW9uYWwgYXMgcHVyZWx5IG5vdCBlbXB0eSBiYXNlZCBvbiB0aGVcbiAgICAvLyBiZWhhdmlvciBvZiBpc0VtcHR5LiBFZmZlY3RpdmVseSB0aGlzIGRldGVybWluZXMgaWYgMCBpcyBoYW5kbGVkIGJ5IHRoZSBwb3NpdGl2ZSBwYXRoIG9yIG5lZ2F0aXZlLlxuICAgIGlmICgoIW9wdGlvbnMuaGFzaC5pbmNsdWRlWmVybyAmJiAhY29uZGl0aW9uYWwpIHx8IGlzRW1wdHkoY29uZGl0aW9uYWwpKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICE9IDIpIHsgdGhyb3cgbmV3IEV4Y2VwdGlvbignI3VubGVzcyByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO31cbiAgICByZXR1cm4gaW5zdGFuY2UuaGVscGVyc1snaWYnXS5jYWxsKHRoaXMsIGNvbmRpdGlvbmFsLCB7Zm46IG9wdGlvbnMuaW52ZXJzZSwgaW52ZXJzZTogb3B0aW9ucy5mbiwgaGFzaDogb3B0aW9ucy5oYXNofSk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVMsSUFBSSxDQUFDLENBQUM7R0FDeEIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIGxldCBsZXZlbCA9IDE7XG4gICAgaWYgKG9wdGlvbnMuaGFzaC5sZXZlbCAhPSBudWxsKSB7XG4gICAgICBsZXZlbCA9IG9wdGlvbnMuaGFzaC5sZXZlbDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmRhdGEubGV2ZWw7XG4gICAgfVxuICAgIGFyZ3NbMF0gPSBsZXZlbDtcblxuICAgIGluc3RhbmNlLmxvZyguLi4gYXJncyk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\nvar dangerousPropertyRegex = /^(constructor|__defineGetter__|__defineSetter__|__lookupGetter__|__proto__)$/;\n\nexports.dangerousPropertyRegex = dangerousPropertyRegex;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field) {\n    if (!obj) {\n      return obj;\n    }\n    if (dangerousPropertyRegex.test(String(field)) && !Object.prototype.propertyIsEnumerable.call(obj, field)) {\n      return undefined;\n    }\n    return obj[field];\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFPLElBQU0sc0JBQXNCLEdBQUcsOEVBQThFLENBQUM7Ozs7cUJBRXRHLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLFVBQVMsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUNyRCxRQUFJLENBQUMsR0FBRyxFQUFFO0FBQ1IsYUFBTyxHQUFHLENBQUM7S0FDWjtBQUNELFFBQUksc0JBQXNCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3pHLGFBQU8sU0FBUyxDQUFDO0tBQ2xCO0FBQ0QsV0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7R0FDbkIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9va3VwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRhbmdlcm91c1Byb3BlcnR5UmVnZXggPSAvXihjb25zdHJ1Y3RvcnxfX2RlZmluZUdldHRlcl9ffF9fZGVmaW5lU2V0dGVyX198X19sb29rdXBHZXR0ZXJfX3xfX3Byb3RvX18pJC87XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdsb29rdXAnLCBmdW5jdGlvbihvYmosIGZpZWxkKSB7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGlmIChkYW5nZXJvdXNQcm9wZXJ0eVJlZ2V4LnRlc3QoU3RyaW5nKGZpZWxkKSkgJiYgIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIGZpZWxkKSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG9ialtmaWVsZF07XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (arguments.length != 2) {\n      throw new _exception2['default']('#with requires exactly one argument');\n    }\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQUFpRixVQUFVOzt5QkFDckUsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7QUFBRSxZQUFNLDJCQUFjLHFDQUFxQyxDQUFDLENBQUM7S0FBQztBQUN6RixRQUFJLGtCQUFXLE9BQU8sQ0FBQyxFQUFFO0FBQUUsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FBRTs7QUFFMUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQzs7QUFFcEIsUUFBSSxDQUFDLGVBQVEsT0FBTyxDQUFDLEVBQUU7QUFDckIsVUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUN4QixVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLEdBQUcsbUJBQVksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pDLFlBQUksQ0FBQyxXQUFXLEdBQUcseUJBQWtCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztPQUNoRjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUU7QUFDakIsWUFBSSxFQUFFLElBQUk7QUFDVixtQkFBVyxFQUFFLG1CQUFZLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO09BQ2hFLENBQUMsQ0FBQztLQUNKLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDOUI7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJ3aXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwZW5kQ29udGV4dFBhdGgsIGJsb2NrUGFyYW1zLCBjcmVhdGVGcmFtZSwgaXNFbXB0eSwgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT0gMikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCcjd2l0aCByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCcpO31cbiAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0KSkgeyBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpOyB9XG5cbiAgICBsZXQgZm4gPSBvcHRpb25zLmZuO1xuXG4gICAgaWYgKCFpc0VtcHR5KGNvbnRleHQpKSB7XG4gICAgICBsZXQgZGF0YSA9IG9wdGlvbnMuZGF0YTtcbiAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBhcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMuaWRzWzBdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgYmxvY2tQYXJhbXM6IGJsb2NrUGFyYW1zKFtjb250ZXh0XSwgW2RhdGEgJiYgZGF0YS5jb250ZXh0UGF0aF0pXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _decoratorsInline = require('./decorators/inline');\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG5cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXFCLFVBQVU7O3FCQUVoQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbihmbiwgcHJvcHMsIGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIGxldCByZXQgPSBmbjtcbiAgICBpZiAoIXByb3BzLnBhcnRpYWxzKSB7XG4gICAgICBwcm9wcy5wYXJ0aWFscyA9IHt9O1xuICAgICAgcmV0ID0gZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cbiAgICAgICAgbGV0IG9yaWdpbmFsID0gY29udGFpbmVyLnBhcnRpYWxzO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBleHRlbmQoe30sIG9yaWdpbmFsLCBwcm9wcy5wYXJ0aWFscyk7XG4gICAgICAgIGxldCByZXQgPSBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHByb3BzLnBhcnRpYWxzW29wdGlvbnMuYXJnc1swXV0gPSBvcHRpb25zLmZuO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('./utils');\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      if (!console[method]) {\n        // eslint-disable-line no-console\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports['default'] = logger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFzQixTQUFTOztBQUUvQixJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7QUFDL0UsVUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxVQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFOztBQUNwQixjQUFNLEdBQUcsS0FBSyxDQUFDO09BQ2hCOzt3Q0FQbUIsT0FBTztBQUFQLGVBQU87OztBQVEzQixhQUFPLENBQUMsTUFBTSxPQUFDLENBQWYsT0FBTyxFQUFZLE9BQU8sQ0FBQyxDQUFDO0tBQzdCO0dBQ0Y7Q0FDRixDQUFDOztxQkFFYSxNQUFNIiwiZmlsZSI6ImxvZ2dlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5kZXhPZn0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWwpIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICBtZXRob2QgPSAnbG9nJztcbiAgICAgIH1cbiAgICAgIGNvbnNvbGVbbWV0aG9kXSguLi5tZXNzYWdlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXX0=\n","// Build out our basic SafeString type\n'use strict';\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = require('./base');\n\nvar _helpers = require('./helpers');\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision >= _base.LAST_COMPATIBLE_COMPILER_REVISION && compilerRevision <= _base.COMPILER_REVISION) {\n    return;\n  }\n\n  if (compilerRevision < _base.LAST_COMPATIBLE_COMPILER_REVISION) {\n    var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n        compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n    throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n  }\n}\n\nfunction template(templateSpec, env) {\n\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n  var templateWasPrecompiledWithCompilerV7 = templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n    var optionsWithHooks = Utils.extend({}, options, { hooks: this.hooks });\n\n    var result = env.VM.invokePartial.call(this, partial, context, optionsWithHooks);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, optionsWithHooks);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj, { loc: loc });\n      }\n      return obj[name];\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        if (depths[i] && depths[i][name] != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      container.helpers = Utils.extend({}, env.helpers, options.helpers);\n\n      if (templateSpec.usePartial) {\n        container.partials = Utils.extend({}, env.partials, options.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend({}, env.decorators, options.decorators);\n      }\n\n      container.hooks = {};\n\n      var keepHelperInHelpers = options.allowCallsToHelperMissing || templateWasPrecompiledWithCompilerV7;\n      _helpers.moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n      _helpers.moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBQytELFFBQVE7O3VCQUMxRSxXQUFXOztBQUVwQyxTQUFTLGFBQWEsQ0FBQyxZQUFZLEVBQUU7QUFDMUMsTUFBTSxnQkFBZ0IsR0FBRyxZQUFZLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7TUFDdkQsZUFBZSwwQkFBb0IsQ0FBQzs7QUFFMUMsTUFBSSxnQkFBZ0IsMkNBQXFDLElBQUksZ0JBQWdCLDJCQUFxQixFQUFFO0FBQ2xHLFdBQU87R0FDUjs7QUFFRCxNQUFJLGdCQUFnQiwwQ0FBb0MsRUFBRTtBQUN4RCxRQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1FBQ25ELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVELFVBQU0sMkJBQWMseUZBQXlGLEdBQ3ZHLHFEQUFxRCxHQUFHLGVBQWUsR0FBRyxtREFBbUQsR0FBRyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsQ0FBQztHQUNoSyxNQUFNOztBQUVMLFVBQU0sMkJBQWMsd0ZBQXdGLEdBQ3RHLGlEQUFpRCxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztHQUNuRjtDQUNGOztBQUVNLFNBQVMsUUFBUSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7OztBQUcxQyxNQUFJLENBQUMsR0FBRyxFQUFFO0FBQ1IsVUFBTSwyQkFBYyxtQ0FBbUMsQ0FBQyxDQUFDO0dBQzFEO0FBQ0QsTUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUU7QUFDdkMsVUFBTSwyQkFBYywyQkFBMkIsR0FBRyxPQUFPLFlBQVksQ0FBQyxDQUFDO0dBQ3hFOztBQUVELGNBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxH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LElBQUksQ0FBQSxBQUFDLEVBQUU7QUFDOUIsUUFBSSxHQUFHLElBQUksR0FBRyxrQkFBWSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDckMsUUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7R0FDckI7QUFDRCxTQUFPLElBQUksQ0FBQztDQUNiOztBQUVELFNBQVMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUU7QUFDekUsTUFBSSxFQUFFLENBQUMsU0FBUyxFQUFFO0FBQ2hCLFFBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNmLFFBQUksR0FBRyxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM1RixTQUFLLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztHQUMzQjtBQUNELFNBQU8sSUFBSSxDQUFDO0NBQ2IiLCJmaWxlIjoicnVudGltZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQge0NPTVBJTEVSX1JFVklTSU9OLCBjcmVhdGVGcmFtZSwgTEFTVF9DT01QQVRJQkxFX0NPTVBJTEVSX1JFVklTSU9OLCBSRVZJU0lPTl9DSEFOR0VTfSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHttb3ZlSGVscGVyVG9Ib29rc30gZnJvbSAnLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG4gICAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChjb21waWxlclJldmlzaW9uID49IExBU1RfQ09NUEFUSUJMRV9DT01QSUxFUl9SRVZJU0lPTiAmJiBjb21waWxlclJldmlzaW9uIDw9IENPTVBJTEVSX1JFVklTSU9OKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbXBpbGVyUmV2aXNpb24gPCBMQVNUX0NPTVBBVElCTEVfQ09NUElMRVJfUkVWSVNJT04pIHtcbiAgICBjb25zdCBydW50aW1lVmVyc2lvbnMgPSBSRVZJU0lPTl9DSEFOR0VTW2N1cnJlbnRSZXZpc2lvbl0sXG4gICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGVtcGxhdGUgd2FzIHByZWNvbXBpbGVkIHdpdGggYW4gb2xkZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArXG4gICAgICAgICAgJ1BsZWFzZSB1cGRhdGUgeW91ciBwcmVjb21waWxlciB0byBhIG5ld2VyIHZlcnNpb24gKCcgKyBydW50aW1lVmVyc2lvbnMgKyAnKSBvciBkb3duZ3JhZGUgeW91ciBydW50aW1lIHRvIGFuIG9sZGVyIHZlcnNpb24gKCcgKyBjb21waWxlclZlcnNpb25zICsgJykuJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGVtcGxhdGUgd2FzIHByZWNvbXBpbGVkIHdpdGggYSBuZXdlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgY29tcGlsZXJJbmZvWzFdICsgJykuJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlKHRlbXBsYXRlU3BlYywgZW52KSB7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFlbnYpIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGUnKTtcbiAgfVxuICBpZiAoIXRlbXBsYXRlU3BlYyB8fCAhdGVtcGxhdGVTcGVjLm1haW4pIHtcbiAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdVbmtub3duIHRlbXBsYXRlIG9iamVjdDogJyArIHR5cGVvZiB0ZW1wbGF0ZVNwZWMpO1xuICB9XG5cbiAgdGVtcGxhdGVTcGVjLm1haW4uZGVjb3JhdG9yID0gdGVtcGxhdGVTcGVjLm1haW5fZDtcblxuICAvLyBOb3RlOiBVc2luZyBlbnYuVk0gcmVmZXJlbmNlcyByYXRoZXIgdGhhbiBsb2NhbCB2YXIgcmVmZXJlbmNlcyB0aHJvdWdob3V0IHRoaXMgc2VjdGlvbiB0byBhbGxvd1xuICAvLyBmb3IgZXh0ZXJuYWwgdXNlcnMgdG8gb3ZlcnJpZGUgdGhlc2UgYXMgcHNldWRvLXN1cHBvcnRlZCBBUElzLlxuICBlbnYuVk0uY2hlY2tSZXZpc2lvbih0ZW1wbGF0ZVNwZWMuY29tcGlsZXIpO1xuXG4gIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwcmVjb21waWxlZCB0ZW1wbGF0ZXMgd2l0aCBjb21waWxlci12ZXJzaW9uIDcgKDw0LjMuMClcbiAgY29uc3QgdGVtcGxhdGVXYXNQcmVjb21waWxlZFdpdGhDb21waWxlclY3ID0gdGVtcGxhdGVTcGVjLmNvbXBpbGVyICYmIHRlbXBsYXRlU3BlYy5jb21waWxlclswXSA9PT0gNztcblxuICBmdW5jdGlvbiBpbnZva2VQYXJ0aWFsV3JhcHBlcihwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgb3B0aW9ucy5oYXNoKTtcbiAgICAgIGlmIChvcHRpb25zLmlkcykge1xuICAgICAgICBvcHRpb25zLmlkc1swXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGxldCBvcHRpb25zV2l0aEhvb2tzID0gVXRpbHMuZXh0ZW5kKHt9LCBvcHRpb25zLCB7aG9va3M6IHRoaXMuaG9va3N9KTtcblxuICAgIGxldCByZXN1bHQgPSBlbnYuVk0uaW52b2tlUGFydGlhbC5jYWxsKHRoaXMsIHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnNXaXRoSG9va3MpO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBudWxsICYmIGVudi5jb21waWxlKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzW29wdGlvbnMubmFtZV0gPSBlbnYuY29tcGlsZShwYXJ0aWFsLCB0ZW1wbGF0ZVNwZWMuY29tcGlsZXJPcHRpb25zLCBlbnYpO1xuICAgICAgcmVzdWx0ID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdKGNvbnRleHQsIG9wdGlvbnNXaXRoSG9va3MpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIGlmIChvcHRpb25zLmluZGVudCkge1xuICAgICAgICBsZXQgbGluZXMgPSByZXN1bHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGlmICghbGluZXNbaV0gJiYgaSArIDEgPT09IGwpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpbmVzW2ldID0gb3B0aW9ucy5pbmRlbnQgKyBsaW5lc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBjb21waWxlZCB3aGVuIHJ1bm5pbmcgaW4gcnVudGltZS1vbmx5IG1vZGUnKTtcbiAgICB9XG4gIH1cblxuICAvLyBKdXN0IGFkZCB3YXRlclxuICBsZXQgY29udGFpbmVyID0ge1xuICAgIHN0cmljdDogZnVuY3Rpb24ob2JqLCBuYW1lLCBsb2MpIHtcbiAgICAgIGlmICghb2JqIHx8ICEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaiwgeyBsb2M6IGxvYyB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpbbmFtZV07XG4gICAgfSxcbiAgICBsb29rdXA6IGZ1bmN0aW9uKGRlcHRocywgbmFtZSkge1xuICAgICAgY29uc3QgbGVuID0gZGVwdGhzLmxlbmd0aDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGRlcHRoc1tpXSAmJiBkZXB0aHNbaV1bbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBkZXB0aHNbaV1bbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGxhbWJkYTogZnVuY3Rpb24oY3VycmVudCwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBjdXJyZW50ID09PSAnZnVuY3Rpb24nID8gY3VycmVudC5jYWxsKGNvbnRleHQpIDogY3VycmVudDtcbiAgICB9LFxuXG4gICAgZXNjYXBlRXhwcmVzc2lvbjogVXRpbHMuZXNjYXBlRXhwcmVzc2lvbixcbiAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcblxuICAgIGZuOiBmdW5jdGlvbihpKSB7XG4gICAgICBsZXQgcmV0ID0gdGVtcGxhdGVTcGVjW2ldO1xuICAgICAgcmV0LmRlY29yYXRvciA9IHRlbXBsYXRlU3BlY1tpICsgJ19kJ107XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG5cbiAgICBwcm9ncmFtczogW10sXG4gICAgcHJvZ3JhbTogZnVuY3Rpb24oaSwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICAgICAgbGV0IHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSxcbiAgICAgICAgICBmbiA9IHRoaXMuZm4oaSk7XG4gICAgICBpZiAoZGF0YSB8fCBkZXB0aHMgfHwgYmxvY2tQYXJhbXMgfHwgZGVjbGFyZWRCbG9ja1BhcmFtcykge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICAgIH0gZWxzZSBpZiAoIXByb2dyYW1XcmFwcGVyKSB7XG4gICAgICAgIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSA9IHdyYXBQcm9ncmFtKHRoaXMsIGksIGZuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjtcbiAgICB9LFxuXG4gICAgZGF0YTogZnVuY3Rpb24odmFsdWUsIGRlcHRoKSB7XG4gICAgICB3aGlsZSAodmFsdWUgJiYgZGVwdGgtLSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLl9wYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBudWxsLWNvbnRleHRzXG4gICAgbnVsbENvbnRleHQ6IE9iamVjdC5zZWFsKHt9KSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCAmJiB0ZW1wbGF0ZVNwZWMudXNlRGF0YSkge1xuICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBsZXQgZGVwdGhzLFxuICAgICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID0gY29udGV4dCAhPSBvcHRpb25zLmRlcHRoc1swXSA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpIDogb3B0aW9ucy5kZXB0aHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXB0aHMgPSBbY29udGV4dF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFpbihjb250ZXh0LyosIG9wdGlvbnMqLykge1xuICAgICAgcmV0dXJuICcnICsgdGVtcGxhdGVTcGVjLm1haW4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICB9XG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKHRlbXBsYXRlU3BlYy5tYWluLCBtYWluLCBjb250YWluZXIsIG9wdGlvbnMuZGVwdGhzIHx8IFtdLCBkYXRhLCBibG9ja1BhcmFtcyk7XG4gICAgcmV0dXJuIG1haW4oY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IFV0aWxzLmV4dGVuZCh7fSwgZW52LmhlbHBlcnMsIG9wdGlvbnMuaGVscGVycyk7XG5cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCkge1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIGVudi5wYXJ0aWFscywgb3B0aW9ucy5wYXJ0aWFscyk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZVBhcnRpYWwgfHwgdGVtcGxhdGVTcGVjLnVzZURlY29yYXRvcnMpIHtcbiAgICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBVdGlscy5leHRlbmQoe30sIGVudi5kZWNvcmF0b3JzLCBvcHRpb25zLmRlY29yYXRvcnMpO1xuICAgICAgfVxuXG4gICAgICBjb250YWluZXIuaG9va3MgPSB7fTtcblxuICAgICAgbGV0IGtlZXBIZWxwZXJJbkhlbHBlcnMgPSBvcHRpb25zLmFsbG93Q2FsbHNUb0hlbHBlck1pc3NpbmcgfHwgdGVtcGxhdGVXYXNQcmVjb21waWxlZFdpdGhDb21waWxlclY3O1xuICAgICAgbW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnaGVscGVyTWlzc2luZycsIGtlZXBIZWxwZXJJbkhlbHBlcnMpO1xuICAgICAgbW92ZUhlbHBlclRvSG9va3MoY29udGFpbmVyLCAnYmxvY2tIZWxwZXJNaXNzaW5nJywga2VlcEhlbHBlckluSGVscGVycyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG4gICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBvcHRpb25zLmRlY29yYXRvcnM7XG4gICAgICBjb250YWluZXIuaG9va3MgPSBvcHRpb25zLmhvb2tzO1xuICAgIH1cblxuICB9O1xuXG4gIHJldC5fY2hpbGQgPSBmdW5jdGlvbihpLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyAmJiAhYmxvY2tQYXJhbXMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ211c3QgcGFzcyBibG9jayBwYXJhbXMnKTtcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMgJiYgIWRlcHRocykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIHBhcmVudCBkZXB0aHMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCB0ZW1wbGF0ZVNwZWNbaV0sIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICBmdW5jdGlvbiBwcm9nKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBjdXJyZW50RGVwdGhzID0gZGVwdGhzO1xuICAgIGlmIChkZXB0aHMgJiYgY29udGV4dCAhPSBkZXB0aHNbMF0gJiYgIShjb250ZXh0ID09PSBjb250YWluZXIubnVsbENvbnRleHQgJiYgZGVwdGhzWzBdID09PSBudWxsKSkge1xuICAgICAgY3VycmVudERlcHRocyA9IFtjb250ZXh0XS5jb25jYXQoZGVwdGhzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm4oY29udGFpbmVyLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLFxuICAgICAgICBvcHRpb25zLmRhdGEgfHwgZGF0YSxcbiAgICAgICAgYmxvY2tQYXJhbXMgJiYgW29wdGlvbnMuYmxvY2tQYXJhbXNdLmNvbmNhdChibG9ja1BhcmFtcyksXG4gICAgICAgIGN1cnJlbnREZXB0aHMpO1xuICB9XG5cbiAgcHJvZyA9IGV4ZWN1dGVEZWNvcmF0b3JzKGZuLCBwcm9nLCBjb250YWluZXIsIGRlcHRocywgZGF0YSwgYmxvY2tQYXJhbXMpO1xuXG4gIHByb2cucHJvZ3JhbSA9IGk7XG4gIHByb2cuZGVwdGggPSBkZXB0aHMgPyBkZXB0aHMubGVuZ3RoIDogMDtcbiAgcHJvZy5ibG9ja1BhcmFtcyA9IGRlY2xhcmVkQmxvY2tQYXJhbXMgfHwgMDtcbiAgcmV0dXJuIHByb2c7XG59XG5cbi8qKlxuICogVGhpcyBpcyBjdXJyZW50bHkgcGFydCBvZiB0aGUgb2ZmaWNpYWwgQVBJLCB0aGVyZWZvcmUgaW1wbGVtZW50YXRpb24gZGV0YWlscyBzaG91bGQgbm90IGJlIGNoYW5nZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIGlmICghcGFydGlhbCkge1xuICAgIGlmIChvcHRpb25zLm5hbWUgPT09ICdAcGFydGlhbC1ibG9jaycpIHtcbiAgICAgIHBhcnRpYWwgPSBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIXBhcnRpYWwuY2FsbCAmJiAhb3B0aW9ucy5uYW1lKSB7XG4gICAgLy8gVGhpcyBpcyBhIGR5bmFtaWMgcGFydGlhbCB0aGF0IHJldHVybmVkIGEgc3RyaW5nXG4gICAgb3B0aW9ucy5uYW1lID0gcGFydGlhbDtcbiAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1twYXJ0aWFsXTtcbiAgfVxuICByZXR1cm4gcGFydGlhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZVBhcnRpYWwocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAvLyBVc2UgdGhlIGN1cnJlbnQgY2xvc3VyZSBjb250ZXh0IHRvIHNhdmUgdGhlIHBhcnRpYWwtYmxvY2sgaWYgdGhpcyBwYXJ0aWFsXG4gIGNvbnN0IGN1cnJlbnRQYXJ0aWFsQmxvY2sgPSBvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ107XG4gIG9wdGlvbnMucGFydGlhbCA9IHRydWU7XG4gIGlmIChvcHRpb25zLmlkcykge1xuICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCA9IG9wdGlvbnMuaWRzWzBdIHx8IG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aDtcbiAgfVxuXG4gIGxldCBwYXJ0aWFsQmxvY2s7XG4gIGlmIChvcHRpb25zLmZuICYmIG9wdGlvbnMuZm4gIT09IG5vb3ApIHtcbiAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIC8vIFdyYXBwZXIgZnVuY3Rpb24gdG8gZ2V0IGFjY2VzcyB0byBjdXJyZW50UGFydGlhbEJsb2NrIGZyb20gdGhlIGNsb3N1cmVcbiAgICBsZXQgZm4gPSBvcHRpb25zLmZuO1xuICAgIHBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gZnVuY3Rpb24gcGFydGlhbEJsb2NrV3JhcHBlcihjb250ZXh0LCBvcHRpb25zID0ge30pIHtcblxuICAgICAgLy8gUmVzdG9yZSB0aGUgcGFydGlhbC1ibG9jayBmcm9tIHRoZSBjbG9zdXJlIGZvciB0aGUgZXhlY3V0aW9uIG9mIHRoZSBibG9ja1xuICAgICAgLy8gaS5lLiB0aGUgcGFydCBpbnNpZGUgdGhlIGJsb2NrIG9mIHRoZSBwYXJ0aWFsIGNhbGwuXG4gICAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBjdXJyZW50UGFydGlhbEJsb2NrO1xuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgaWYgKGZuLnBhcnRpYWxzKSB7XG4gICAgICBvcHRpb25zLnBhcnRpYWxzID0gVXRpbHMuZXh0ZW5kKHt9LCBvcHRpb25zLnBhcnRpYWxzLCBmbi5wYXJ0aWFscyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFsQmxvY2spIHtcbiAgICBwYXJ0aWFsID0gcGFydGlhbEJsb2NrO1xuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICB9IGVsc2UgaWYgKHBhcnRpYWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIHJldHVybiBwYXJ0aWFsKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyByZXR1cm4gJyc7IH1cblxuZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuICBpZiAoIWRhdGEgfHwgISgncm9vdCcgaW4gZGF0YSkpIHtcbiAgICBkYXRhID0gZGF0YSA/IGNyZWF0ZUZyYW1lKGRhdGEpIDoge307XG4gICAgZGF0YS5yb290ID0gY29udGV4dDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcykge1xuICBpZiAoZm4uZGVjb3JhdG9yKSB7XG4gICAgbGV0IHByb3BzID0ge307XG4gICAgcHJvZyA9IGZuLmRlY29yYXRvcihwcm9nLCBwcm9wcywgY29udGFpbmVyLCBkZXB0aHMgJiYgZGVwdGhzWzBdLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICBVdGlscy5leHRlbmQocHJvZywgcHJvcHMpO1xuICB9XG4gIHJldHVybiBwcm9nO1xufVxuIl19\n","/* global window */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUNlLFVBQVMsVUFBVSxFQUFFOztBQUVsQyxNQUFJLElBQUksR0FBRyxPQUFPLE1BQU0sS0FBSyxXQUFXLEdBQUcsTUFBTSxHQUFHLE1BQU07TUFDdEQsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7O0FBRWxDLFlBQVUsQ0FBQyxVQUFVLEdBQUcsWUFBVztBQUNqQyxRQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFO0FBQ2xDLFVBQUksQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDO0tBQy9CO0FBQ0QsV0FBTyxVQUFVLENBQUM7R0FDbkIsQ0FBQztDQUNIIiwiZmlsZSI6Im5vLWNvbmZsaWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdpbmRvdyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oSGFuZGxlYmFycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBsZXQgcm9vdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93LFxuICAgICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==\n"],"sourceRoot":""}