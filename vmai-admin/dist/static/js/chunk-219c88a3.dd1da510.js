(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-219c88a3"],{"2bcc":function(t,e,r){},"345e":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.BaseUrl+"/admin/system/upload",headers:t.headers,name:"image","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?r("img",{staticClass:"avatar object-contain",attrs:{src:t.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])},a=[],o=r("5f87"),i={props:{url:{type:String,default:""}},computed:{imageUrl:{get:function(){return this.url},set:function(t){this.$emit("update:url",t)}}},data:function(){return{BaseUrl:"https://vc.uiop.xyz/api",headers:{Authorization:Object(o["a"])()}}},methods:{handleAvatarSuccess:function(t,e){this.imageUrl="https://"+t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e}}},s=i,l=(r("8e4f"),r("2877")),c=Object(l["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},"8e4f":function(t,e,r){"use strict";var n=r("2bcc"),a=r.n(n);a.a},"958c":function(t,e,r){"use strict";e["a"]={status:{1:"上架",2:"删除",5:"下架"},position:{1:"顶部导航栏",2:"底部导航栏"},displayModes:{1:"横版海报",2:"竖版富文本"},linkerType:[{label:1,name:"无交互"},{label:2,name:"跳转外链"},{label:3,name:"跳转内链"},{label:4,name:"跳转视频"}]}},a10a:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:" w-full px-10 mt-12"},[r("el-button",{staticClass:" mb-5",attrs:{type:"primary"},on:{click:t.addBanner}},[t._v("添加人物")]),t._v(" "),r("el-table",{attrs:{data:t.list,border:""}},[r("el-table-column",{attrs:{prop:"name",label:"名字"}}),t._v(" "),r("el-table-column",{attrs:{prop:"titleZh",label:"职位"}}),t._v(" "),r("el-table-column",{attrs:{prop:"contentZh",label:"描述"}}),t._v(" "),r("el-table-column",{attrs:{label:"图片",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("el-image",{staticClass:" w-20 h-20 object-contain",attrs:{src:e.bg.md,"preview-src-list":[e.bg.md]}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"weight",label:"排序"}}),t._v(" "),r("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("el-tag",{attrs:{type:1===n.Meta.state?"success":"danger"}},[t._v(t._s(n.statusText))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.setUpOrDown(n)}}},[t._v(t._s(1==n.Meta.state?"下架":"上架"))]),t._v(" "),r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.editMenu(n)}}},[t._v("编辑")]),t._v(" "),r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.deleteMenu(n)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("confirm-dialog",{ref:"confirmDialog"})],1)},a=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),i=(r("96cf"),r("3b8d")),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"添加人物",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,"label-position":"right",rules:t.rules,"label-width":"120px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"名字"}},[r("el-input",{staticClass:" w-11/12",model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"图片",prop:"mdImage"}},[r("image-uploader",{attrs:{url:t.form.mdImage},on:{"update:url":function(e){return t.$set(t.form,"mdImage",e)}}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"职位",prop:"titleZh"}},[r("el-input",{staticClass:" w-11/12",model:{value:t.form.titleZh,callback:function(e){t.$set(t.form,"titleZh",e)},expression:"form.titleZh"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"描述",prop:"contentZh"}},[r("el-input",{staticClass:" w-11/12",attrs:{type:"textarea"},model:{value:t.form.contentZh,callback:function(e){t.$set(t.form,"contentZh",e)},expression:"form.contentZh"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"权重",prop:"weight"}},[r("el-input",{staticClass:" w-8/12",attrs:{type:"number",placeholder:"填写权重"},model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",t._n(e))},expression:"form.weight"}})],1)],1)],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.okHandler}},[t._v("确 定")])],1)],1)},l=[],c=(r("7f7f"),r("345e")),u=r("365c");function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(r,!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p={components:{ImageUploader:c["a"]},data:function(){return{dialogVisible:!1,resolve:null,reject:null,opType:"",form:{name:"",mdImage:"",weight:"",titleZh:"",contentZh:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mdImage:[{required:!0,message:"请输入图片",trigger:"blur"}],titleZh:[{required:!0,message:"请输入职位",trigger:"blur"}],contentZh:[{required:!0,message:"请输入描述",trigger:"blur"}],weight:[{required:!0,message:"请输入权重",trigger:"blur"}]},cloneData:{}}},mounted:function(){this.cloneData=m({},this.form)},methods:{show:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";return this.dialogVisible=!0,this.opType=r,this.form="add"==r?m({},this.cloneData):{id:t.id,name:t.name,mdImage:t.bg.md,titleZh:t.title.zh,contentZh:t.content.zh,weight:t.weight},new Promise((function(t,r){e.resolve=t,e.reject=r}))},close:function(){this.dialogVisible=!1,this.reject("取消")},okHandler:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(e){console.log({name:t.form.name,type:3,bg:{md:t.form.mdImage},weight:t.form.weight,title:{zh:t.form.titleZh},content:{zh:t.form.contentZh}});var r={name:t.form.name,type:3,bg:{md:t.form.mdImage},weight:t.form.weight,title:{zh:t.form.titleZh},content:{zh:t.form.contentZh}};"add"==t.opType?Object(u["a"])().then((function(e){t.dialogVisible=!1,t.resolve("确定")})):Object(u["g"])(t.form.id,r).then((function(e){t.dialogVisible=!1,t.resolve(e)}))}}))}}},h=p,d=r("2877"),b=Object(d["a"])(h,s,l,!1,null,"00f60f3c",null),g=b.exports,v=r("958c");function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(r,!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O={components:{ConfirmDialog:g},data:function(){return{list:[]}},mounted:function(){this.getList()},methods:{addBanner:function(){var t=this;this.$refs.confirmDialog.show().then((function(e){t.getList()})).catch((function(t){}))},editMenu:function(t){var e=this;this.$refs.confirmDialog.show(t,"edit").then((function(t){e.getList()})).catch((function(t){}))},getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])({types:[3],parent_id:"",states:[1,5]});case 2:e=t.sent,r=e.result,this.list=r.map((function(t){return y({},t,{statusText:v["a"].status[t.Meta.state],titleZh:t.title.zh,contentZh:t.content.zh})}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setUpOrDown:function(t){var e=this,r=1===t.Meta.state?5:1;Object(u["h"])(t.id,r).then((function(t){e.$message.success(1==r?"上架成功":"下架成功"),e.getList()}))},deleteMenu:function(t){var e=this;Object(u["h"])(t.id,2).then((function(t){e.$message.success("删除成功"),e.getList()}))}}},_=O,j=Object(d["a"])(_,n,a,!1,null,null,null);e["default"]=j.exports}}]);