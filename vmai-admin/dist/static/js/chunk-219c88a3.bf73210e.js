(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-219c88a3"],{"2bcc":function(t,e,n){},"345e":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.BaseUrl+"/admin/system/upload",headers:t.headers,name:"image","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?n("img",{staticClass:"avatar object-contain",attrs:{src:t.imageUrl}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])},a=[],o=n("5f87"),l={props:{url:{type:String,default:""}},computed:{imageUrl:{get:function(){return this.url},set:function(t){this.$emit("update:url",t)}}},data:function(){return{BaseUrl:"https://vc.uiop.xyz/api",headers:{Authorization:Object(o["a"])()}}},methods:{handleAvatarSuccess:function(t,e){this.imageUrl="https://"+t.url},beforeAvatarUpload:function(t){var e=t.size/1024/1024<10;return e||this.$message.error("上传图片大小不能超过 10MB!"),e}}},i=l,s=(n("8e4f"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},"8e4f":function(t,e,n){"use strict";var r=n("2bcc"),a=n.n(r);a.a},"958c":function(t,e,n){"use strict";e["a"]={status:{1:"上架",2:"删除",5:"下架"},position:{1:"顶部导航栏",2:"底部导航栏"},displayModes:{1:"横版海报"},linkerType:[{label:1,name:"无交互"},{label:2,name:"跳转外链"},{label:3,name:"跳转内链"},{label:4,name:"跳转视频"}]}},a10a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:" w-full px-10 mt-12"},[n("el-button",{staticClass:" mb-5",attrs:{type:"primary"},on:{click:t.addBanner}},[t._v("添加人物")]),t._v(" "),n("el-table",{attrs:{data:t.list,border:""}},[n("el-table-column",{attrs:{prop:"name",label:"名字"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title.zh",label:"职位"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title.en",label:"英文职位"}}),t._v(" "),n("el-table-column",{attrs:{prop:"content.zh",label:"描述"}}),t._v(" "),n("el-table-column",{attrs:{prop:"content.en",label:"英文描述"}}),t._v(" "),n("el-table-column",{attrs:{label:"图片",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[n("el-image",{staticClass:" w-20 h-20 object-contain",attrs:{src:e.bg.md+"?x-oss-process=image/resize,w_100",fit:"contain","preview-src-list":[e.bg.md]}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"weight",label:"权重"}}),t._v(" "),n("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-tag",{attrs:{type:1===r.Meta.state?"success":"danger"}},[t._v(t._s(r.statusText))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.setUpOrDown(r)}}},[t._v(t._s(1==r.Meta.state?"下架":"上架"))]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.editMenu(r)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.deleteMenu(r)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("confirm-dialog",{ref:"confirmDialog"})],1)},a=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),l=(n("96cf"),n("3b8d")),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"添加人物",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"ruleForm",attrs:{model:t.form,"label-position":"right",rules:t.rules,"label-width":"120px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"名字"}},[n("el-input",{staticClass:" w-11/12",model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"图片",prop:"mdImage"}},[n("image-uploader",{attrs:{url:t.form.mdImage},on:{"update:url":function(e){return t.$set(t.form,"mdImage",e)}}})],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"职位",prop:"titleZh"}},[n("el-input",{staticClass:" w-11/12",model:{value:t.form.titleZh,callback:function(e){t.$set(t.form,"titleZh",e)},expression:"form.titleZh"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"英文职位"}},[n("el-input",{staticClass:" w-11/12",model:{value:t.form.titleEn,callback:function(e){t.$set(t.form,"titleEn",e)},expression:"form.titleEn"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"描述",prop:"contentZh"}},[n("el-input",{staticClass:" w-11/12",attrs:{type:"textarea"},model:{value:t.form.contentZh,callback:function(e){t.$set(t.form,"contentZh",e)},expression:"form.contentZh"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"英文描述"}},[n("el-input",{staticClass:" w-11/12",attrs:{type:"textarea"},model:{value:t.form.contentEn,callback:function(e){t.$set(t.form,"contentEn",e)},expression:"form.contentEn"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"权重",prop:"weight"}},[n("el-input",{staticClass:" w-8/12",attrs:{type:"number",placeholder:"填写权重"},model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",t._n(e))},expression:"form.weight"}})],1)],1)],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.okHandler}},[t._v("确 定")])],1)],1)},s=[],c=(n("7f7f"),n("345e")),u=n("365c");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={components:{ImageUploader:c["a"]},data:function(){return{dialogVisible:!1,resolve:null,reject:null,opType:"",form:{name:"",mdImage:"",weight:"",titleZh:"",titleEn:"",contentZh:"",contentEn:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mdImage:[{required:!0,message:"请输入图片",trigger:"blur"}],titleZh:[{required:!0,message:"请输入职位",trigger:"blur"}],contentZh:[{required:!0,message:"请输入描述",trigger:"blur"}],weight:[{required:!0,message:"请输入权重",trigger:"blur"}]},cloneData:{}}},mounted:function(){this.cloneData=f({},this.form)},methods:{show:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";return this.dialogVisible=!0,this.opType=n,this.form="add"==n?f({},this.cloneData):{id:t.id,name:t.name,mdImage:t.bg.md,titleZh:t.title.zh,titleEn:t.title.en,contentZh:t.content.zh,contentEn:t.content.en,weight:t.weight},new Promise((function(t,n){e.resolve=t,e.reject=n}))},close:function(){this.dialogVisible=!1,this.reject("取消")},okHandler:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(e){console.log({name:t.form.name,type:3,bg:{md:t.form.mdImage},weight:t.form.weight,title:{zh:t.form.titleZh,en:t.form.titleEn},content:{zh:t.form.contentZh,en:t.form.contentEn}});var n={name:t.form.name,type:3,bg:{md:t.form.mdImage},weight:t.form.weight,title:{zh:t.form.titleZh,en:t.form.titleEn},content:{zh:t.form.contentZh,en:t.form.contentEn}};"add"==t.opType?Object(u["a"])(n).then((function(e){t.dialogVisible=!1,t.resolve("确定")})):Object(u["g"])(t.form.id,n).then((function(e){t.dialogVisible=!1,t.resolve(e)}))}}))}}},d=p,b=n("2877"),h=Object(b["a"])(d,i,s,!1,null,"fe13dc16",null),g=h.exports,v=n("958c");function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O={components:{ConfirmDialog:g},data:function(){return{list:[]}},mounted:function(){this.getList()},methods:{addBanner:function(){var t=this;this.$refs.confirmDialog.show().then((function(e){t.getList()})).catch((function(t){}))},editMenu:function(t){var e=this;this.$refs.confirmDialog.show(t,"edit").then((function(t){e.getList()})).catch((function(t){}))},getList:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])({types:[3],parent_id:"",states:[1,5]});case 2:e=t.sent,n=e.result,this.list=n.map((function(t){return y({},t,{statusText:v["a"].status[t.Meta.state]})}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setUpOrDown:function(t){var e=this,n=1===t.Meta.state?5:1;Object(u["h"])(t.id,n).then((function(t){e.$message.success(1==n?"上架成功":"下架成功"),e.getList()}))},deleteMenu:function(t){var e=this;Object(u["h"])(t.id,2).then((function(t){e.$message.success("删除成功"),e.getList()}))}}},_=O,j=Object(b["a"])(_,r,a,!1,null,null,null);e["default"]=j.exports}}]);