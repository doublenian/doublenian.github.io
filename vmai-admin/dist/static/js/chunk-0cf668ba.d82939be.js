(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cf668ba"],{"2bcc":function(t,e,r){},"345e":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.BaseUrl+"/admin/system/upload",headers:t.headers,name:"image","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?r("img",{staticClass:"avatar object-contain",attrs:{src:t.imageUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])},n=[],o=r("5f87"),l={props:{url:{type:String,default:""}},computed:{imageUrl:{get:function(){return this.url},set:function(t){this.$emit("update:url",t)}}},data:function(){return{BaseUrl:"https://vc.uiop.xyz/api",headers:{Authorization:Object(o["a"])()}}},methods:{handleAvatarSuccess:function(t,e){this.imageUrl="https://"+t.url},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,r=t.size/1024/1024<50;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 50MB!"),e&&r}}},s=l,i=(r("8e4f"),r("2877")),c=Object(i["a"])(s,a,n,!1,null,null,null);e["a"]=c.exports},"386b":function(t,e,r){var a=r("5ca1"),n=r("79e5"),o=r("be13"),l=/"/g,s=function(t,e,r,a){var n=String(o(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(a).replace(l,"&quot;")+'"'),s+">"+n+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(s),a(a.P+a.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}},"432a":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:" w-full px-10 mt-12"},[r("el-button",{staticClass:" mb-5",attrs:{type:"primary"},on:{click:t.addBanner}},[t._v("添加轮播")]),t._v(" "),r("el-table",{attrs:{data:t.list,border:""}},[r("el-table-column",{attrs:{label:"图片",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[r("el-image",{staticClass:" w-20 h-20 object-contain",attrs:{src:e.bg.md,"preview-src-list":[e.bg.md]}})]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"weight",label:"权重"}}),t._v(" "),r("el-table-column",{attrs:{label:"超链",width:"240px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-link",{attrs:{type:"primary",href:a.link.herf,target:"_blank"}},[t._v(t._s(a.link.herf))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"weight",label:"排序"}}),t._v(" "),r("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-tag",{attrs:{type:1===a.Meta.state?"success":"danger"}},[t._v(t._s(a.statusText))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.setUpOrDown(a)}}},[t._v(t._s(1==a.Meta.state?"下架":"上架"))]),t._v(" "),r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){return t.deleteMenu(a)}}},[t._v("删除")])]}}])})],1),t._v(" "),r("confirm-dialog",{ref:"confirmDialog"})],1)},n=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),l=(r("7f7f"),r("96cf"),r("3b8d")),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"添加Banner",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,"label-position":"right",rules:t.rules,"label-width":"120px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"PC图片(必传)",prop:"mdImage"}},[r("image-uploader",{attrs:{url:t.form.mdImage},on:{"update:url":function(e){return t.$set(t.form,"mdImage",e)}}})],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"手机图片(可选)",prop:"smImage"}},[r("image-uploader",{attrs:{url:t.form.smImage},on:{"update:url":function(e){return t.$set(t.form,"smImage",e)}}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"主标题"}},[r("el-input",{staticClass:" w-11/12",model:{value:t.form.title.zh,callback:function(e){t.$set(t.form.title,"zh",e)},expression:"form.title.zh"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"副标题"}},[r("el-input",{staticClass:" w-11/12",attrs:{type:"textarea"},model:{value:t.form.content.zh,callback:function(e){t.$set(t.form.content,"zh",e)},expression:"form.content.zh"}})],1)],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"交互方式",prop:"type"}},[r("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[r("el-radio",{attrs:{label:1}},[t._v("无交互")]),t._v(" "),r("el-radio",{attrs:{label:2}},[t._v("跳转外链")]),t._v(" "),r("el-radio",{attrs:{label:3}},[t._v("跳转内链")]),t._v(" "),r("el-radio",{attrs:{label:4}},[t._v("播放视频")])],1)],1)],1),t._v(" "),1!==t.form.type?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"链接地址",prop:"link"}},[r("el-input",{staticClass:" w-11/12",model:{value:t.form.link,callback:function(e){t.$set(t.form,"link",e)},expression:"form.link"}})],1)],1):t._e(),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"跳转模式",prop:"target"}},[r("el-select",{attrs:{placeholder:"请选择跳转模式"},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}},t._l(t.jumpModeOptions,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"权重",prop:"weight"}},[r("el-input",{staticClass:" w-8/12",attrs:{type:"number",placeholder:"填写权重"},model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",t._n(e))},expression:"form.weight"}})],1)],1)],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.okHandler}},[t._v("确 定")])],1)],1)},i=[],c=(r("b54a"),r("345e")),u=r("365c");function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(r,!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p={components:{ImageUploader:c["a"]},data:function(){return{dialogVisible:!1,modalData:"",resolve:null,reject:null,jumpModeOptions:[{label:"当前页面",value:0},{label:"新页面",value:1}],form:{mdImage:"",smImage:"",type:"",weight:"",link:"",target:"",title:{en:"",zh:""},content:{en:"",zh:""}},rules:{mdImage:[{required:!0,message:"请输入PC图片",trigger:"blur"}],type:[{required:!0,message:"请输入交互方式",trigger:"blur"}],link:[{required:!0,message:"请输入链接地址",trigger:"blur"}],weight:[{required:!0,message:"请输入权重",trigger:"blur"}],target:[{required:!0,message:"请选择跳转模式",trigger:"blur"}]},cloneData:{}}},mounted:function(){this.cloneData=m({},this.form)},methods:{show:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";return this.dialogVisible=!0,"add"==r?this.form=m({},this.cloneData):this.modalData=t,new Promise((function(t,r){e.resolve=t,e.reject=r}))},close:function(){this.dialogVisible=!1,this.reject("取消")},okHandler:function(){var t=this;this.$refs.ruleForm.validate((function(e){e&&(console.log({bg:{md:t.form.mdImage,sm:t.form.smImage},link:{herf:t.form.link,target:t.form.target},type:t.form.type,weight:t.form.weight}),Object(u["a"])({name:"banner",bg:{md:t.form.mdImage,sm:t.form.smImage},link:{herf:t.form.link,target:t.form.target},type:t.form.type,weight:t.form.weight,title:{en:t.form.title.en,zh:t.form.title.zh},content:{en:t.form.content.en,zh:t.form.content.zh}}).then((function(e){t.dialogVisible=!1,t.resolve("确定")})))}))}}},d=p,g=r("2877"),b=Object(g["a"])(d,s,i,!1,null,"0869335e",null),h=b.exports,v=r("958c");function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(r,!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var _={components:{ConfirmDialog:h},data:function(){return{list:[]}},mounted:function(){this.getList()},methods:{addBanner:function(){var t=this;this.$refs.confirmDialog.show().then((function(e){t.getList()})).catch((function(t){}))},getList:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["b"])({parent_id:"",states:[1,5]});case 2:e=t.sent,r=e.result,a=r.filter((function(t){return"banner"===t.name})),this.list=a.map((function(t){return y({},t,{statusText:v["a"].status[t.Meta.state]})}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setUpOrDown:function(t){var e=this,r=1===t.Meta.state?5:1;Object(u["g"])(t.id,r).then((function(t){e.$message.success(1==r?"上架成功":"下架成功"),e.getList()}))},deleteMenu:function(t){var e=this;Object(u["g"])(t.id,2).then((function(t){e.$message.success("删除成功"),e.getList()}))}}},O=_,k=Object(g["a"])(O,a,n,!1,null,null,null);e["default"]=k.exports},"8e4f":function(t,e,r){"use strict";var a=r("2bcc"),n=r.n(a);n.a},"958c":function(t,e,r){"use strict";e["a"]={status:{1:"上架",2:"删除",5:"下架"},position:{1:"顶部导航栏",2:"底部导航栏"},displayModes:{1:"横版海报",2:"竖版富文本"}}},b54a:function(t,e,r){"use strict";r("386b")("link",(function(t){return function(e){return t(this,"a","href",e)}}))}}]);